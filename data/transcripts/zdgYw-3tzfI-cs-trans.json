[{"text": "[MUSIC PLAYING]", "start": 0.5, "duration": 3.492}, {"text": "DAVID MALAN: All right.", "start": 49.91, "duration": 1.28}, {"text": "This CS50 and this is\nlecture 7 wherein we pick up", "start": 51.19, "duration": 3.87}, {"text": "where we left off last time\nin talking more about Python,", "start": 55.06, "duration": 3.0}, {"text": "but this time using Python for\neven more powerful purposes,", "start": 58.06, "duration": 4.28}, {"text": "an alliteration I didn't intend\nuntil I just said it there.", "start": 62.34, "duration": 2.64}, {"text": "But the goal here with\nPython now is to actually use", "start": 64.98, "duration": 2.68}, {"text": "this language to generate another\nlanguage, in particular HTML.", "start": 67.66, "duration": 3.87}, {"text": "And what we'll do is start to provide\nall the more of a mental model", "start": 71.53, "duration": 3.48}, {"text": "for what you would call\nseparation of concerns, whereby", "start": 75.01, "duration": 2.49}, {"text": "when you design more complicated\nweb based, or rather when you design", "start": 77.5, "duration": 3.69}, {"text": "more complicated software, you tend to\ntry to adopt certain design patterns so", "start": 81.19, "duration": 4.491}, {"text": "that you're not just writing\neverything in one big file that", "start": 85.681, "duration": 2.499}, {"text": "gets a little confusing, unwieldy\nto maintain and to add to over time.", "start": 88.18, "duration": 3.81}, {"text": "But you start to separate your\nconcerns, and your functionality,", "start": 91.99, "duration": 2.94}, {"text": "and your features, and\nyour collaborators' work", "start": 94.93, "duration": 2.04}, {"text": "into different files and\ndifferent methodologies.", "start": 96.97, "duration": 2.119}, {"text": "So we'll try to give you some of these\nindustry standard approaches today", "start": 99.089, "duration": 3.041}, {"text": "and why they actually solved problems.", "start": 102.13, "duration": 1.71}, {"text": "But, of course, how did we get here?", "start": 103.84, "duration": 1.5}, {"text": "A few weeks ago, we\ntalked about this thing,", "start": 105.34, "duration": 1.58}, {"text": "this virtual envelope\nthat just represents", "start": 106.92, "duration": 1.99}, {"text": "packets of information, zeros and ones,\ngoing across the internet from point A", "start": 108.91, "duration": 3.69}, {"text": "to point B. And among the\nmessages in these envelopes", "start": 112.6, "duration": 2.52}, {"text": "might be for web requests.", "start": 115.12, "duration": 1.32}, {"text": "And we talked about HTTP, a protocol,\nhypertext transfer protocol,", "start": 116.44, "duration": 4.47}, {"text": "that just sends message like\nthis inside of the envelope.", "start": 120.91, "duration": 3.0}, {"text": "And this is requesting, of\ncourse, the default page", "start": 123.91, "duration": 2.19}, {"text": "of a website as implied by the slash.", "start": 126.1, "duration": 2.01}, {"text": "And in many cases, but\nnot always, this implies", "start": 128.11, "duration": 2.92}, {"text": "a default file name of index.html.", "start": 131.03, "duration": 2.24}, {"text": "But that's a human\nconvention, not a requirement.", "start": 133.27, "duration": 3.27}, {"text": "Hopefully, the server responds with\na numeric code equal to what integer?", "start": 136.54, "duration": 4.3}, {"text": "200, hopefully, a number\nthat we never actually", "start": 143.48, "duration": 2.74}, {"text": "really see unless you\nget more comfortable", "start": 146.22, "duration": 1.92}, {"text": "and start poking around\nChrome's inspector", "start": 148.14, "duration": 2.299}, {"text": "and you look at your network traffic.", "start": 150.439, "duration": 1.541}, {"text": "Right.", "start": 151.98, "duration": 0.499}, {"text": "So here is an actual\nsuccessful response,", "start": 152.479, "duration": 2.301}, {"text": "which means everything is indeed OK.", "start": 154.78, "duration": 1.94}, {"text": "And if the browser looks a little\nfarther down in the virtual envelope,", "start": 156.72, "duration": 3.35}, {"text": "if you will, it will see another\nlanguage called HTML, HyperText Markup", "start": 160.07, "duration": 3.88}, {"text": "Language, which is the stuff\nwe wrote a couple of weeks ago", "start": 163.95, "duration": 2.71}, {"text": "and you'll continue writing this week as\nyou now dynamically generate websites.", "start": 166.66, "duration": 4.58}, {"text": "But what we'll introduce today is\nwhat's also known as a framework,", "start": 171.24, "duration": 3.96}, {"text": "or, more precisely, a microframework,\nbecause we'll see in just a few minutes", "start": 175.2, "duration": 3.72}, {"text": "time that it can actually be\nreally annoying and really tedious", "start": 178.92, "duration": 3.17}, {"text": "to generate websites\nautomatically using Python", "start": 182.09, "duration": 3.4}, {"text": "if you have to write Python code alone.", "start": 185.49, "duration": 2.4}, {"text": "And so humans, over\nthe past several years,", "start": 187.89, "duration": 1.86}, {"text": "have noticed, wow, every time I\nmake a web application using Python,", "start": 189.75, "duration": 3.72}, {"text": "I find myself typing\nthe same lines of code", "start": 193.47, "duration": 2.22}, {"text": "again and again just to get started,\nor when I'm collaborating with someone", "start": 195.69, "duration": 3.295}, {"text": "else, I find that, ooh, it's\na little hard to collaborate", "start": 198.985, "duration": 2.375}, {"text": "if we're all working in the same file.", "start": 201.36, "duration": 2.01}, {"text": "So humans have invented\nwhat are called frameworks.", "start": 203.37, "duration": 2.28}, {"text": "And this is an example\nof code written in Python", "start": 205.65, "duration": 3.39}, {"text": "but using a framework called Flask.", "start": 209.04, "duration": 2.49}, {"text": "So whereas Bootstrap, which\nyou've played with a little bit,", "start": 211.53, "duration": 3.21}, {"text": "is a framework for CSS and JavaScript,\nthey have some dynamic features", "start": 214.74, "duration": 3.9}, {"text": "as well, Flask is a\nframework for Python that", "start": 218.64, "duration": 3.36}, {"text": "just gives you some library\ncode that you can use freely", "start": 222.0, "duration": 3.48}, {"text": "in your own applications.", "start": 225.48, "duration": 1.47}, {"text": "And it just makes it, ultimately, a\nlittle easier to get your work done", "start": 226.95, "duration": 3.54}, {"text": "and build the thing you\nwant to build as opposed", "start": 230.49, "duration": 2.13}, {"text": "to having to reinvent the wheel again\nand again like people before you.", "start": 232.62, "duration": 4.92}, {"text": "And so here is a methodology to\nwhich I alluded earlier just to have", "start": 237.54, "duration": 4.14}, {"text": "a mental model for the coming weeks.", "start": 241.68, "duration": 1.8}, {"text": "So up until now, pretty\nmuch every program", "start": 243.48, "duration": 2.37}, {"text": "we've written in C and\nmost recently in Python", "start": 245.85, "duration": 3.81}, {"text": "you could call like controller code\nor controller logic or business logic.", "start": 249.66, "duration": 4.45}, {"text": "Right.", "start": 254.11, "duration": 0.5}, {"text": "It's all about getting\nsomething done logically,", "start": 254.61, "duration": 2.37}, {"text": "usually in one file, maybe two files if\nyou have another helpers.ce or header", "start": 256.98, "duration": 4.38}, {"text": "file or whatnot.", "start": 261.36, "duration": 1.35}, {"text": "But we've been writing logic.", "start": 262.71, "duration": 1.41}, {"text": "But today and two weeks\nago when we will focus", "start": 264.12, "duration": 2.82}, {"text": "on web programming in HTML and CSS,\nthere's the second part of our world.", "start": 266.94, "duration": 4.12}, {"text": "There's like the logic that gets the\ninteresting work done with loops,", "start": 271.06, "duration": 3.32}, {"text": "and conditions, and all that.", "start": 274.38, "duration": 1.47}, {"text": "But there's also now going\nto be the aesthetics,", "start": 275.85, "duration": 2.13}, {"text": "the stuff that the user actually sees\nand the way you present your data.", "start": 277.98, "duration": 4.41}, {"text": "So we're going to just introduce\ntwo letters of an acronym", "start": 282.39, "duration": 2.91}, {"text": "today moving forward.", "start": 285.3, "duration": 1.37}, {"text": "Anytime you start writing\nlogical code in Python,", "start": 286.67, "duration": 2.92}, {"text": "it's going to be called your controller.", "start": 289.59, "duration": 1.89}, {"text": "It's sort of like the machine that\noperates your entire web application,", "start": 291.48, "duration": 3.72}, {"text": "but anytime you do\nsomething more aesthetic,", "start": 295.2, "duration": 1.98}, {"text": "we're going to call that your view\ncode, so C and V being the letters here.", "start": 297.18, "duration": 4.29}, {"text": "And this just refers to\na separation of concerns.", "start": 301.47, "duration": 2.43}, {"text": "Your logic goes in this file.", "start": 303.9, "duration": 1.44}, {"text": "And your aesthetics and\nformatting go in this other file.", "start": 305.34, "duration": 2.82}, {"text": "Next week, we'll introduce databases\nin SQL, structured query language.", "start": 308.16, "duration": 3.93}, {"text": "And we'll introduce an M here,\nbecause the acronym that's", "start": 312.09, "duration": 3.14}, {"text": "in vogue for quite some time\nnow is MVC, though there", "start": 315.23, "duration": 2.83}, {"text": "are alternatives to this mental model.", "start": 318.06, "duration": 1.71}, {"text": "And that just means there\nare three different types", "start": 319.77, "duration": 1.83}, {"text": "of things you should be thinking\nabout when building an application.", "start": 321.6, "duration": 2.833}, {"text": "But today we're going to focus on\nthese two, controller and view.", "start": 324.433, "duration": 2.747}, {"text": "And up until now, we've pretty much\nbeen doing entirely controller stuff", "start": 327.18, "duration": 3.66}, {"text": "when writing code.", "start": 330.84, "duration": 1.29}, {"text": "So the motivation, ultimately, will\nbe to get to the point of building,", "start": 332.13, "duration": 3.81}, {"text": "essentially, this, the freshman\nintramural sports website,", "start": 335.94, "duration": 3.6}, {"text": "which I was the first one to\nmake back in 1996 as a sophomore,", "start": 339.54, "duration": 4.86}, {"text": "maybe 1997 as a junior, after\nhaving only taken CS50 and a follow", "start": 344.4, "duration": 3.72}, {"text": "on class CS51.", "start": 348.12, "duration": 1.47}, {"text": "And even though this is horrifying\nto see nowadays, underneath the hood", "start": 349.59, "duration": 4.53}, {"text": "was a whole bunch of controller logic\nand a whole bunch of model code,", "start": 354.12, "duration": 3.53}, {"text": "even though I don't think\nMVC existed as an acronym", "start": 357.65, "duration": 2.41}, {"text": "back then till humans\nfigured out the pattern.", "start": 360.06, "duration": 2.62}, {"text": "But what it did have via the menu up\nhere was a whole lot of functionality.", "start": 362.68, "duration": 3.72}, {"text": "So no longer did you have to walk\nacross campus filling out a form", "start": 366.4, "duration": 2.99}, {"text": "and drop off a sheet of paper in\nan RA or a proctor's dorm room.", "start": 369.39, "duration": 3.69}, {"text": "You can instead just go on the web,\nwhich all of us surely take for granted", "start": 373.08, "duration": 3.24}, {"text": "today, fill out a web-based form.", "start": 376.32, "duration": 2.07}, {"text": "And then at the time, the\nproctor in charge of froshims", "start": 378.39, "duration": 3.63}, {"text": "would get an email confirming who\nhad actually registered for a sport.", "start": 382.02, "duration": 3.36}, {"text": "And eventually we added CSV\nfiles, comma separated values", "start": 385.38, "duration": 2.75}, {"text": "files like spreadsheets, in\nwhich the data was saved.", "start": 388.13, "duration": 2.43}, {"text": "Then we had this really\ncool tournament bracket", "start": 390.56, "duration": 1.63}, {"text": "thing, which was all very dynamic\nand impressive I'm sure at the time.", "start": 392.19, "duration": 2.916}, {"text": "But we'll focus on really\njust the fundamentals today.", "start": 395.106, "duration": 3.304}, {"text": "So how do we get there?", "start": 398.41, "duration": 1.11}, {"text": "Well, let me go ahead\nand open up CS50 IDE", "start": 399.52, "duration": 2.6}, {"text": "and propose that if we want\nto make a website, a web", "start": 402.12, "duration": 3.96}, {"text": "application really, and by application\nI mean something that does have logic.", "start": 406.08, "duration": 3.93}, {"text": "By website, it's generally\nsomething that's static.", "start": 410.01, "duration": 2.5}, {"text": "So that's what a web app is.", "start": 412.51, "duration": 1.19}, {"text": "It's something that changes based on\nwho's using it, when you're using it,", "start": 413.7, "duration": 3.083}, {"text": "and what you're doing with it.", "start": 416.783, "duration": 1.267}, {"text": "Let me go ahead, and in the most\nannoying tedious way possible,", "start": 418.05, "duration": 4.14}, {"text": "implement a web\napplication using Python.", "start": 422.19, "duration": 3.15}, {"text": "So I'm going to go ahead and open a file\ncalled serve.pie to serve up a website.", "start": 425.34, "duration": 6.089}, {"text": "And I'm going to go ahead\nand import some library code.", "start": 431.429, "duration": 2.291}, {"text": "So from HTTP server, import something\ncalled base HTTP request handler", "start": 433.72, "duration": 5.39}, {"text": "and also something called HTTP server.", "start": 439.11, "duration": 2.4}, {"text": "And then I'm going to go ahead\nand use this keyword class, which", "start": 441.51, "duration": 2.71}, {"text": "is HTTP server, server request, request\nhandler, base HTTP request handler--", "start": 444.22, "duration": 12.53}, {"text": "handler.", "start": 456.75, "duration": 0.891}, {"text": "Then I'm going to go ahead\nand in here implement", "start": 457.641, "duration": 1.999}, {"text": "a function called def\ndo_GET, which implies--", "start": 459.64, "duration": 5.13}, {"text": "this is a function in Python that\nshould be called anytime a user", "start": 464.77, "duration": 3.39}, {"text": "visits my web server via\nGET, the type of verb", "start": 468.16, "duration": 3.81}, {"text": "that we've talked about\nin the context of the web.", "start": 471.97, "duration": 2.145}, {"text": "So suppose that my only\ngoal here is to make", "start": 474.115, "duration": 2.505}, {"text": "a web-based application that for\nthe moment just says hello world.", "start": 476.62, "duration": 3.54}, {"text": "We know how to do this with HTML,\nbut with HTML that's just a file.", "start": 480.16, "duration": 3.16}, {"text": "Let's write a program that\nnot just prints hello world,", "start": 483.32, "duration": 4.22}, {"text": "but generates a web page\ncontaining hello world.", "start": 487.54, "duration": 2.64}, {"text": "So the way I might do this is this.", "start": 490.18, "duration": 1.62}, {"text": "I can literally say self, because self\nrefers to the web server in this case.", "start": 491.8, "duration": 3.6}, {"text": "And I can go ahead and send\na response code of 200,", "start": 495.4, "duration": 3.029}, {"text": "just kind of presumptuously\nassuming everything's", "start": 498.429, "duration": 2.041}, {"text": "going to be OK in a moment.", "start": 500.47, "duration": 1.53}, {"text": "Then I'm going to go ahead\nand send a header, which", "start": 502.0, "duration": 2.55}, {"text": "recall, we've discussed\nbriefly in the past,", "start": 504.55, "duration": 1.95}, {"text": "whereby this header is going to\nbe content type and its value", "start": 506.5, "duration": 5.4}, {"text": "is going to be text HTML,\nwhich is a clue to browser", "start": 511.9, "duration": 2.88}, {"text": "that it's receiving not a GIF,\nor JPEG, or something else,", "start": 514.78, "duration": 3.21}, {"text": "but an actual HTML page.", "start": 517.99, "duration": 1.412}, {"text": "And then I'm going to go ahead\nand say that's it for the headers.", "start": 519.402, "duration": 2.708}, {"text": "I'm going to call function\ncalled end headers.", "start": 522.11, "duration": 2.72}, {"text": "And then lastly, I'm\ngoing to use Python code", "start": 524.83, "duration": 2.67}, {"text": "to dynamically generate my website.", "start": 527.5, "duration": 2.204}, {"text": "Now, what does the website have to have?", "start": 529.704, "duration": 1.666}, {"text": "Just hello world at the end of the\nday, but there's a whole bunch of html", "start": 531.37, "duration": 3.041}, {"text": "we need to do in order\nto get to that point.", "start": 534.411, "duration": 1.949}, {"text": "So I'm going to use a function\ncalled wfile write in order", "start": 536.36, "duration": 4.43}, {"text": "to write out the following.", "start": 540.79, "duration": 1.39}, {"text": "Let me go ahead and write out doctype--", "start": 542.18, "duration": 3.31}, {"text": "whoops, exclamation point doctype HTML.", "start": 545.49, "duration": 4.24}, {"text": "Then let me go ahead and do the same\nthing, wfile.write, let me go ahead", "start": 549.73, "duration": 5.175}, {"text": "and copy paste this moving forward,\nwhich, of course, is always", "start": 554.905, "duration": 2.625}, {"text": "a bad instinct.", "start": 557.53, "duration": 0.99}, {"text": "Then let me go ahead and output\nHTML lang equals en for English.", "start": 558.52, "duration": 5.55}, {"text": "And notice I'm using single\nquotes inside my double quotes", "start": 564.07, "duration": 2.77}, {"text": "so that Python doesn't get confused.", "start": 566.84, "duration": 1.76}, {"text": "Then let me go ahead and\noutput head tag here.", "start": 568.6, "duration": 4.53}, {"text": "Then what comes after\nthe head tag typically?", "start": 573.13, "duration": 3.21}, {"text": "Yeah, so usually title lately.", "start": 576.34, "duration": 1.8}, {"text": "So title will be like hello\ntitle, close the title tag.", "start": 578.14, "duration": 5.94}, {"text": "And now we're going to go ahead\nand what comes after title?", "start": 584.08, "duration": 5.21}, {"text": "Close head, I think, if\nI'm doing this right.", "start": 589.29, "duration": 2.46}, {"text": "And then after this we\nprobably have a body.", "start": 591.75, "duration": 3.6}, {"text": "And then oh my God, this is the\nworst way to build a website.", "start": 595.35, "duration": 3.03}, {"text": "But let's go ahead and now say\nsomething simple like hello world.", "start": 598.38, "duration": 3.87}, {"text": "And now let's go in here\nand say something like body.", "start": 602.25, "duration": 4.71}, {"text": "And then finally, let's go ahead\nand end the page and say slash HTML.", "start": 606.96, "duration": 6.38}, {"text": "Done.", "start": 613.34, "duration": 0.76}, {"text": "OK, and now I actually need to configure\nthe server to listen on a port.", "start": 614.1, "duration": 3.42}, {"text": "So let me go ahead and define a TCP\nport of 8080, which we've been using.", "start": 617.52, "duration": 3.63}, {"text": "Let me go ahead and define\nthe server's address as being,", "start": 621.15, "duration": 2.71}, {"text": "oh 0.0.0.0, which is what the IDE uses\nby default, like a lot of servers.", "start": 623.86, "duration": 4.85}, {"text": "And then let me create the\nweb server, HTTP server.", "start": 628.71, "duration": 3.69}, {"text": "server_address HTTP server request\nhandler, httpd.serve_forever.", "start": 632.4, "duration": 10.66}, {"text": "OK, that is how you make a\nweb-based application that", "start": 643.06, "duration": 2.84}, {"text": "dynamically generates HTML.", "start": 645.9, "duration": 2.072}, {"text": "In retrospect, I really regret typing\nall of that out because the whole point", "start": 647.972, "duration": 3.208}, {"text": "now is to throw this code away.", "start": 651.18, "duration": 2.07}, {"text": "Like, this is why frameworks exist.", "start": 653.25, "duration": 2.46}, {"text": "If my goal quite simply at hand is\nto write Python code that dynamically", "start": 655.71, "duration": 4.68}, {"text": "generates HTML, then calling\nlots of functions like write,", "start": 660.39, "duration": 4.29}, {"text": "which is essentially the equivalent of\nprint in this context, is just tedious.", "start": 664.68, "duration": 4.05}, {"text": "I got bored writing it, I\naccomplished so terribly", "start": 668.73, "duration": 2.7}, {"text": "little at the end of the day.", "start": 671.43, "duration": 1.51}, {"text": "And so frameworks exist\nto make our lives easier.", "start": 672.94, "duration": 2.88}, {"text": "But what's going on underneath\nthe hood is exactly this.", "start": 675.82, "duration": 3.2}, {"text": "When we start using this\nframework called Flask,", "start": 679.02, "duration": 2.7}, {"text": "it's just going to make all\nof this automated for us.", "start": 681.72, "duration": 2.74}, {"text": "It's going to make it easier to\nspecify the IP address that you", "start": 684.46, "duration": 2.87}, {"text": "want to run your web\nserver on, it's going", "start": 687.33, "duration": 1.86}, {"text": "to make it easier to specify the\nport number that you want your server", "start": 689.19, "duration": 2.916}, {"text": "to be listening on, and\nit's going to make it easier", "start": 692.106, "duration": 2.904}, {"text": "to respond to get requests\nbecause Flask will", "start": 695.01, "duration": 3.84}, {"text": "take care of the implementation of some\nfunction like this one called do get.", "start": 698.85, "duration": 5.16}, {"text": "So all of this is there\nunderneath the hood,", "start": 704.01, "duration": 2.25}, {"text": "but the flask framework gives\nus essentially an abstraction", "start": 706.26, "duration": 4.26}, {"text": "on top of that.", "start": 710.52, "duration": 1.12}, {"text": "So what do I actually mean by that?", "start": 711.64, "duration": 1.53}, {"text": "If we want to distill this now\ninto a simpler web application,", "start": 713.17, "duration": 4.196}, {"text": "first let's go ahead and do this.", "start": 717.366, "duration": 1.374}, {"text": "Let me go ahead and open up a terminal\nwindow and let me go into my code", "start": 718.74, "duration": 4.71}, {"text": "here and go ahead and\nrun Python of serve.py.", "start": 723.45, "duration": 4.14}, {"text": "And you'll see nothing seems\nto be happening just yet.", "start": 727.59, "duration": 2.44}, {"text": "So I'm going to go to\ncs50 IDE web server", "start": 730.03, "duration": 1.91}, {"text": "to open up a tab containing the\nweb server that I'm now running.", "start": 731.94, "duration": 4.059}, {"text": "And you'll see that's it.", "start": 735.999, "duration": 1.041}, {"text": "That's the only thing I\naccomplished right now.", "start": 737.04, "duration": 1.958}, {"text": "It's not dynamic to be sure, but\nthere is code and Python code", "start": 738.998, "duration": 2.902}, {"text": "there with which I could actually\ndo something dynamically.", "start": 741.9, "duration": 3.24}, {"text": "But let's instead do this now\nwith Flask, this framework", "start": 745.14, "duration": 3.84}, {"text": "that seems to make our lives easier.", "start": 748.98, "duration": 1.5}, {"text": "I'm going to go ahead and make a\nprogram called application.py, which", "start": 750.48, "duration": 4.465}, {"text": "is just a convention.", "start": 754.945, "duration": 0.875}, {"text": "I could call it anything I want.", "start": 755.82, "duration": 1.58}, {"text": "And I'm going to go ahead\nand say the following.", "start": 757.4, "duration": 2.0}, {"text": "Let's first go ahead and import\nthis framework called Flask.", "start": 759.4, "duration": 2.87}, {"text": "And specifically import\ncapitalized flask, which", "start": 762.27, "duration": 2.82}, {"text": "is the name of the framework itself.", "start": 765.09, "duration": 1.62}, {"text": "And then let me preemptively\nimport a couple of functions", "start": 766.71, "duration": 2.94}, {"text": "called render template and then this\nspecial global variable called request.", "start": 769.65, "duration": 3.687}, {"text": "You would only know to do this\nfrom reading the documentation.", "start": 773.337, "duration": 2.583}, {"text": "But now let me go ahead\nand say, hey Flask,", "start": 775.92, "duration": 2.4}, {"text": "could you please give\nme a web application?", "start": 778.32, "duration": 3.18}, {"text": "And this is copy paste.", "start": 781.5, "duration": 1.11}, {"text": "You need this at the top\nof any Flask application,", "start": 782.61, "duration": 2.16}, {"text": "and it just means turn this file--", "start": 784.77, "duration": 2.43}, {"text": "application.py-- into a web application.", "start": 787.2, "duration": 3.902}, {"text": "Then lastly, I'm going\nto go ahead and do this.", "start": 791.102, "duration": 1.958}, {"text": "I'm going to tell Flask I\nwant to build an app that", "start": 793.06, "duration": 2.57}, {"text": "has a route that's listening for\nslash inside of that virtual envelope.", "start": 795.63, "duration": 4.89}, {"text": "And whenever, Flask, you see a\nrequest for slash from some user,", "start": 800.52, "duration": 5.43}, {"text": "go ahead and call this function\nwhich I arbitrarily called index,", "start": 805.95, "duration": 3.6}, {"text": "but I could call it foo,\nor bar, or whatever.", "start": 809.55, "duration": 2.37}, {"text": "And what I want you to do\nis this, return hello world.", "start": 811.92, "duration": 5.0}, {"text": "And that's it.", "start": 816.92, "duration": 1.36}, {"text": "So all of those other lines I\ntediously wrote out a moment ago", "start": 818.28, "duration": 3.17}, {"text": "are now distilled into just\n7 lines, which none of which", "start": 821.45, "duration": 3.06}, {"text": "are completely obvious\nhow they work just yet.", "start": 824.51, "duration": 2.5}, {"text": "But if you assume that this means\ngive me access to the library,", "start": 827.01, "duration": 3.32}, {"text": "turned my file into a web\napplication, and listen now", "start": 830.33, "duration": 3.6}, {"text": "for get requests on slash,\nit kind of makes sense", "start": 833.93, "duration": 3.179}, {"text": "and fits into the mental model that\nwe introduced a couple of weeks", "start": 837.109, "duration": 2.791}, {"text": "ago with HTML and CSS itself.", "start": 839.9, "duration": 2.61}, {"text": "And to run this server, what I'm going\nto do now in my hello directory, which", "start": 842.51, "duration": 3.63}, {"text": "is where a online copy of this\nis on the course's website,", "start": 846.14, "duration": 2.91}, {"text": "I'm going to go ahead and\nquite simply say Flask run.", "start": 849.05, "duration": 2.48}, {"text": "So Flask is not only a framework\nor code that you have access", "start": 851.53, "duration": 2.92}, {"text": "to as free and open\nsource code, but it's also", "start": 854.45, "duration": 2.82}, {"text": "a program you can run at the\ncommand line that also figures out", "start": 857.27, "duration": 2.7}, {"text": "how to turn the server on\nand just run it forever.", "start": 859.97, "duration": 2.689}, {"text": "You're going to see some diagnostic\noutput at first glance, most of which", "start": 862.659, "duration": 3.041}, {"text": "you don't have to care about.", "start": 865.7, "duration": 1.23}, {"text": "But there will be a few\nURL that's spit out which", "start": 866.93, "duration": 2.07}, {"text": "is based on your own user name.", "start": 869.0, "duration": 1.65}, {"text": "Mine today is jharvard 3 just\nfor demonstration purposes.", "start": 870.65, "duration": 3.73}, {"text": "And if you click on that\nURL and then click Open,", "start": 874.38, "duration": 3.08}, {"text": "you'll see now this version of the\nsame application doing just this.", "start": 877.46, "duration": 4.554}, {"text": "Now, I'm kind of cheating, though.", "start": 882.014, "duration": 1.416}, {"text": "Because if I open up Chrome and view\nmy page source, notice that of course", "start": 883.43, "duration": 4.08}, {"text": "I'm cheating because all I've\ndone is print out hello world.", "start": 887.51, "duration": 3.681}, {"text": "And if I view the\nsource of this page, I'm", "start": 891.191, "duration": 1.749}, {"text": "literally only going to say\nhello world and no actual HTML", "start": 892.94, "duration": 4.35}, {"text": "because I literally didn't\ntype out any HTML in my file.", "start": 897.29, "duration": 3.6}, {"text": "But it turns out that Flask\nmakes this easy, as well.", "start": 900.89, "duration": 3.117}, {"text": "So let me go ahead and stop the\nserver here for just a moment.", "start": 904.007, "duration": 2.583}, {"text": "Control-c is your\nfriend, it gets you out", "start": 906.59, "duration": 1.74}, {"text": "of whatever program is actually running.", "start": 908.33, "duration": 2.01}, {"text": "And let me go ahead and do this.", "start": 910.34, "duration": 1.68}, {"text": "Let me go ahead and not just\nreturn quote-unquote hello world", "start": 912.02, "duration": 2.85}, {"text": "as a hardcoded value.", "start": 914.87, "duration": 1.69}, {"text": "Let me go ahead and return the rendering\nof a template called index.html.", "start": 916.56, "duration": 6.2}, {"text": "And so this is a feature of Flask, too.", "start": 922.76, "duration": 2.13}, {"text": "If you want to separate your logic--", "start": 924.89, "duration": 2.21}, {"text": "your controller-- from your HTML--", "start": 927.1, "duration": 2.68}, {"text": "your view-- you literally put\nthe former in application.pi,", "start": 929.78, "duration": 3.72}, {"text": "and you put the latter in\nan HTML file like this.", "start": 933.5, "duration": 3.0}, {"text": "And you tell the controller code--", "start": 936.5, "duration": 2.34}, {"text": "application.py-- show\nthe user, to render", "start": 938.84, "duration": 2.94}, {"text": "for the user the index.html file.", "start": 941.78, "duration": 3.09}, {"text": "So where do I put this?", "start": 944.87, "duration": 1.53}, {"text": "The convention would be to make\na directory called templates.", "start": 946.4, "duration": 4.05}, {"text": "And then in that directory, go ahead\nand put a file called index.html.", "start": 950.45, "duration": 5.082}, {"text": "And if I go ahead and open\nup the file that I already", "start": 955.532, "duration": 2.208}, {"text": "created in advance of class here, let\nme just show you what this looks like.", "start": 957.74, "duration": 3.604}, {"text": "And then we'll take a\nlook at it in a browser.", "start": 961.344, "duration": 1.916}, {"text": "Here is HTML now with\na pretty fancy feature", "start": 963.26, "duration": 5.79}, {"text": "that we're about to\nreveal the utility of.", "start": 969.05, "duration": 2.61}, {"text": "What jumps out at you\nis new in this file?", "start": 971.66, "duration": 4.51}, {"text": "AUDIENCE: Two curly braces on the name.", "start": 976.17, "duration": 2.05}, {"text": "DAVID MALAN: Yeah, two curly braces.", "start": 978.22, "duration": 1.92}, {"text": "And somehow or other that\nused to be saying world,", "start": 980.14, "duration": 2.82}, {"text": "but in my final version\nof this I actually", "start": 982.96, "duration": 2.43}, {"text": "am hinting at some more\npowerful capabilities.", "start": 985.39, "duration": 2.465}, {"text": "This kind of looks like a\nplaceholder, if you will.", "start": 987.855, "duration": 2.125}, {"text": "Maybe someone's actual name.", "start": 989.98, "duration": 1.77}, {"text": "And here's where the power of\nsomething like Flask comes into play.", "start": 991.75, "duration": 3.01}, {"text": "It makes it really easy\nto do something like this.", "start": 994.76, "duration": 2.76}, {"text": "So let me go ahead\nand actually turn this", "start": 997.52, "duration": 2.0}, {"text": "into something a little\nmore interesting.", "start": 999.52, "duration": 1.95}, {"text": "Let me go into application.py.", "start": 1001.47, "duration": 1.83}, {"text": "And before I actually render this HTML\nfile, let me go ahead and do this.", "start": 1003.3, "duration": 4.56}, {"text": "Let me go ahead and declare\na variable called name.", "start": 1007.86, "duration": 3.1}, {"text": "And let me go ahead and\ncheck the incoming request,", "start": 1010.96, "duration": 3.08}, {"text": "the inside of that virtual envelope.", "start": 1014.04, "duration": 2.49}, {"text": "Let me check its arguments or any of\nthe HTTP parameters that were passed in", "start": 1016.53, "duration": 4.86}, {"text": "and try to get something\ncalled name like this.", "start": 1021.39, "duration": 3.81}, {"text": "Let me go ahead and save\nthat and then notice this.", "start": 1025.2, "duration": 2.73}, {"text": "Render template takes\nmultiple arguments.", "start": 1027.93, "duration": 2.187}, {"text": "The first one should be the name\nof the template you want to render.", "start": 1030.117, "duration": 2.833}, {"text": "But if you want to pass\nin data dynamically,", "start": 1032.95, "duration": 2.419}, {"text": "you can use named parameters in Python.", "start": 1035.369, "duration": 3.691}, {"text": "Recall from last week that you can\ndo things like this, x equals y,", "start": 1039.06, "duration": 3.299}, {"text": "and z equals w.", "start": 1042.359, "duration": 1.201}, {"text": "You can pass in the names of\nthe things you want to pass in", "start": 1043.56, "duration": 2.91}, {"text": "and their corresponding values.", "start": 1046.47, "duration": 2.02}, {"text": "So if I want to pass in a name variable\nand set it equal to the name variable", "start": 1048.49, "duration": 6.59}, {"text": "that I just defined,\nwatch what we can do here.", "start": 1055.08, "duration": 3.12}, {"text": "Let me go back to my console.", "start": 1058.2, "duration": 2.91}, {"text": "Let me go ahead and rerun in my hello\ndirectory, which is available online,", "start": 1061.11, "duration": 4.83}, {"text": "Flask run.", "start": 1065.94, "duration": 1.53}, {"text": "And now let me go over to this where\nit previously said hello world.", "start": 1067.47, "duration": 3.84}, {"text": "Let me now, just like with our\nGoogle example a couple of weeks", "start": 1071.31, "duration": 2.73}, {"text": "ago, type in not q equals cats,\nwhich is what we did last time,", "start": 1074.04, "duration": 3.69}, {"text": "but maybe name equals David\nto simulate a get request.", "start": 1077.73, "duration": 3.99}, {"text": "And if I did everything right, when I\nhit Enter I now see this dynamically.", "start": 1081.72, "duration": 4.81}, {"text": "And if I change this now from\nDavid to, say, Veronica, of course,", "start": 1086.53, "duration": 3.47}, {"text": "this is going to\ndynamically output this.", "start": 1090.0, "duration": 1.83}, {"text": "Can someone now try to break my code?", "start": 1091.83, "duration": 2.34}, {"text": "Propose an input that I should try\nto see if I messed up somewhere.", "start": 1094.17, "duration": 5.78}, {"text": "AUDIENCE: No entry.", "start": 1099.95, "duration": 1.657}, {"text": "DAVID MALAN: OK, no input.", "start": 1101.607, "duration": 1.083}, {"text": "Or what's that?", "start": 1102.69, "duration": 2.07}, {"text": "say again?", "start": 1104.76, "duration": 1.615}, {"text": "Name equals name, I like that one, too.", "start": 1106.375, "duration": 1.625}, {"text": "So let's try that, name equals name.", "start": 1108.0, "duration": 1.94}, {"text": "So OK, I mean it's kind of maybe like\na grammatical bug or semantic bug,", "start": 1109.94, "duration": 4.9}, {"text": "but not really a code bug per se.", "start": 1114.84, "duration": 2.61}, {"text": "That's just user error.", "start": 1117.45, "duration": 1.02}, {"text": "But what if I just get rid of it?", "start": 1118.47, "duration": 2.1}, {"text": "OK, that just looks a little stupid.", "start": 1120.57, "duration": 1.56}, {"text": "So an aesthetic bug, but we should\nprobably start handling this.", "start": 1122.13, "duration": 2.666}, {"text": "What if I get rid of name altogether?", "start": 1124.796, "duration": 1.804}, {"text": "Interesting.", "start": 1126.6, "duration": 1.02}, {"text": "It seems that my final version actually\nhas some built in functionality.", "start": 1127.62, "duration": 3.06}, {"text": "So where is that coming from?", "start": 1130.68, "duration": 1.68}, {"text": "Well, what if I did this?", "start": 1132.36, "duration": 1.39}, {"text": "It turns out that I could\nsay something like this.", "start": 1133.75, "duration": 2.61}, {"text": "If not name, then go ahead\nand set name equal to world", "start": 1136.36, "duration": 3.5}, {"text": "would be one way of doing it.", "start": 1139.86, "duration": 1.66}, {"text": "Or I could actually\nuse the function here.", "start": 1141.52, "duration": 3.35}, {"text": "Turns out that this get function\ncan take a default value.", "start": 1144.87, "duration": 2.997}, {"text": "And so if you read the\ndocumentation, you'll", "start": 1147.867, "duration": 1.833}, {"text": "see that the second\nvalue you provide will be", "start": 1149.7, "duration": 2.13}, {"text": "used if the user hasn't provided one.", "start": 1151.83, "duration": 2.04}, {"text": "And so indeed, if I reload now\nand see nothing, I get world.", "start": 1153.87, "duration": 3.36}, {"text": "And if I instead do name equals, say,\nBrian, I get that dynamic output.", "start": 1157.23, "duration": 4.75}, {"text": "And so when I say web application,\nthis is just a hint of what I mean.", "start": 1161.98, "duration": 4.31}, {"text": "This is dynamically generated content.", "start": 1166.29, "duration": 2.37}, {"text": "It's not hardcoded, because it's\nactually coming from the user.", "start": 1168.66, "duration": 2.74}, {"text": "So when Google implements its\nslash search web application,", "start": 1171.4, "duration": 4.384}, {"text": "this is the kind of thing they're doing.", "start": 1175.784, "duration": 1.666}, {"text": "It's way more involved, of course.", "start": 1177.45, "duration": 1.2}, {"text": "They're searching a database, looking\nfor cats, and dogs, or whatever", "start": 1178.65, "duration": 2.875}, {"text": "it is you're searching for\nand then generating HTML.", "start": 1181.525, "duration": 2.615}, {"text": "But notice with just\nthis simple approach", "start": 1184.14, "duration": 2.7}, {"text": "can we ourselves generate\nany HTML we want dynamically.", "start": 1186.84, "duration": 3.96}, {"text": "Because all we have\nto do in that template", "start": 1190.8, "duration": 2.07}, {"text": "called index.html is exactly this.", "start": 1192.87, "duration": 4.11}, {"text": "Hello, comma, and then\na placeholder where", "start": 1196.98, "duration": 2.82}, {"text": "name is the variable you're passing in.", "start": 1199.8, "duration": 1.95}, {"text": "And so to be clear, it doesn't\nhave to be called name.", "start": 1201.75, "duration": 2.25}, {"text": "I could do something like foo,\nwhich would be a little nonsensical.", "start": 1204.0, "duration": 3.19}, {"text": "But if I do that, the variable I\nplug in needs to be called foo here.", "start": 1207.19, "duration": 3.91}, {"text": "And so there's a one\nto one correspondence", "start": 1211.1, "duration": 1.96}, {"text": "between the things before the\nequal signs and where they get", "start": 1213.06, "duration": 3.45}, {"text": "plugged in down here.", "start": 1216.51, "duration": 2.55}, {"text": "Any questions, then, on this\nsimple example, but building block?", "start": 1219.06, "duration": 3.57}, {"text": "Yeah?", "start": 1222.63, "duration": 0.954}, {"text": "AUDIENCE: [INAUDIBLE]\ndynamically generated.", "start": 1223.584, "duration": 4.146}, {"text": "DAVID MALAN: Sure.", "start": 1227.73, "duration": 0.75}, {"text": "By dynamically generated, I mean I have\nnot written in advance by typing it out", "start": 1228.48, "duration": 5.88}, {"text": "manually a web page that says\nhello David, or hello Brian,", "start": 1234.36, "duration": 3.48}, {"text": "or hello Veronica.", "start": 1237.84, "duration": 2.53}, {"text": "Those pages are all generated\ndynamically based on user input.", "start": 1240.37, "duration": 4.7}, {"text": "I wrote most of those pages.", "start": 1245.07, "duration": 1.47}, {"text": "I wrote everything up into and\nafter the comma, but then-- sorry,", "start": 1246.54, "duration": 3.33}, {"text": "up to the comma, but then the\nnames are dynamically added.", "start": 1249.87, "duration": 4.29}, {"text": "Good question.", "start": 1254.16, "duration": 0.79}, {"text": "Other questions?", "start": 1254.95, "duration": 2.87}, {"text": "All right.", "start": 1257.82, "duration": 0.85}, {"text": "So why don't we rewind\nto 1997 or so and see", "start": 1258.67, "duration": 5.4}, {"text": "if we can't build a more dynamic\nweb application that actually allow", "start": 1264.07, "duration": 3.21}, {"text": "students to register\nfor something that's", "start": 1267.28, "duration": 2.4}, {"text": "a little more compelling than\njust providing their name?", "start": 1269.68, "duration": 2.82}, {"text": "So let me go ahead and open up froshim0,\nwhich is the first larger scale", "start": 1272.5, "duration": 4.65}, {"text": "application we have here today.", "start": 1277.15, "duration": 1.71}, {"text": "And notice that I have a few files.", "start": 1278.86, "duration": 2.43}, {"text": "So already things are going to\nescalate quickly whereby we're", "start": 1281.29, "duration": 2.992}, {"text": "going to suddenly introduce\nmultiple templates,", "start": 1284.282, "duration": 1.958}, {"text": "but we'll do this in\norder to solve a problem.", "start": 1286.24, "duration": 2.47}, {"text": "But first let me go ahead\nand open up application,py,", "start": 1288.71, "duration": 3.17}, {"text": "which just like your main function\nin C is kind of the entry point now", "start": 1291.88, "duration": 3.75}, {"text": "to a web-based application.", "start": 1295.63, "duration": 1.8}, {"text": "So notice that-- let's start like this.", "start": 1297.43, "duration": 3.12}, {"text": "Let me go ahead and delete that\nand start from the beginning here.", "start": 1300.55, "duration": 3.54}, {"text": "Let's go ahead and do this.", "start": 1304.09, "duration": 3.84}, {"text": "In froshim0, we have this\ndefault route of slash,", "start": 1307.93, "duration": 4.98}, {"text": "and notice that it's going\nto render index.html.", "start": 1312.91, "duration": 2.134}, {"text": "So when you start to\nread someone else's code,", "start": 1315.044, "duration": 1.916}, {"text": "you kind of follow these breadcrumbs.", "start": 1316.96, "duration": 1.75}, {"text": "So let me go ahead and open\nthe same folder, froshim0.", "start": 1318.71, "duration": 2.96}, {"text": "Let me go into--", "start": 1321.67, "duration": 2.307}, {"text": "let me go ahead, rather, let's\ndo this from scratch, actually.", "start": 1323.977, "duration": 2.583}, {"text": "Let's do this.", "start": 1326.56, "duration": 0.69}, {"text": "Index.html, and let me do\nthe familiar doctype HTML.", "start": 1327.25, "duration": 6.24}, {"text": "Then let me go ahead and do an HTML tag\nhere, it finishes my thought for me.", "start": 1333.49, "duration": 3.36}, {"text": "The head tag here, the title tag\nhere, froshim0 will be the title here.", "start": 1336.85, "duration": 5.22}, {"text": "Let me go ahead and create a body.", "start": 1342.07, "duration": 1.59}, {"text": "And now for this web\npage, I want to go ahead", "start": 1343.66, "duration": 2.91}, {"text": "and have a few things via which the\nuser can actually register for froshim.", "start": 1346.57, "duration": 4.42}, {"text": "So let me go ahead and\nhave just some title text", "start": 1350.99, "duration": 2.0}, {"text": "here, like register for froshims\nlike I did back in the day.", "start": 1352.99, "duration": 3.63}, {"text": "Then let me go ahead\nand start a form tag.", "start": 1356.62, "duration": 2.22}, {"text": "And then in here, what\ninformation might a student", "start": 1358.84, "duration": 2.25}, {"text": "want to provide when registering\nfor something like a sports team?", "start": 1361.09, "duration": 3.236}, {"text": "AUDIENCE: Name.", "start": 1364.326, "duration": 0.774}, {"text": "DAVID MALAN: OK, the student's name.", "start": 1365.1, "duration": 1.499}, {"text": "So input type equals text.", "start": 1366.599, "duration": 3.521}, {"text": "The name of this input probably\nshouldn't be something generic like q,", "start": 1370.12, "duration": 3.029}, {"text": "it should probably be more\ndescriptive like name.", "start": 1373.149, "duration": 2.041}, {"text": "So its a little weird\nlooking, but name equals name.", "start": 1375.19, "duration": 2.34}, {"text": "And we'll go ahead and do this.", "start": 1377.53, "duration": 1.02}, {"text": "And if we really want\nto be fancy, we can", "start": 1378.55, "duration": 1.708}, {"text": "do like a placeholder text of name just\nto in light gray text show the user", "start": 1380.258, "duration": 3.842}, {"text": "what we want.", "start": 1384.1, "duration": 0.93}, {"text": "And then back in the day,\nminimally the students", "start": 1385.03, "duration": 2.01}, {"text": "registering for sports\nhad to provide their dorm,", "start": 1387.04, "duration": 2.92}, {"text": "so the building in which they lived.", "start": 1389.96, "duration": 1.85}, {"text": "So in HTML, we've got\na bunch of input types.", "start": 1391.81, "duration": 2.2}, {"text": "We've got text boxes, turns out there's\ntext areas which are even bigger,", "start": 1394.01, "duration": 3.31}, {"text": "check boxes, radio buttons, what's most\napt perhaps for choosing your dorm?", "start": 1397.32, "duration": 5.851}, {"text": "AUDIENCE: Dropdown list.", "start": 1403.171, "duration": 0.999}, {"text": "DAVID MALAN: Like a dropdown\nlist, otherwise called a menu.", "start": 1404.17, "duration": 4.35}, {"text": "But which tag?", "start": 1408.52, "duration": 2.635}, {"text": "AUDIENCE: Container?", "start": 1411.155, "duration": 1.175}, {"text": "DAVID MALAN: Not a container, a\nlittle more precise than that.", "start": 1412.33, "duration": 2.583}, {"text": "With what tag can you\ngenerate a dropdown list", "start": 1414.913, "duration": 3.057}, {"text": "if you've done this before in HTML?", "start": 1417.97, "duration": 1.866}, {"text": "AUDIENCE: Select.", "start": 1419.836, "duration": 0.894}, {"text": "DAVID MALAN: Select.", "start": 1420.73, "duration": 0.833}, {"text": "So it's not perfectly clearly named,\nbut it's, indeed, a select menu by name.", "start": 1421.563, "duration": 4.147}, {"text": "And so I can actually do this.", "start": 1425.71, "duration": 1.33}, {"text": "Select, and the name of this\nfield will be dorm, for instance.", "start": 1427.04, "duration": 3.47}, {"text": "And then inside of this I'm going\nto go ahead and have a few options.", "start": 1430.51, "duration": 3.41}, {"text": "So one option might be\nlet's say Apley Court, which", "start": 1433.92, "duration": 4.21}, {"text": "is one of the buildings\nin which freshmen live.", "start": 1438.13, "duration": 2.97}, {"text": "There might be another\none called Canoday,", "start": 1441.1, "duration": 2.332}, {"text": "and then there's going\nto be bunches of others.", "start": 1443.432, "duration": 1.958}, {"text": "And then notice, too, if you've never\nused a select menu, which you wouldn't", "start": 1445.39, "duration": 3.12}, {"text": "have really had occasion to\nyet unless you've done this", "start": 1448.51, "duration": 2.291}, {"text": "before, these options also have to\nhave values, which for my purposes", "start": 1450.801, "duration": 3.499}, {"text": "are going to be exactly the same.", "start": 1454.3, "duration": 2.05}, {"text": "But whereas what's between the\ntags is what the human sees,", "start": 1456.35, "duration": 4.43}, {"text": "it's what's between these\nquotes as the value of value", "start": 1460.78, "duration": 3.48}, {"text": "that the computer actually sees.", "start": 1464.26, "duration": 2.22}, {"text": "So these are the words that\npopulate the dropdown menu,", "start": 1466.48, "duration": 2.79}, {"text": "these are the values that actually\ngets stuffed into the virtual envelope", "start": 1469.27, "duration": 3.33}, {"text": "that the student him or\nherself actually see.", "start": 1472.6, "duration": 2.82}, {"text": "So let me go ahead and save this.", "start": 1475.42, "duration": 2.22}, {"text": "Let me go ahead and\nnow open up my console.", "start": 1477.64, "duration": 3.676}, {"text": "And I'm going to borrow\na little code just so", "start": 1481.316, "duration": 1.874}, {"text": "that we can do this from scratch here.", "start": 1483.19, "duration": 2.28}, {"text": "So let me go ahead and grab from\nfroshim0 my application.py file", "start": 1485.47, "duration": 6.48}, {"text": "and go into my workspace.", "start": 1491.95, "duration": 3.48}, {"text": "So let me go ahead now\nand run Flask run wherein", "start": 1495.43, "duration": 3.99}, {"text": "I have this application.py file.", "start": 1499.42, "duration": 1.95}, {"text": "I'm going to see the URL\nat which my code now lives.", "start": 1501.37, "duration": 2.82}, {"text": "And if I open this up, I'm going\nto see an internal server error.", "start": 1504.19, "duration": 3.03}, {"text": "So intended at some point because\ninternal server error, recall,", "start": 1507.22, "duration": 3.96}, {"text": "was one of the more arcane status\ncodes, 500, that you probably", "start": 1511.18, "duration": 3.505}, {"text": "have not seen unless you're visiting\na website where something has actually", "start": 1514.685, "duration": 3.125}, {"text": "going wrong.", "start": 1517.81, "duration": 1.12}, {"text": "So how do I begin to figure\nout what has gone wrong now", "start": 1518.93, "duration": 2.57}, {"text": "that I'm actually writing code and\nnot just writing hard coded HTML?", "start": 1521.5, "duration": 3.3}, {"text": "Well, all of the clues\nare going to be found", "start": 1524.8, "duration": 2.55}, {"text": "here inside of the console window.", "start": 1527.35, "duration": 2.74}, {"text": "So when you're running Flask you are\nrunning a full fledged web server.", "start": 1530.09, "duration": 3.77}, {"text": "You are listening via TCP/IP for\nincoming requests from users.", "start": 1533.86, "duration": 5.652}, {"text": "And so what you'll see in the console\nis not just the diagnostic output", "start": 1539.512, "duration": 2.958}, {"text": "when you first start Flask, but you're\ngoing to see all of the error messages", "start": 1542.47, "duration": 4.02}, {"text": "that might actually happen thereafter.", "start": 1546.49, "duration": 2.179}, {"text": "And this is a little cryptic looking.", "start": 1548.669, "duration": 1.541}, {"text": "Frankly, it's overwhelming to\nsee this text at first glance.", "start": 1550.21, "duration": 2.9}, {"text": "But whereas in Clang\nand in C it generally", "start": 1553.11, "duration": 3.04}, {"text": "helps to look at the very top,\nsometimes the error messages", "start": 1556.15, "duration": 3.33}, {"text": "here in this context of Flask\nare kind of toward the bottom.", "start": 1559.48, "duration": 2.77}, {"text": "And here we have template not found.", "start": 1562.25, "duration": 2.06}, {"text": "Template because it\ncan't find index.html.", "start": 1564.31, "duration": 2.519}, {"text": "And that's just because I screwed up.", "start": 1566.829, "duration": 1.541}, {"text": "So let me actually exit\nFlask by typing control-c.", "start": 1568.37, "duration": 2.72}, {"text": "And if I type ls in my directory,\nnotice that I haven't quite", "start": 1571.09, "duration": 3.6}, {"text": "practiced what I've preached.", "start": 1574.69, "duration": 1.75}, {"text": "It's perhaps a little subtle,\nbut I haven't organized myself", "start": 1576.44, "duration": 2.78}, {"text": "in the right way.", "start": 1579.22, "duration": 0.73}, {"text": "What have I done wrong?", "start": 1579.95, "duration": 3.27}, {"text": "Yeah?", "start": 1583.22, "duration": 1.1}, {"text": "AUDIENCE: Didn't make\na templates directory.", "start": 1584.32, "duration": 0.87}, {"text": "DAVID MALAN: Yeah, it's\nkind of a silly mistake.", "start": 1585.19, "duration": 1.63}, {"text": "I didn't make a templates directory.", "start": 1586.82, "duration": 1.47}, {"text": "So you can do this in\na few different ways.", "start": 1588.29, "duration": 1.791}, {"text": "By the folder icon up here,\nyou can create a new folder", "start": 1590.081, "duration": 2.379}, {"text": "by right clicking or control clicking.", "start": 1592.46, "duration": 1.83}, {"text": "Or in Linux you can do make\ndir for make directory.", "start": 1594.29, "duration": 3.0}, {"text": "And so I can do make\ndir templates enter.", "start": 1597.29, "duration": 2.85}, {"text": "And then I can move my\nindex.html file, which", "start": 1600.14, "duration": 3.27}, {"text": "I wrote a moment ago, into my templates\ndirectory by just using mv for move.", "start": 1603.41, "duration": 4.44}, {"text": "And now I can go ahead and run\nFlask run, cross my fingers,", "start": 1607.85, "duration": 4.17}, {"text": "go back to the browser\ntab and click reload,", "start": 1612.02, "duration": 2.94}, {"text": "and voila, now I actually see the form.", "start": 1614.96, "duration": 2.13}, {"text": "So have these kinds of instincts.", "start": 1617.09, "duration": 1.39}, {"text": "I didn't actually intend that,\nbut I forgot to create the folder.", "start": 1618.48, "duration": 2.708}, {"text": "I got this server error.", "start": 1621.188, "duration": 1.032}, {"text": "You don't have to just\nstare at the browser, which", "start": 1622.22, "duration": 1.47}, {"text": "is not going to have much information.", "start": 1623.69, "duration": 1.583}, {"text": "But if you look at the\nconsole, the terminal window", "start": 1625.273, "duration": 2.467}, {"text": "that you have control over will you\nsee those clang-like error messages.", "start": 1627.74, "duration": 3.97}, {"text": "So here we have a basic HTML form.", "start": 1631.71, "duration": 1.58}, {"text": "It's not complete because\nI didn't bother typing out", "start": 1633.29, "duration": 2.166}, {"text": "all of the dorm names, but I\ndo have an input of type text", "start": 1635.456, "duration": 2.634}, {"text": "as well as the Select menu.", "start": 1638.09, "duration": 1.44}, {"text": "And I'm also kind of missing\na key detail, it seems.", "start": 1639.53, "duration": 2.73}, {"text": "What should I probably add to this form?", "start": 1642.26, "duration": 1.972}, {"text": "AUDIENCE: Where you're selecting.", "start": 1644.232, "duration": 1.508}, {"text": "DAVID MALAN: Well, I'm selecting--", "start": 1645.74, "duration": 0.93}, {"text": "I could be selecting dorm, so I\ncould clean this up in a couple ways.", "start": 1646.67, "duration": 2.875}, {"text": "I also am missing a Submit button.", "start": 1649.545, "duration": 2.319}, {"text": "Now, it turns out you\ncould probably hit Enter", "start": 1651.864, "duration": 1.916}, {"text": "and it would actually be submitted\nby default. But we can fix this.", "start": 1653.78, "duration": 2.791}, {"text": "So let me go into index.html.", "start": 1656.571, "duration": 2.399}, {"text": "Let me shrink this tab just a little\nbit and let me fix both of these things.", "start": 1658.97, "duration": 3.44}, {"text": "So let me go ahead and open\nup this latest version, which", "start": 1662.41, "duration": 4.54}, {"text": "is now in that templates directory.", "start": 1666.95, "duration": 3.5}, {"text": "Let me go ahead and at the bottom\nhere do an input type equals submit,", "start": 1670.45, "duration": 4.66}, {"text": "the value of which is going\nto be a register, just to make", "start": 1675.11, "duration": 2.73}, {"text": "clear to the human what's going on.", "start": 1677.84, "duration": 1.78}, {"text": "Let me go ahead and go back\nto my form, click reload.", "start": 1679.62, "duration": 4.64}, {"text": "And nothing's happened just yet.", "start": 1684.26, "duration": 1.72}, {"text": "And that's because by default when you\nmake changes to some of your files,", "start": 1685.98, "duration": 4.1}, {"text": "Flask is not going to notice.", "start": 1690.08, "duration": 1.364}, {"text": "And we'll fix this actually\nin the coming problem", "start": 1691.444, "duration": 2.041}, {"text": "set by adding more\ncode and a little more", "start": 1693.485, "duration": 1.815}, {"text": "complexity to automate this for you.", "start": 1695.3, "duration": 1.83}, {"text": "But when in doubt, just\ncontrol-c to quit flask.", "start": 1697.13, "duration": 2.92}, {"text": "Then go ahead and rerun\nflask, that will reload all", "start": 1700.05, "duration": 3.08}, {"text": "of your HTML, all of your Python code.", "start": 1703.13, "duration": 2.01}, {"text": "And if I now go back here and click\nreload, we'll see the Register button.", "start": 1705.14, "duration": 3.75}, {"text": "So there should never be any surprises.", "start": 1708.89, "duration": 2.14}, {"text": "And if there are, just try to\nget to the diagnosis thereof.", "start": 1711.03, "duration": 4.58}, {"text": "This is also a little unclear,\ntoo, to what this menu is.", "start": 1715.61, "duration": 3.24}, {"text": "So it turns out that if you actually\ncreate a bogus option like this", "start": 1718.85, "duration": 3.33}, {"text": "that has no value and say something\nlike dorm, you can save this.", "start": 1722.18, "duration": 4.9}, {"text": "Let's go ahead and restart\nFlask and reload the page here.", "start": 1727.08, "duration": 3.74}, {"text": "You'll see that now you see dorm.", "start": 1730.82, "duration": 1.44}, {"text": "Unfortunately, this is kind\nof stupid because now dorm", "start": 1732.26, "duration": 4.08}, {"text": "is where you can\nliterally live apparently,", "start": 1736.34, "duration": 1.98}, {"text": "which doesn't quite feel right.", "start": 1738.32, "duration": 1.53}, {"text": "So there's HTML fixes for this too.", "start": 1739.85, "duration": 2.1}, {"text": "I can actually go in here\nand technically say disabled,", "start": 1741.95, "duration": 3.18}, {"text": "so you can't actually select that.", "start": 1745.13, "duration": 1.83}, {"text": "Now if I rerun Flask and reload,\nnow it still shows it there.", "start": 1746.96, "duration": 5.249}, {"text": "But because I already selected\nApley Court, you can see it in gray.", "start": 1752.209, "duration": 2.791}, {"text": "And we can actually be\na little more specific,", "start": 1755.0, "duration": 1.916}, {"text": "if you want to not only disable it, but\nselect it by default and then go ahead", "start": 1756.916, "duration": 4.444}, {"text": "and reload the page here,\nnow you'll see hopefully", "start": 1761.36, "duration": 2.816}, {"text": "what's familiar on most websites.", "start": 1764.176, "duration": 1.374}, {"text": "It says dorm, but it's disabled.", "start": 1765.55, "duration": 2.23}, {"text": "And even though the\nsilly checkmark is there,", "start": 1767.78, "duration": 1.98}, {"text": "you're forced to choose an actual dorm.", "start": 1769.76, "duration": 1.962}, {"text": "So these are minor aesthetics,\nbut the kind of things", "start": 1771.722, "duration": 2.208}, {"text": "you now have control over.", "start": 1773.93, "duration": 1.51}, {"text": "So what's going to happen?", "start": 1775.44, "duration": 1.4}, {"text": "I haven't actually specified\nwhere this form should", "start": 1776.84, "duration": 2.4}, {"text": "go when I actually register because I'm\nmissing some key details on the form", "start": 1779.24, "duration": 3.731}, {"text": "tag.", "start": 1782.971, "duration": 0.499}, {"text": "And we haven't done this\nin a couple of weeks.", "start": 1783.47, "duration": 1.916}, {"text": "But when we were playfully\nreimplementing Google,", "start": 1785.386, "duration": 3.094}, {"text": "what else did we add to the form tag?", "start": 1788.48, "duration": 3.86}, {"text": "What attributes?", "start": 1792.34, "duration": 1.02}, {"text": "Anyone remember?", "start": 1796.86, "duration": 2.13}, {"text": "Yeah.", "start": 1798.99, "duration": 0.88}, {"text": "Oh, say again?", "start": 1799.87, "duration": 2.07}, {"text": "Action, which means what?", "start": 1801.94, "duration": 2.91}, {"text": "AUDIENCE: What to do.", "start": 1804.85, "duration": 0.95}, {"text": "DAVID MALAN: What to do.", "start": 1805.8, "duration": 1.0}, {"text": "All right, so the\naction we want to take,", "start": 1806.8, "duration": 1.708}, {"text": "even though this is not\nnecessarily perfectly well named,", "start": 1808.508, "duration": 3.002}, {"text": "is where do you want\nto submit the form to?", "start": 1811.51, "duration": 2.365}, {"text": "And I could actually submit\nthis in a few different ways.", "start": 1813.875, "duration": 2.375}, {"text": "I'm going to go ahead\nand say, you know what,", "start": 1816.25, "duration": 1.874}, {"text": "submit it to a reasonably\nnamed route slash register.", "start": 1818.124, "duration": 3.425}, {"text": "Google, for instance, might\nhave code that instead says", "start": 1821.549, "duration": 2.291}, {"text": "to submit their form to slash search.", "start": 1823.84, "duration": 1.41}, {"text": "But we're not searching for\nsomething, we're registering.", "start": 1825.25, "duration": 1.92}, {"text": "So the name of the route\nis entirely up to us.", "start": 1827.17, "duration": 2.1}, {"text": "And via what method should\nwe submit this information?", "start": 1829.27, "duration": 3.03}, {"text": "What are our two options?", "start": 1832.3, "duration": 1.08}, {"text": "AUDIENCE: Get or post.", "start": 1833.38, "duration": 1.02}, {"text": "DAVID MALAN: Get or post.", "start": 1834.4, "duration": 1.1}, {"text": "Get tends to be the default\nif you don't mention in links.", "start": 1835.5, "duration": 2.98}, {"text": "Why might you want to use post instead?", "start": 1838.48, "duration": 2.839}, {"text": "AUDIENCE: You want it to go to a\ndatabase in order to do something.", "start": 1841.319, "duration": 2.791}, {"text": "DAVID MALAN: Yeah, you want it to\ngo to a database and do something.", "start": 1844.11, "duration": 2.833}, {"text": "And the right verb to use\nthere is to post information", "start": 1846.943, "duration": 2.507}, {"text": "as opposed to getting information.", "start": 1849.45, "duration": 1.56}, {"text": "And even more specifically when it\ncomes to privacy, when you use post,", "start": 1851.01, "duration": 3.18}, {"text": "the information doesn't\nend up in the user's URL,", "start": 1854.19, "duration": 2.615}, {"text": "and therefore doesn't end\nup in his or her history,", "start": 1856.805, "duration": 2.125}, {"text": "and therefore doesn't end up in a place\nthat siblings, or roommates, or anyone", "start": 1858.93, "duration": 3.25}, {"text": "else can actually see\njust by poking around.", "start": 1862.18, "duration": 1.834}, {"text": "So we'll, indeed, go ahead, because\nthis is my name, and dorm, and maybe", "start": 1864.014, "duration": 2.999}, {"text": "my phone number, and email,\nand credit card number,", "start": 1867.013, "duration": 2.189}, {"text": "and the like on some other website.", "start": 1869.202, "duration": 1.458}, {"text": "I'm going to use post for that instead.", "start": 1870.66, "duration": 2.44}, {"text": "So the catch here is\nthat this week, we now", "start": 1873.1, "duration": 3.08}, {"text": "have the ability to\nimplement slash register.", "start": 1876.18, "duration": 2.58}, {"text": "Two weeks ago we could just send\npeople to Google's slash search,", "start": 1878.76, "duration": 3.72}, {"text": "but now we have the ability\nto make our own routes.", "start": 1882.48, "duration": 2.64}, {"text": "But how many routes have we\ndefined thus far in application.py?", "start": 1885.12, "duration": 4.66}, {"text": "Just the one.", "start": 1889.78, "duration": 1.14}, {"text": "And again, some new syntax with\nthe funky at sign and the route", "start": 1890.92, "duration": 3.69}, {"text": "keyword here.", "start": 1894.61, "duration": 1.08}, {"text": "But let me actually\njust intuitively guess", "start": 1895.69, "duration": 2.61}, {"text": "that if I go ahead and say\napp.route slash register,", "start": 1898.3, "duration": 5.16}, {"text": "I bet I could implement a second\nroute and tell the web server", "start": 1903.46, "duration": 2.7}, {"text": "to listen in two places, on slash\nas well as on slash register.", "start": 1906.16, "duration": 4.02}, {"text": "But if I wanted to listen specifically\non post, it actually has to be this.", "start": 1910.18, "duration": 5.37}, {"text": "Methods equals quote-unquote post.", "start": 1915.55, "duration": 3.12}, {"text": "Because by default just for\nconvenience, it assumes only gets.", "start": 1918.67, "duration": 3.704}, {"text": "So I need to add that.", "start": 1922.374, "duration": 0.916}, {"text": "You'd only know that\nfrom the documentation.", "start": 1923.29, "duration": 1.834}, {"text": "Now I'm going to go ahead\nand define a function.", "start": 1925.124, "duration": 1.999}, {"text": "This is slightly an\nannoying feature of Flask.", "start": 1927.123, "duration": 1.927}, {"text": "You have to give the function a\nname even though you'll probably", "start": 1929.05, "duration": 2.666}, {"text": "never reference it anywhere.", "start": 1931.716, "duration": 1.354}, {"text": "So I'm going to go ahead and just\nreasonably call this register.", "start": 1933.07, "duration": 2.91}, {"text": "And now I have a to do.", "start": 1935.98, "duration": 2.08}, {"text": "What am I going to want to do when\nthe user clicks that Submit button?", "start": 1938.06, "duration": 5.006}, {"text": "AUDIENCE: Store it.", "start": 1943.066, "duration": 0.792}, {"text": "DAVID MALAN: I want\nto store it somewhere.", "start": 1943.858, "duration": 1.749}, {"text": "So I probably want to store it.", "start": 1945.607, "duration": 1.513}, {"text": "But what might I want to do first\nbefore he or she is actually", "start": 1947.12, "duration": 3.44}, {"text": "allowed to register, even though\nthey've clicked that submit form?", "start": 1950.56, "duration": 3.84}, {"text": "Maybe confirm their information, right?", "start": 1954.4, "duration": 1.73}, {"text": "Because if a lazy user comes in, or if\na user accidentally clicks the button", "start": 1956.13, "duration": 3.7}, {"text": "or hits enter, they might actually\nsubmit nothing-- no name, no dorm.", "start": 1959.83, "duration": 2.941}, {"text": "That's not useful information.", "start": 1962.771, "duration": 1.249}, {"text": "It could just be perceived as spam.", "start": 1964.02, "duration": 1.667}, {"text": "So we probably want to ask\nsome kind of logical question", "start": 1965.687, "duration": 2.333}, {"text": "like if they didn't give us a name\nor they didn't give us a dorm,", "start": 1968.02, "duration": 3.11}, {"text": "yell at the user in some way.", "start": 1971.13, "duration": 2.019}, {"text": "So I'm going to go ahead and do that.", "start": 1973.149, "duration": 1.541}, {"text": "So let me actually\nexpress this in Python,", "start": 1974.69, "duration": 1.64}, {"text": "kind of like we did last week\nwith some error checking.", "start": 1976.33, "duration": 2.31}, {"text": "So recall that the user's name can\nbe gotten from an HTTP parameter.", "start": 1978.64, "duration": 5.04}, {"text": "From the request.args get, and\nthen ask for the name parameter.", "start": 1983.68, "duration": 5.79}, {"text": "Their dorm, meanwhile, can come\nfrom request.args get dorm.", "start": 1989.47, "duration": 4.11}, {"text": "And again, this\nrequest.args is something", "start": 1993.58, "duration": 2.94}, {"text": "we gave ourselves access to up\nhere when we said, hey Flask,", "start": 1996.52, "duration": 2.91}, {"text": "please give me access to the user's\nrequest, that virtual envelope.", "start": 1999.43, "duration": 3.36}, {"text": "Request.arg refers to all of\nthe HTTP parameters in the URL.", "start": 2002.79, "duration": 3.6}, {"text": "And get is just a function or a\nmethod built into that special Flask", "start": 2006.39, "duration": 3.63}, {"text": "feature that allows us to get\na specific parameter like name,", "start": 2010.02, "duration": 3.24}, {"text": "or dorm, or anything else.", "start": 2013.26, "duration": 1.92}, {"text": "And recall that in Python, what's kind\nof nice is that you can say pretty", "start": 2015.18, "duration": 3.21}, {"text": "English-like, if not name or not--", "start": 2018.39, "duration": 4.1}, {"text": "not dorm, let's go ahead\nand reprimand the user.", "start": 2022.49, "duration": 3.68}, {"text": "For instance, we could say failure\nbecause he or she did not actually", "start": 2026.17, "duration": 4.19}, {"text": "cooperate as we intended.", "start": 2030.36, "duration": 1.62}, {"text": "Otherwise if they did\ncooperate, I'm going", "start": 2031.98, "duration": 2.13}, {"text": "to go ahead and render template success.", "start": 2034.11, "duration": 3.96}, {"text": "And we'll flesh this\nout in just a moment.", "start": 2038.07, "duration": 1.96}, {"text": "So I've got two scenarios handled.", "start": 2040.03, "duration": 1.49}, {"text": "If they didn't cooperate or if they\ndid, render quote-unquote failure", "start": 2041.52, "duration": 3.63}, {"text": "or a full fledged HTML template.", "start": 2045.15, "duration": 2.17}, {"text": "So now that I've implemented slash\nregister and I'm listening for a route", "start": 2047.32, "duration": 4.78}, {"text": "by a post, let's go ahead and\nreload the page for good measure.", "start": 2052.1, "duration": 3.13}, {"text": "Type in my name.", "start": 2055.23, "duration": 0.96}, {"text": "Not going to tell you my dorm, but\nyou're going to notice as much.", "start": 2056.19, "duration": 3.92}, {"text": "OK, so now the server has noticed that\nI didn't actually cooperate and provide", "start": 2060.11, "duration": 3.97}, {"text": "both a name and a dorm.", "start": 2064.08, "duration": 1.17}, {"text": "And so it's returning to me\njust quote-unquote failure.", "start": 2065.25, "duration": 2.654}, {"text": "So that's good because now I know, all\nright, I did something wrong clearly.", "start": 2067.904, "duration": 3.166}, {"text": "Let me go back let me go ahead\nand maybe do Canaday here.", "start": 2071.07, "duration": 3.54}, {"text": "And now let me go ahead and register.", "start": 2074.61, "duration": 1.62}, {"text": "But, but, but, but, this I know\nin advance is going to err.", "start": 2076.23, "duration": 3.0}, {"text": "Why?", "start": 2079.23, "duration": 1.56}, {"text": "I don't have a success.html.", "start": 2080.79, "duration": 1.5}, {"text": "OK, so let's preemptively address this.", "start": 2082.29, "duration": 2.25}, {"text": "Let me actually go in here\nto my templates directory.", "start": 2084.54, "duration": 2.699}, {"text": "I'm going to go ahead and create\na new file called success.html.", "start": 2087.239, "duration": 4.801}, {"text": "Let me go into the\ntemplates to save it there.", "start": 2092.04, "duration": 2.359}, {"text": "And you know what, success\ncan be a pretty simple page.", "start": 2094.399, "duration": 2.291}, {"text": "And let me open my index page, let\nme copy that, let me go into success,", "start": 2096.69, "duration": 3.61}, {"text": "let me paste this.", "start": 2100.3, "duration": 0.86}, {"text": "Let me get rid of all of that body\nand just say success, for instance.", "start": 2101.16, "duration": 5.31}, {"text": "So let me now go ahead\nand go restart Flask,", "start": 2106.47, "duration": 4.22}, {"text": "because I've made a new template.", "start": 2110.69, "duration": 1.42}, {"text": "Let me go ahead and reload the\nform just for good measure.", "start": 2112.11, "duration": 2.416}, {"text": "Let me go ahead and give you my name\nthis time, and OK, I live in Canaday,", "start": 2114.526, "duration": 3.194}, {"text": "and register.", "start": 2117.72, "duration": 2.04}, {"text": "And what did I do wrong this time?", "start": 2119.76, "duration": 2.32}, {"text": "So it turns out you can't\ndo it this way, obviously.", "start": 2122.08, "duration": 3.86}, {"text": "[LAUGHTER] So when you're\nactually submitting information to", "start": 2125.94, "duration": 5.37}, {"text": "via a form via get,\nFlask very cleverly puts", "start": 2131.31, "duration": 4.41}, {"text": "that information in a different place.", "start": 2135.72, "duration": 1.74}, {"text": "Because by definition, as I\nclaim very correctly earlier,", "start": 2137.46, "duration": 2.91}, {"text": "in request.args are all\nof the key value pairs", "start": 2140.37, "duration": 2.49}, {"text": "that are in the URL that are\ncoming in from the user's request.", "start": 2142.86, "duration": 3.93}, {"text": "But when you submit via post, for\nreasons I wish were now otherwise", "start": 2146.79, "duration": 4.08}, {"text": "you actually have to access those\nvalues via a different variable.", "start": 2150.87, "duration": 4.06}, {"text": "So instead of using request.args, you\nhave to use request.form both here", "start": 2154.93, "duration": 3.83}, {"text": "and here to make clear-- and this is\nhorribly named for exactly the reasons", "start": 2158.76, "duration": 4.23}, {"text": "that I think I'm tripping over here--", "start": 2162.99, "duration": 1.56}, {"text": "because they actually are both coming\nin via a form, via a get or post.", "start": 2164.55, "duration": 4.83}, {"text": "But Flask puts get arguments in args\nand puts post arguments in form.", "start": 2169.38, "duration": 6.39}, {"text": "Thereby leading clearly\nto potential confusion.", "start": 2175.77, "duration": 2.25}, {"text": "But if I go ahead now and load this\nversion of the site and I keep hoping,", "start": 2178.02, "duration": 6.9}, {"text": "I'm going to go ahead now run Flask,\nrestart this page, type in David,", "start": 2184.92, "duration": 6.69}, {"text": "give you my dorm, and register and\nsuccessfully register for froshim.", "start": 2191.61, "duration": 4.63}, {"text": "See how easy web programming is?", "start": 2196.24, "duration": 2.78}, {"text": "So hopefully now we can at least focus\non the structure of what I've done", "start": 2199.02, "duration": 5.16}, {"text": "and now begin to improve it.", "start": 2204.18, "duration": 1.41}, {"text": "Because notice that I kind of did not\npractice what I preached a moment ago.", "start": 2205.59, "duration": 4.32}, {"text": "What habit did I violate when\nI whipped up success.html?", "start": 2209.91, "duration": 6.144}, {"text": "How did I get to that point?", "start": 2216.054, "duration": 1.166}, {"text": "Yeah?", "start": 2217.22, "duration": 0.41}, {"text": "AUDIENCE: Copy and paste.", "start": 2217.63, "duration": 0.33}, {"text": "DAVID MALAN: Yeah, I copied and paste.", "start": 2217.96, "duration": 1.583}, {"text": "Which again, usually in programming\nnot the right thing to do.", "start": 2219.543, "duration": 2.907}, {"text": "Might get the job done super fast,\nbut it's probably the wrong instinct,", "start": 2222.45, "duration": 3.1}, {"text": "because it's going to get\nharder and harder to maintain.", "start": 2225.55, "duration": 1.62}, {"text": "Now, why is that?", "start": 2227.17, "duration": 0.89}, {"text": "You've played HTML a\ncouple of weeks ago.", "start": 2228.06, "duration": 2.16}, {"text": "And recall from that problem set\nwhen you had to make a home page,", "start": 2230.22, "duration": 3.72}, {"text": "you probably found yourselves\ncopying and pasting across your two,", "start": 2233.94, "duration": 3.6}, {"text": "or three, or four pages because you\nwanted them to kind of look the same.", "start": 2237.54, "duration": 3.39}, {"text": "And therefore it made sense for\nthem to have some commonalities.", "start": 2240.93, "duration": 2.79}, {"text": "But in HTML alone, there was no way to\nsay use the same layout for my whole", "start": 2243.72, "duration": 5.01}, {"text": "site-- use the same color scheme,\nthe same fonts, the same CSS--", "start": 2248.73, "duration": 3.33}, {"text": "but just change the body of the\npage for each individual page.", "start": 2252.06, "duration": 3.451}, {"text": "And so some of you very rightly\non discourse and beyond like", "start": 2255.511, "duration": 2.499}, {"text": "posted questions asking,\ncould you do this?", "start": 2258.01, "duration": 1.87}, {"text": "And you can't really in HTML alone.", "start": 2259.88, "duration": 3.15}, {"text": "But now that we have access to\nPython, an actual programming language", "start": 2263.03, "duration": 3.02}, {"text": "they can do things logically,\nnow you can actually", "start": 2266.05, "duration": 2.28}, {"text": "start to factor those things out, too.", "start": 2268.33, "duration": 2.16}, {"text": "And notice in this file, success.html,\nas well as in index.html,", "start": 2270.49, "duration": 6.51}, {"text": "what are some of the\ncommonalities, suffice it to say?", "start": 2277.0, "duration": 3.12}, {"text": "The form is only in\none of them, but what", "start": 2280.12, "duration": 2.4}, {"text": "else is obviously redundant everywhere?", "start": 2282.52, "duration": 3.67}, {"text": "The title, the head of the page more\ngenerally, the doctype at the very top,", "start": 2286.19, "duration": 4.65}, {"text": "the body tag alone.", "start": 2290.84, "duration": 0.927}, {"text": "And you could imagine there'd be even\nmore details like from your own home", "start": 2291.767, "duration": 3.083}, {"text": "pages that you wanted to be\nthe same across multiple pages.", "start": 2294.85, "duration": 3.5}, {"text": "So let's actually take a look at\na refactorization of this code,", "start": 2298.35, "duration": 3.77}, {"text": "the one I did write in\nadvance in froshim0,", "start": 2302.12, "duration": 2.97}, {"text": "and you'll see why it\nactually makes sense", "start": 2305.09, "duration": 2.94}, {"text": "to have not only multiple\nfiles, each of which", "start": 2308.03, "duration": 2.79}, {"text": "represents one of your\nroutes or your views,", "start": 2310.82, "duration": 3.24}, {"text": "but also to have this\nfile called layout.html.", "start": 2314.06, "duration": 3.66}, {"text": "In Flask, when building a\nweb application that you know", "start": 2317.72, "duration": 2.85}, {"text": "is going to follow a certain\nstructural pattern, commonalities", "start": 2320.57, "duration": 3.0}, {"text": "across all of your pages,\nyou can actually do this.", "start": 2323.57, "duration": 3.22}, {"text": "So in this file here, layout.html\nis a whole bunch of hardcoded HTML.", "start": 2326.79, "duration": 5.78}, {"text": "And it's pretty simple.", "start": 2332.57, "duration": 0.97}, {"text": "It's got my HTML tag, head tag, title\ntag, body tag, and a few other things,", "start": 2333.54, "duration": 4.29}, {"text": "but that's the general\nstructure of the page.", "start": 2337.83, "duration": 2.04}, {"text": "And notice it has this\nfunky syntax in the middle.", "start": 2339.87, "duration": 2.42}, {"text": "In white here is what's\ncalled the block.", "start": 2342.29, "duration": 2.67}, {"text": "This is now Flask specific.", "start": 2344.96, "duration": 2.05}, {"text": "Just like Flask supports those\ntwo curly braces on the left", "start": 2347.01, "duration": 2.75}, {"text": "and the right that says\nput a value here, flask", "start": 2349.76, "duration": 2.76}, {"text": "also supports this other notation,\ncurly brace percent and percent curly", "start": 2352.52, "duration": 4.71}, {"text": "brace that actually allows you to put\nplaceholders for actual chunks of HTML.", "start": 2357.23, "duration": 5.67}, {"text": "Not just variables, but\nactual chunks of HTML.", "start": 2362.9, "duration": 3.15}, {"text": "And so this layout you can\nthink of as a mold or a template", "start": 2366.05, "duration": 3.42}, {"text": "literally that all of your other pages\nare going to be structured based on,", "start": 2369.47, "duration": 4.31}, {"text": "but they are going to vary in\nthis line and only this line.", "start": 2373.78, "duration": 3.4}, {"text": "And we're going to put as much HTML\nbetween the body tags as we want,", "start": 2377.18, "duration": 3.42}, {"text": "the open and the close tag.", "start": 2380.6, "duration": 1.47}, {"text": "This just indicates to Flask this is\nthe stuff that should be changing.", "start": 2382.07, "duration": 3.79}, {"text": "So if I now look at my\nindex.html, which recall earlier", "start": 2385.86, "duration": 4.21}, {"text": "contained my form index.html.", "start": 2390.07, "duration": 3.19}, {"text": "Notice that here's the form,\nand I finished it earlier.", "start": 2393.26, "duration": 2.522}, {"text": "I went ahead and typed out\nall of the freshman dorms,", "start": 2395.782, "duration": 2.208}, {"text": "not just the two of them.", "start": 2397.99, "duration": 1.27}, {"text": "And you'll see that the\nfile starts almost the same", "start": 2399.26, "duration": 2.58}, {"text": "and then continues with more stuff.", "start": 2401.84, "duration": 2.14}, {"text": "But notice what's missing\nfrom index.html this time.", "start": 2403.98, "duration": 3.11}, {"text": "No doctype.", "start": 2407.09, "duration": 1.26}, {"text": "No HTML tag.", "start": 2408.35, "duration": 1.47}, {"text": "No head tag, no title tag, no body tag.", "start": 2409.82, "duration": 2.52}, {"text": "All of the common stuff\nhas been factored out.", "start": 2412.34, "duration": 2.43}, {"text": "But there's some funky new syntax\nthat, again, is Flask specific.", "start": 2414.77, "duration": 3.51}, {"text": "This first line is the link\nbetween this file and the layout.", "start": 2418.28, "duration": 3.81}, {"text": "That first line says, hey\nFlask, this index.html file", "start": 2422.09, "duration": 3.78}, {"text": "extends the definition of layout.html.", "start": 2425.87, "duration": 3.27}, {"text": "So it says grab that template\nand plug myself in there.", "start": 2429.14, "duration": 2.52}, {"text": "What do you want to plug in?", "start": 2431.66, "duration": 1.26}, {"text": "The same syntax here.", "start": 2432.92, "duration": 1.38}, {"text": "When you actually put\nstuff between the block tag", "start": 2434.3, "duration": 3.27}, {"text": "and the end block tag, which is down\nbelow, that's when you say to Flask,", "start": 2437.57, "duration": 4.56}, {"text": "go ahead and take this stuff and plug\nit into the placeholder in the layout.", "start": 2442.13, "duration": 4.41}, {"text": "So meanwhile, the success page also\nnow can be a little more sophisticated.", "start": 2446.54, "duration": 4.59}, {"text": "If I go into success,\nit's not very complicated.", "start": 2451.13, "duration": 2.94}, {"text": "And honestly, it doesn't\neven look like HTML", "start": 2454.07, "duration": 1.89}, {"text": "anymore because we're using\nthese more dynamic features.", "start": 2455.96, "duration": 2.64}, {"text": "But this just says, hey\nFlask, use the same layout", "start": 2458.6, "duration": 2.58}, {"text": "so the page is structured\nexactly the same.", "start": 2461.18, "duration": 2.23}, {"text": "But for the body, go ahead and\nplug in this value instead.", "start": 2463.41, "duration": 4.01}, {"text": "So indeed, when you go ahead\nand load this success message,", "start": 2467.42, "duration": 2.805}, {"text": "you see this message\nhere-- not just success,", "start": 2470.225, "duration": 1.875}, {"text": "I expounded here and\nsaid you are registered.", "start": 2472.1, "duration": 2.126}, {"text": "Well, not really, that's\nbecause there's no database yet.", "start": 2474.226, "duration": 2.374}, {"text": "But that's going to generate\na full fledged HTML page.", "start": 2476.6, "duration": 2.64}, {"text": "And what about failure?", "start": 2479.24, "duration": 1.05}, {"text": "Before I was just cheating and\njust saying return failure,", "start": 2480.29, "duration": 2.52}, {"text": "quote-unquote, no HTML at all.", "start": 2482.81, "duration": 1.83}, {"text": "The failure page is going\nto be almost the same,", "start": 2484.64, "duration": 2.46}, {"text": "but now I can actually\nprovide some descriptive text.", "start": 2487.1, "duration": 3.12}, {"text": "This body just says you must\nprovide your name and dorm,", "start": 2490.22, "duration": 3.18}, {"text": "thereby admonishing the user for\nnot having cooperated properly.", "start": 2493.4, "duration": 3.64}, {"text": "So now your home pages, if you\nkind of extrapolate from this,", "start": 2497.04, "duration": 3.08}, {"text": "could have the exact same\nlayout, aesthetics and menu bars,", "start": 2500.12, "duration": 3.51}, {"text": "and all of that fanciness, but only\nthe content would have to change.", "start": 2503.63, "duration": 3.134}, {"text": "And you can get out of the business\nof just copying and pasting.", "start": 2506.764, "duration": 2.666}, {"text": "So there, too, to your question\nearlier about dynamism,", "start": 2509.43, "duration": 2.54}, {"text": "the dynamism doesn't have\nto just come from the user.", "start": 2511.97, "duration": 2.45}, {"text": "It can also come from the\nconstruction dynamically of a website", "start": 2514.42, "duration": 3.76}, {"text": "based on multiple pages.", "start": 2518.18, "duration": 1.022}, {"text": "So at the end of the\nday, the browser has", "start": 2519.202, "duration": 1.708}, {"text": "no idea that Python exists,\nhas no familiarity with Flask.", "start": 2520.91, "duration": 4.65}, {"text": "All the browser still\nsees is an HTML page.", "start": 2525.56, "duration": 2.46}, {"text": "But what Flask and in\nturn Python are doing", "start": 2528.02, "duration": 2.01}, {"text": "for us is constructing that\npage dynamically, following", "start": 2530.03, "duration": 3.6}, {"text": "the rules from two weeks\nto go in HTML and CSS,", "start": 2533.63, "duration": 2.22}, {"text": "and following last week's\nrules on how Python works.", "start": 2535.85, "duration": 3.804}, {"text": "Questions?", "start": 2539.654, "duration": 2.952}, {"text": "AUDIENCE: So even though [INAUDIBLE]", "start": 2542.606, "duration": 2.952}, {"text": "DAVID MALAN: It's not.", "start": 2553.93, "duration": 1.14}, {"text": "Good question.", "start": 2555.07, "duration": 1.11}, {"text": "This new syntax, the double curly\nbraces that we saw earlier and now", "start": 2556.18, "duration": 3.12}, {"text": "the curly brace percent signs, this\nis actually yet another language", "start": 2559.3, "duration": 4.11}, {"text": "called jinja--", "start": 2563.41, "duration": 1.01}, {"text": "J-I-N-J-A-- which is\na templating language.", "start": 2564.42, "duration": 4.197}, {"text": "And there's dozens of these things\nin the world, people just come up", "start": 2568.617, "duration": 2.833}, {"text": "with their own syntax.", "start": 2571.45, "duration": 1.29}, {"text": "And the reason for the funky\nsyntax is that the author of jinja", "start": 2572.74, "duration": 3.63}, {"text": "presumably could think\nof no other language that", "start": 2576.37, "duration": 2.55}, {"text": "uses like a curly brace\nand a percent sign", "start": 2578.92, "duration": 2.61}, {"text": "and a percent sign and a curly brace.", "start": 2581.53, "duration": 1.626}, {"text": "And so therefore they\ndecided, you know what,", "start": 2583.156, "duration": 1.874}, {"text": "I'm going to use this syntax because\nit will look distinct from HTML,", "start": 2585.03, "duration": 3.34}, {"text": "and CSS, and Python So\nthat frameworks like Flask", "start": 2588.37, "duration": 3.6}, {"text": "don't confuse it with something else.", "start": 2591.97, "duration": 2.427}, {"text": "AUDIENCE: So do you have to upload that\ninto [INAUDIBLE],, or is it automatic?", "start": 2594.397, "duration": 3.973}, {"text": "DAVID MALAN: It's\nautomatically supported.", "start": 2598.37, "duration": 1.75}, {"text": "So Flask by default supports jinja.", "start": 2600.12, "duration": 3.43}, {"text": "It could have come up with\nits own templating syntax.", "start": 2603.55, "duration": 2.34}, {"text": "But whoever invented Flask decided\nI don't need to reinvent this wheel,", "start": 2605.89, "duration": 3.292}, {"text": "someone else already made\na templating language", "start": 2609.182, "duration": 1.958}, {"text": "that gives me this functionality.", "start": 2611.14, "duration": 1.5}, {"text": "So I'm going to combine\nour works into one.", "start": 2612.64, "duration": 2.145}, {"text": "And I didn't call it a\nlanguage a moment ago,", "start": 2614.785, "duration": 1.875}, {"text": "because frankly, HTML,\nCSS, Python, JavaScript--", "start": 2616.66, "duration": 2.597}, {"text": "I mean, we're already\nrunning out of fingers here.", "start": 2619.257, "duration": 2.083}, {"text": "But jinja is, indeed,\nyet another language.", "start": 2621.34, "duration": 2.47}, {"text": "It's just not a programming\nlanguage per se,", "start": 2623.81, "duration": 2.24}, {"text": "though it will have some\ncontrol flow features", "start": 2626.05, "duration": 2.13}, {"text": "that we'll see in a little bit.", "start": 2628.18, "duration": 1.291}, {"text": "It's just much more limited than Python.", "start": 2629.471, "duration": 1.679}, {"text": "Other questions?", "start": 2631.15, "duration": 0.95}, {"text": "AUDIENCE: Is it possible to combine\nthe success and failure HTML", "start": 2632.1, "duration": 2.68}, {"text": "files into one just for better design?", "start": 2634.78, "duration": 2.715}, {"text": "DAVID MALAN: Good question.", "start": 2637.495, "duration": 1.125}, {"text": "Could you combine the success\nand the failure pages into one?", "start": 2638.62, "duration": 4.56}, {"text": "Short answer, yes.", "start": 2643.18, "duration": 0.93}, {"text": "And let me not show it yet, because\nit'll get a little more complicated.", "start": 2644.11, "duration": 3.0}, {"text": "But yes, I could imagine passing\na variable in that's a Boolean--", "start": 2647.11, "duration": 4.26}, {"text": "true or false--", "start": 2651.37, "duration": 1.05}, {"text": "into just one of these templates.", "start": 2652.42, "duration": 1.38}, {"text": "And maybe I call the new\ntemplate result.html.", "start": 2653.8, "duration": 3.39}, {"text": "I can actually then have an if\ncondition in my template that", "start": 2657.19, "duration": 3.51}, {"text": "says if the result is true, say this.", "start": 2660.7, "duration": 2.4}, {"text": "Else if the result is\nfalse, say this other thing.", "start": 2663.1, "duration": 2.41}, {"text": "So you could do that, yes.", "start": 2665.51, "duration": 1.52}, {"text": "Generally, though, it's probably\ncleaner to keep messaging separate", "start": 2667.03, "duration": 4.015}, {"text": "if they functionally do something else.", "start": 2671.045, "duration": 1.625}, {"text": "After all, these files\nare pretty small anyway.", "start": 2672.67, "duration": 2.76}, {"text": "Yeah?", "start": 2675.43, "duration": 0.682}, {"text": "AUDIENCE: Just for\nquestion, what does the user", "start": 2676.112, "duration": 1.958}, {"text": "see if they were to open up\nthe debugging console on Chrome", "start": 2678.07, "duration": 3.93}, {"text": "and look at at it, what do they\nsee as the HTML that shows up?", "start": 2682.0, "duration": 4.474}, {"text": "DAVID MALAN: Really good question.", "start": 2686.474, "duration": 1.416}, {"text": "What does the user see?", "start": 2687.89, "duration": 0.958}, {"text": "We can answer this by just\nliterally opening Chrome and opening", "start": 2688.848, "duration": 3.022}, {"text": "View Page Source or the Inspector.", "start": 2691.87, "duration": 2.1}, {"text": "This is what the browser sees.", "start": 2693.97, "duration": 1.32}, {"text": "So when I claimed earlier that the\nbrowser has no idea of Python or Flask", "start": 2695.29, "duration": 3.48}, {"text": "are even involved,\nthat is, indeed, true.", "start": 2698.77, "duration": 1.95}, {"text": "Because what browser's\nreceiving at the end of the day", "start": 2700.72, "duration": 2.25}, {"text": "is just this, the\ndynamically constructed HTML.", "start": 2702.97, "duration": 3.427}, {"text": "Good question.", "start": 2706.397, "duration": 0.583}, {"text": "Yeah?", "start": 2706.98, "duration": 0.794}, {"text": "AUDIENCE: [INAUDIBLE] can you\nalso put Python code in there,", "start": 2707.774, "duration": 3.318}, {"text": "or is it just HTML?", "start": 2711.092, "duration": 0.905}, {"text": "Good question.", "start": 2711.997, "duration": 0.583}, {"text": "We'll see more of this\nin just a little bit.", "start": 2712.58, "duration": 1.833}, {"text": "The question is, can you between\nthe curly brace and percent signs", "start": 2714.413, "duration": 3.427}, {"text": "put actual Python code?", "start": 2717.84, "duration": 1.79}, {"text": "You can put stuff that looks like\nPython code, but not all of Python.", "start": 2719.63, "duration": 3.54}, {"text": "And so more of that in a bit.", "start": 2723.17, "duration": 1.545}, {"text": "AUDIENCE: Is there a function\ncall or something like that?", "start": 2724.715, "duration": 1.485}, {"text": "DAVID MALAN: Only certain functions.", "start": 2726.2, "duration": 1.5}, {"text": "Templating languages, long\nstory short, are sandbox so", "start": 2727.7, "duration": 2.61}, {"text": "that they are not as expressive\nas a real programming language.", "start": 2730.31, "duration": 3.0}, {"text": "Otherwise you are vulnerable\nto potential hacks.", "start": 2733.31, "duration": 2.805}, {"text": "You want their functionality to\nbe very limited because they're", "start": 2736.115, "duration": 2.625}, {"text": "only about displaying data, not about\nthinking or doing logic generally.", "start": 2738.74, "duration": 4.08}, {"text": "More on that in a bit.", "start": 2742.82, "duration": 0.967}, {"text": "All right, that was a lot all at once.", "start": 2743.787, "duration": 1.583}, {"text": "Let's take a five minute break\nhere, turn on some music, come back,", "start": 2745.37, "duration": 2.791}, {"text": "and we'll make this act better.", "start": 2748.161, "duration": 1.61}, {"text": "All right, we are back.", "start": 2749.771, "duration": 1.539}, {"text": "So to recap where\nfroshim0 left off, we now", "start": 2751.31, "duration": 3.51}, {"text": "have this structure which\nis pretty much conventional.", "start": 2754.82, "duration": 3.3}, {"text": "Any web application\nwe make here on out is", "start": 2758.12, "duration": 2.52}, {"text": "going to follow this pattern of having\nan application.py entry point where", "start": 2760.64, "duration": 3.9}, {"text": "all the interesting stuff\nstarts, a layout.html file", "start": 2764.54, "duration": 3.572}, {"text": "in your templates\ndirectory that lays out", "start": 2768.112, "duration": 1.708}, {"text": "the whole site and any commonalities,\nand then one or more other pages that", "start": 2769.82, "duration": 4.08}, {"text": "actually represent your individual\nviews that correspond to one or more", "start": 2773.9, "duration": 3.54}, {"text": "of your actual routes.", "start": 2777.44, "duration": 1.32}, {"text": "So now we're at the point\nof a stable baseline,", "start": 2778.76, "duration": 2.67}, {"text": "but had we dived in right to this, it\nwould perhaps not make as much sense", "start": 2781.43, "duration": 3.57}, {"text": "as to why we did this\nvarious factorization.", "start": 2785.0, "duration": 2.92}, {"text": "So let's now improve this.", "start": 2787.92, "duration": 1.34}, {"text": "Because of course, if\nyou look at success.html,", "start": 2789.26, "duration": 2.67}, {"text": "it just claims you are registered.", "start": 2791.93, "duration": 1.48}, {"text": "Well, not really.", "start": 2793.41, "duration": 1.17}, {"text": "Because in application.py, did we do\nanything with the user's information?", "start": 2794.58, "duration": 6.15}, {"text": "No.", "start": 2800.73, "duration": 0.5}, {"text": "We just checked, did\nthey give us information?", "start": 2801.23, "duration": 1.916}, {"text": "And if so, we claim success.", "start": 2803.146, "duration": 1.414}, {"text": "Else if they missed their name and/or\ntheir dorm, we just claimed failure.", "start": 2804.56, "duration": 3.48}, {"text": "So what might a data\nstructure be in Python", "start": 2808.04, "duration": 3.51}, {"text": "where we could store registrants?", "start": 2811.55, "duration": 1.476}, {"text": "We don't have databases\nyet, we don't have SQL yet.", "start": 2813.026, "duration": 2.124}, {"text": "That's a week ahead.", "start": 2815.15, "duration": 1.19}, {"text": "AUDIENCE: Array.", "start": 2816.34, "duration": 0.7}, {"text": "DAVID MALAN: Yeah, we could\nuse an array, otherwise known", "start": 2817.04, "duration": 2.375}, {"text": "as a list in Python.", "start": 2819.415, "duration": 1.015}, {"text": "So let me propose how we might do this.", "start": 2820.43, "duration": 2.07}, {"text": "Let me actually open up froshims1 for\nour second iteration of this program.", "start": 2822.5, "duration": 5.55}, {"text": "And in application.py, notice this.", "start": 2828.05, "duration": 2.46}, {"text": "At the very top of the\nfile, not only am I", "start": 2830.51, "duration": 2.46}, {"text": "creating my application using\nthe same line as before,", "start": 2832.97, "duration": 3.42}, {"text": "and I've commented things this time\nin advance using the hash symbol,", "start": 2836.39, "duration": 3.6}, {"text": "notice that I claim that\non line 6 and 7 here, here", "start": 2839.99, "duration": 2.67}, {"text": "is an empty list for all of the\nstudents who have registered.", "start": 2842.66, "duration": 2.88}, {"text": "This way we can keep\nthe information around.", "start": 2845.54, "duration": 1.939}, {"text": "And we only did this briefly\nlast time, but does anyone", "start": 2847.479, "duration": 2.291}, {"text": "remember how you add\nsomething to a list in Python?", "start": 2849.77, "duration": 3.56}, {"text": "By what function?", "start": 2853.33, "duration": 1.77}, {"text": "Append.", "start": 2855.1, "duration": 0.93}, {"text": "So if you have .append at\nthe end of a list's name,", "start": 2856.03, "duration": 2.564}, {"text": "you can add something to it.", "start": 2858.594, "duration": 1.166}, {"text": "So where is that going to go?", "start": 2859.76, "duration": 1.35}, {"text": "Well, here is my route for slash,\nimplies, again, get by default.", "start": 2861.11, "duration": 3.731}, {"text": "That's the default route\nthat a human might get,", "start": 2864.841, "duration": 1.999}, {"text": "and they are going to see\nindex.html, which contains that form.", "start": 2866.84, "duration": 3.63}, {"text": "If I scroll down now, you'll see that I\nhave a register route just like before.", "start": 2870.47, "duration": 4.8}, {"text": "But I'm doing one additional step.", "start": 2875.27, "duration": 3.06}, {"text": "Which is the new line here, to be clear?", "start": 2878.33, "duration": 3.102}, {"text": "Yeah, 26.", "start": 2881.432, "duration": 1.668}, {"text": "So I could implement this\nin any number of ways.", "start": 2883.1, "duration": 2.32}, {"text": "But the key detail is that I\nreference the list name-- students,", "start": 2885.42, "duration": 2.7}, {"text": "but I could have called it anything.", "start": 2888.12, "duration": 1.5}, {"text": ".append, as someone proposed, is how you\nadd something to the end of the list.", "start": 2889.62, "duration": 3.25}, {"text": "And then I can add anything I want.", "start": 2892.87, "duration": 1.458}, {"text": "To keep it simple, I'm\njust going to add a string.", "start": 2894.328, "duration": 2.186}, {"text": "And I'm going to keep\nit super simple and just", "start": 2896.514, "duration": 1.916}, {"text": "say the string is so-and-so\nfrom such and such a dorm.", "start": 2898.43, "duration": 3.51}, {"text": "So David from Matthews Hall,\nor Brian from wherever.", "start": 2901.94, "duration": 3.54}, {"text": "And so here we have placeholders\nusing f strings in Python.", "start": 2905.48, "duration": 3.291}, {"text": "So this has nothing\nto do with Flask, this", "start": 2908.771, "duration": 1.749}, {"text": "has nothing to do with jinja or\nanything we just talked about.", "start": 2910.52, "duration": 3.03}, {"text": "This has to do everything with\nlast week's syntax in Python alone.", "start": 2913.55, "duration": 3.9}, {"text": "So this appends to that list\nthis name from this dorm.", "start": 2917.45, "duration": 4.6}, {"text": "So let's go ahead now\nand try this version out.", "start": 2922.05, "duration": 2.78}, {"text": "If I go into my source sub and directory\nfor today's code into froshims1", "start": 2924.83, "duration": 5.37}, {"text": "and run flask run, we'll see\na URL that I can now visit.", "start": 2930.2, "duration": 3.81}, {"text": "Let me go ahead and\nopen that for froshims1.", "start": 2934.01, "duration": 2.62}, {"text": "Notice that I have that\ncomplete dropdown now.", "start": 2936.63, "duration": 2.51}, {"text": "Let me go ahead and say David, but\nI'm not going to tell you my dorm", "start": 2939.14, "duration": 3.75}, {"text": "yet and try to register.", "start": 2942.89, "duration": 1.83}, {"text": "Now I see a more friendly\nmessage, not just failure.", "start": 2944.72, "duration": 2.49}, {"text": "And that's because of my\nnew and improved template.", "start": 2947.21, "duration": 2.82}, {"text": "OK, I'll go ahead and be David,\nand I'll be from Matthews here.", "start": 2950.03, "duration": 2.64}, {"text": "Let me go ahead and register and voila.", "start": 2952.67, "duration": 2.13}, {"text": "Now we see David from\nMatthews has registered.", "start": 2954.8, "duration": 2.544}, {"text": "And it seems to be all of a sudden\nin the form of a new bulleted list.", "start": 2957.344, "duration": 2.916}, {"text": "But where did that actually come from?", "start": 2960.26, "duration": 1.869}, {"text": "Well, I don't know.", "start": 2962.129, "duration": 0.791}, {"text": "Let me try this again.", "start": 2962.92, "duration": 0.916}, {"text": "Let me go back to slash, which is\nthe route that gives me the form.", "start": 2963.836, "duration": 3.024}, {"text": "Let me go ahead and type in not\nDavid this time, but say, Brian.", "start": 2966.86, "duration": 2.905}, {"text": "And Brian, which dorm are you in?", "start": 2969.765, "duration": 1.375}, {"text": "AUDIENCE: Pennypacker.", "start": 2971.14, "duration": 0.94}, {"text": "DAVID MALAN: Pennypacker.", "start": 2972.08, "duration": 1.041}, {"text": "So let me choose this from the\nmenu instead and click Register.", "start": 2973.121, "duration": 2.949}, {"text": "And now we see Brian from Pennypacker.", "start": 2976.07, "duration": 1.62}, {"text": "So somehow the application\nis changing state,", "start": 2977.69, "duration": 2.28}, {"text": "and notice the URL that we're\nat is called slash registrants.", "start": 2979.97, "duration": 3.76}, {"text": "So that seems to be a third route this\ntime that apparently is not interactive", "start": 2983.73, "duration": 3.8}, {"text": "per se, it just spits out the\nlist of registered students.", "start": 2987.53, "duration": 2.95}, {"text": "So let's just put the\nproverbial engineering hat on.", "start": 2990.48, "duration": 2.99}, {"text": "If we go about implementing\nthis slash registrants route,", "start": 2993.47, "duration": 3.48}, {"text": "logically what must that code be doing\nin verbal pseudocode, if you will?", "start": 2996.95, "duration": 7.026}, {"text": "AUDIENCE: A for loop?", "start": 3003.976, "duration": 1.334}, {"text": "DAVID MALAN: Like a for\nloop, iterating over what?", "start": 3005.31, "duration": 2.29}, {"text": "AUDIENCE: In the list that\nsaves all the registrants.", "start": 3007.6, "duration": 2.57}, {"text": "DAVID MALAN: Yeah.", "start": 3010.17, "duration": 0.93}, {"text": "Iterating over the\nlist of students which", "start": 3011.1, "duration": 2.04}, {"text": "contains all of those registrants.", "start": 3013.14, "duration": 1.5}, {"text": "And the template, meanwhile, probably\nhas like an LI tag for list item", "start": 3014.64, "duration": 4.35}, {"text": "and a UL tag for unordered list,\nwhich gives me the bulleted list.", "start": 3018.99, "duration": 3.49}, {"text": "So let's take a look at that.", "start": 3022.48, "duration": 1.26}, {"text": "So how do we follow these breadcrumbs?", "start": 3023.74, "duration": 2.25}, {"text": "Well, if I scroll up in\napplication.py, we'll", "start": 3025.99, "duration": 3.32}, {"text": "see a route called slash registrants.", "start": 3029.31, "duration": 2.13}, {"text": "And you'll see that\nall it does apparently", "start": 3031.44, "duration": 2.4}, {"text": "is it returns a template\ncalled registered.html,", "start": 3033.84, "duration": 3.02}, {"text": "where registered.html is probably a\ntemplate that is generating that list.", "start": 3036.86, "duration": 3.46}, {"text": "But there's something\ndifferent this time.", "start": 3040.32, "duration": 2.58}, {"text": "I'm passing in an argument.", "start": 3042.9, "duration": 1.26}, {"text": "And we saw this earlier.", "start": 3044.16, "duration": 1.23}, {"text": "When I wanted to pass in name\nequals David or name equals Brian,", "start": 3045.39, "duration": 3.33}, {"text": "I just grabbed that from a variable.", "start": 3048.72, "duration": 2.73}, {"text": "This time I'm not doing request.args,\nI'm not doing request.form.", "start": 3051.45, "duration": 3.114}, {"text": "Because what is students?", "start": 3054.564, "duration": 1.041}, {"text": "Where did this come from?", "start": 3058.4, "duration": 2.35}, {"text": "That's the list from higher up.", "start": 3060.75, "duration": 1.76}, {"text": "Recall that we have this global variable\nat the top of the program, students,", "start": 3062.51, "duration": 3.96}, {"text": "which is initialized to an empty list.", "start": 3066.47, "duration": 1.77}, {"text": "But recall that we keep appending\nto it in my register route.", "start": 3068.24, "duration": 3.75}, {"text": "So I can go ahead and\nsay, you know what?", "start": 3071.99, "duration": 1.86}, {"text": "Go ahead and pass into register.html\na template-- or rather, a list--", "start": 3073.85, "duration": 4.17}, {"text": "called students whose\nvalue is exactly that.", "start": 3078.02, "duration": 3.264}, {"text": "And again, it's stupid looking that\nyou have the same word on the left", "start": 3081.284, "duration": 2.916}, {"text": "and the right of the variable name.", "start": 3084.2, "duration": 1.921}, {"text": "You could do this differently.", "start": 3086.121, "duration": 1.249}, {"text": "Again, you could say foo, you\ncould say x, or y, or anything.", "start": 3087.37, "duration": 2.92}, {"text": "But frankly, it tends to\nmake most sense, just pass", "start": 3090.29, "duration": 2.38}, {"text": "in the same name as the variable that\nyou care about so that the template can", "start": 3092.67, "duration": 3.56}, {"text": "see exactly that.", "start": 3096.23, "duration": 1.09}, {"text": "So what's the next breadcrumb?", "start": 3097.32, "duration": 1.25}, {"text": "If I want to understand\nexactly what is happening,", "start": 3098.57, "duration": 2.083}, {"text": "what file should I open up next perhaps?", "start": 3100.653, "duration": 2.947}, {"text": "Probably register.html.", "start": 3103.6, "duration": 1.37}, {"text": "So let's go in there.", "start": 3104.97, "duration": 1.18}, {"text": "It's in my templates\ndirectory by definition,", "start": 3106.15, "duration": 2.11}, {"text": "and you'll see, indeed, a failure\nmessage which allows me to error check.", "start": 3108.26, "duration": 3.59}, {"text": "Index, which contains the form; layout,\nwhich contains the overall structure;", "start": 3111.85, "duration": 3.85}, {"text": "and finally, registered.html.", "start": 3115.7, "duration": 2.69}, {"text": "And now we can answer the question that\nyou asked earlier about Python code", "start": 3118.39, "duration": 3.57}, {"text": "in the template.", "start": 3121.96, "duration": 1.06}, {"text": "So this one looks more\nadvanced than before,", "start": 3123.02, "duration": 2.64}, {"text": "but notice it follows a pattern.", "start": 3125.66, "duration": 2.1}, {"text": "Register.html extends that same layout.", "start": 3127.76, "duration": 2.6}, {"text": "So it borrows from that same\nmold, so it looks the same.", "start": 3130.36, "duration": 2.76}, {"text": "The body of this page, though,\nis just this snippet of HTML.", "start": 3133.12, "duration": 3.45}, {"text": "Give me an unordered list,\nopen and closed, and this", "start": 3136.57, "duration": 2.82}, {"text": "is what you can do now with jinja.", "start": 3139.39, "duration": 1.65}, {"text": "Again, it's almost\nidentical to Python, so you", "start": 3141.04, "duration": 2.22}, {"text": "don't have to worry about thinking\nabout learning yet another language.", "start": 3143.26, "duration": 3.1}, {"text": "It's just a subset of\nPython essentially.", "start": 3146.36, "duration": 2.46}, {"text": "So if I want to output in the\nlist of all of the students,", "start": 3148.82, "duration": 4.55}, {"text": "I use my jinja syntax here, my template\nsyntax with curly brace percent.", "start": 3153.37, "duration": 3.892}, {"text": "And I say for student and students.", "start": 3157.262, "duration": 1.458}, {"text": "Just like in Python, that induces\nan iteration over that list.", "start": 3158.72, "duration": 3.624}, {"text": "And then what do I want to output?", "start": 3162.344, "duration": 1.416}, {"text": "Well, we can borrow our curly\nbraces from our name example", "start": 3163.76, "duration": 3.05}, {"text": "and just do list item, plug in the\nname of the student, close list item.", "start": 3166.81, "duration": 4.65}, {"text": "And then endfor.", "start": 3171.46, "duration": 1.62}, {"text": "So this is the one stupid\nthing with the templates.", "start": 3173.08, "duration": 2.16}, {"text": "Whereas in Python proper,\nrecall that you can just", "start": 3175.24, "duration": 3.12}, {"text": "say for student in\nstudents, you have a colon", "start": 3178.36, "duration": 2.19}, {"text": "and then indentation handles everything.", "start": 3180.55, "duration": 2.19}, {"text": "The problem with that\nin the world of HTML", "start": 3182.74, "duration": 1.98}, {"text": "is that browsers recall\nignore all whitespace,", "start": 3184.72, "duration": 2.94}, {"text": "like whitespace has no special\nsignificance, but in Python it does.", "start": 3187.66, "duration": 3.09}, {"text": "So the way people solve\nthis is you literally,", "start": 3190.75, "duration": 3.27}, {"text": "if a little weirdly, say endfor--", "start": 3194.02, "duration": 2.07}, {"text": "one word, no space.", "start": 3196.09, "duration": 1.727}, {"text": "And that's it.", "start": 3197.817, "duration": 0.583}, {"text": "And indentation helps you\nread something like this.", "start": 3198.4, "duration": 2.4}, {"text": "So what is the HTML I'm getting back?", "start": 3200.8, "duration": 1.894}, {"text": "I can actually look at this.", "start": 3202.694, "duration": 1.166}, {"text": "Let me go ahead and view\npage source in Chrome,", "start": 3203.86, "duration": 2.34}, {"text": "and you'll see it's not quite\nas pretty as might be ideal", "start": 3206.2, "duration": 2.377}, {"text": "because there's a lot of whitespace\nwhich comes from those templates", "start": 3208.577, "duration": 2.833}, {"text": "from my having pretty\nprinted those, as well.", "start": 3211.41, "duration": 1.93}, {"text": "But this is syntactically correct,\nand I'm dynamically putting", "start": 3213.34, "duration": 3.15}, {"text": "this part inside of this layout.", "start": 3216.49, "duration": 3.63}, {"text": "Any questions, then, on this?", "start": 3220.12, "duration": 2.622}, {"text": "AUDIENCE: So if we restart\nthe server, whatever's stored", "start": 3222.742, "duration": 4.478}, {"text": "in the list, that goes away, right?", "start": 3227.22, "duration": 1.96}, {"text": "DAVID MALAN: Good question.", "start": 3229.18, "duration": 1.125}, {"text": "Let's kill Flask with control-c.", "start": 3230.305, "duration": 1.635}, {"text": "Let's rerun the server.", "start": 3231.94, "duration": 1.65}, {"text": "And let me go back to my\nregistrants route and reload.", "start": 3233.59, "duration": 4.05}, {"text": "And sadly, yes, this is not the best\nway to register students for a sport.", "start": 3237.64, "duration": 3.45}, {"text": "Because if the server ever goes\noffline, loses power, you hit control-c,", "start": 3241.09, "duration": 3.48}, {"text": "you obviously, indeed, lose everyone.", "start": 3244.57, "duration": 2.1}, {"text": "And notice, too, even\nthough we've generally", "start": 3246.67, "duration": 1.95}, {"text": "frowned upon using global variables,\nwhich this students list indeed", "start": 3248.62, "duration": 4.23}, {"text": "is, why did I define it\nup here in line 7 and not,", "start": 3252.85, "duration": 4.32}, {"text": "for instance, in my register route here?", "start": 3257.17, "duration": 3.26}, {"text": "Because indeed, I'm\nappending to the list here.", "start": 3260.43, "duration": 2.89}, {"text": "But I very deliberately did\nnot declare the list there.", "start": 3263.32, "duration": 5.58}, {"text": "Yeah?", "start": 3268.9, "duration": 0.735}, {"text": "AUDIENCE: You're using\nit in other parts.", "start": 3269.635, "duration": 1.895}, {"text": "DAVID MALAN: I'm using it elsewhere in\nmy other routes, the registrants route.", "start": 3271.53, "duration": 3.25}, {"text": "And also even more to the point,\nif I declared a list here,", "start": 3274.78, "duration": 3.4}, {"text": "it becomes by definition\na local variable.", "start": 3278.18, "duration": 1.859}, {"text": "Which means as soon as\nthis function exits,", "start": 3280.039, "duration": 1.791}, {"text": "now I've just thrown away those\nstudents who register immediately not", "start": 3281.83, "duration": 3.93}, {"text": "even after a control-c.", "start": 3285.76, "duration": 1.584}, {"text": "So this was a better approach\nto do it, but it's not", "start": 3287.344, "duration": 2.166}, {"text": "what I did way back in my day.", "start": 3289.51, "duration": 2.34}, {"text": "I actually did something\nthat was a little fancier.", "start": 3291.85, "duration": 2.28}, {"text": "So at the time, I didn't\nreally know-- at least in,", "start": 3294.13, "duration": 2.22}, {"text": "what, 1997-- anything about databases.", "start": 3296.35, "duration": 2.146}, {"text": "I don't think I even knew about\nCSV files just yet, or at least", "start": 3298.496, "duration": 2.624}, {"text": "how to create them dynamically.", "start": 3301.12, "duration": 1.8}, {"text": "So I instead took this approach.", "start": 3302.92, "duration": 2.19}, {"text": "Let me go into froshims2, and it has\nnoticed the same templates as before.", "start": 3305.11, "duration": 6.21}, {"text": "And indeed, I pretty much copied\nand pasted for this second example.", "start": 3311.32, "duration": 3.09}, {"text": "But in application.py,\nnotice this fanciness.", "start": 3314.41, "duration": 3.57}, {"text": "So here I have almost the same\nthing up top in terms of Flask,", "start": 3317.98, "duration": 4.32}, {"text": "but I'm also using this OS\nlibrary, more on that in a bit.", "start": 3322.3, "duration": 3.37}, {"text": "But what about line 2?", "start": 3325.67, "duration": 1.79}, {"text": "It's subtle, but I rattled this acronym\noff I think just once weeks ago, SMTP.", "start": 3327.46, "duration": 5.707}, {"text": "Does anyone know what that stands for?", "start": 3333.167, "duration": 1.583}, {"text": "AUDIENCE: Simple mail transfer protocol?", "start": 3334.75, "duration": 1.666}, {"text": "DAVID MALAN: Yeah, simple mail\ntransfer protocol-- email, that is.", "start": 3336.416, "duration": 3.224}, {"text": "So Python comes with\nbuilt in functionality", "start": 3339.64, "duration": 1.8}, {"text": "via which you can send emails,\nand this is exactly what I", "start": 3341.44, "duration": 2.43}, {"text": "did when I first made this website.", "start": 3343.87, "duration": 1.71}, {"text": "Didn't know anything about\ndatabases, I didn't know anything", "start": 3345.58, "duration": 2.07}, {"text": "about saving things to files\njust yet, I was still learning.", "start": 3347.65, "duration": 2.67}, {"text": "But I didn't realize, hm,\nI could use programming", "start": 3350.32, "duration": 2.73}, {"text": "to send an email to the proctor or\nthe RA who was overseeing the sports", "start": 3353.05, "duration": 3.48}, {"text": "program so that they could\njust save it in a folder", "start": 3356.53, "duration": 2.94}, {"text": "and know who had registered.", "start": 3359.47, "duration": 1.19}, {"text": "It's not super user\nfriendly, but it at least", "start": 3360.66, "duration": 2.38}, {"text": "got the job done because they were\nthen able to track everything.", "start": 3363.04, "duration": 3.0}, {"text": "So in this program, notice that\nI have my route for my form.", "start": 3366.04, "duration": 4.99}, {"text": "And I have this register route\nbut a few new lines of code.", "start": 3371.03, "duration": 3.187}, {"text": "And you would only know how to do\nthis by reading the documentation.", "start": 3374.217, "duration": 2.833}, {"text": "But in this case here, notice what\nI'm doing in my register route.", "start": 3377.05, "duration": 3.09}, {"text": "I'm first getting the user's name and\ntheir email this time and their dorm.", "start": 3380.14, "duration": 5.46}, {"text": "Then I'm error checking.", "start": 3385.6, "duration": 1.05}, {"text": "If they didn't give me a name,\nor their email, or the dorm,", "start": 3386.65, "duration": 2.52}, {"text": "render failure.html to\napprise them as much.", "start": 3389.17, "duration": 3.06}, {"text": "Then go ahead and do\nthese lines of code.", "start": 3392.23, "duration": 2.264}, {"text": "And this is more of a mouthful,\nand you would only, again,", "start": 3394.494, "duration": 2.416}, {"text": "know this from the documentation.", "start": 3396.91, "duration": 1.374}, {"text": "But it turns out if you\nread the documentation", "start": 3398.284, "duration": 2.286}, {"text": "for this SMTP lib or library, you can\nuse lines of code like this as follows.", "start": 3400.57, "duration": 5.59}, {"text": "You can tell the library what\nserver to use for sending email.", "start": 3406.16, "duration": 3.71}, {"text": "And it turns out if you\nread Gmail's documentation,", "start": 3409.87, "duration": 2.13}, {"text": "you can use smtp.gmail.com to\nautomatically send e-mails not using", "start": 3412.0, "duration": 4.11}, {"text": "the web UI, but using code.", "start": 3416.11, "duration": 1.86}, {"text": "587 is the TCP port that they use.", "start": 3417.97, "duration": 2.8}, {"text": "So it's not 80, it's not\n443, it's 587 by convention.", "start": 3420.77, "duration": 3.41}, {"text": "Starttls, if you read the\ndocumentation, says turn on encryption.", "start": 3424.18, "duration": 3.51}, {"text": "So the email is encrypted\nbetween you and Gmail.", "start": 3427.69, "duration": 3.33}, {"text": "Then go ahead and log in with a\ncertain username and password.", "start": 3431.02, "duration": 2.73}, {"text": "I created an account in advance called\njharvard@cs50.net, and my password", "start": 3433.75, "duration": 4.08}, {"text": "is in my IDE's environment.", "start": 3437.83, "duration": 1.735}, {"text": "I stored it elsewhere so that\nit's not visible on screen,", "start": 3439.565, "duration": 2.375}, {"text": "otherwise people could\nsend emails as John.", "start": 3441.94, "duration": 2.67}, {"text": "Then I go ahead and call literally\na function called send mail.", "start": 3444.61, "duration": 3.369}, {"text": "And if you read the\ndocumentation, this one", "start": 3447.979, "duration": 1.791}, {"text": "takes as argument who you\nwant to send email to,", "start": 3449.77, "duration": 3.3}, {"text": "the contents of the email\nthat you want to send,", "start": 3453.07, "duration": 3.42}, {"text": "and the message that you\nactually want to send here.", "start": 3456.49, "duration": 3.0}, {"text": "Or rather, this is the from\naddress, the to address,", "start": 3459.49, "duration": 2.85}, {"text": "and the actual message\nthat you want to send.", "start": 3462.34, "duration": 2.49}, {"text": "After that, you just go ahead and\nrender template and assume success.", "start": 3464.83, "duration": 3.24}, {"text": "I could add more error\nchecking, like I should probably", "start": 3468.07, "duration": 1.65}, {"text": "check if anything went wrong\nhere, but I'm keeping it simple.", "start": 3469.72, "duration": 2.64}, {"text": "But these new lines that are\nhighlighted actually send an email.", "start": 3472.36, "duration": 3.69}, {"text": "So let's try this.", "start": 3476.05, "duration": 0.94}, {"text": "Let me go into froshims2 and let\nme go ahead and do Flask run.", "start": 3476.99, "duration": 5.33}, {"text": "Let me go ahead and open\nup the page here, slash.", "start": 3482.32, "duration": 3.71}, {"text": "And notice I do, indeed, have\na second field for text now.", "start": 3486.03, "duration": 3.26}, {"text": "So this will be David,\nand this will be--", "start": 3489.29, "duration": 3.41}, {"text": "let's see, how about let's go\nahead and just register not myself,", "start": 3492.7, "duration": 4.2}, {"text": "since it's not my email account,\nbut John Harvard who we claim's", "start": 3496.9, "duration": 2.87}, {"text": "email is cs50.net, jharvard thereat.", "start": 3499.77, "duration": 3.19}, {"text": "And he lives in say, Weld.", "start": 3502.96, "duration": 2.77}, {"text": "Let's go ahead and click Register.", "start": 3505.73, "duration": 3.6}, {"text": "All right, it's taking a\nlittle longer this time,", "start": 3509.33, "duration": 2.092}, {"text": "but it was doing a little\nmore work sending an email.", "start": 3511.422, "duration": 2.208}, {"text": "So now let's try to go to\ngmail.com, open this up.", "start": 3513.63, "duration": 5.29}, {"text": "Ooh.", "start": 3518.92, "duration": 0.5}, {"text": "In my inbox, you are registered.", "start": 3519.42, "duration": 2.34}, {"text": "If I open this up,\nnotice jharvard@cs50.net", "start": 3521.76, "duration": 3.631}, {"text": "has sent me an email by a BC seed,\nat least keep part of the information", "start": 3525.391, "duration": 2.999}, {"text": "private.", "start": 3528.39, "duration": 0.5}, {"text": "And it just says in the body of\nthe message if I move the cursor,", "start": 3528.89, "duration": 4.06}, {"text": "you are registered.", "start": 3532.95, "duration": 1.44}, {"text": "So I did a little more\nback in 1997, but I", "start": 3534.39, "duration": 2.4}, {"text": "included like the user's name, and\ntheir email address, and their dorm,", "start": 3536.79, "duration": 2.959}, {"text": "and maybe their phone number or whatnot,\nand the sports they were interested in.", "start": 3539.749, "duration": 3.332}, {"text": "But the idea is exactly that.", "start": 3543.081, "duration": 1.279}, {"text": "You can send any information\nyou want just by now using code.", "start": 3544.36, "duration": 3.44}, {"text": "You could not do that with\nHTML or with CSS alone.", "start": 3547.8, "duration": 4.67}, {"text": "Any questions, then, on this?", "start": 3552.47, "duration": 3.66}, {"text": "Yeah?", "start": 3556.13, "duration": 0.65}, {"text": "AUDIENCE: Last week when we wrote\ncode in Python we had to like", "start": 3556.78, "duration": 2.625}, {"text": "say if name equals the\nfunction to like execute that.", "start": 3559.405, "duration": 4.87}, {"text": "How come in this we're not doing that?", "start": 3564.275, "duration": 1.755}, {"text": "DAVID MALAN: That was all in JavaScript.", "start": 3566.03, "duration": 1.666}, {"text": "So that allusion to if name equals,\nand then you assign it to a function,", "start": 3567.696, "duration": 3.364}, {"text": "I think you're referring to\nour JavaScript examples, no?", "start": 3571.06, "duration": 4.8}, {"text": "OK.", "start": 3575.86, "duration": 0.52}, {"text": "So we'll actually come back\nto that in a little bit", "start": 3576.38, "duration": 1.71}, {"text": "where we reintroduce\na bit of JavaScript,", "start": 3578.09, "duration": 1.89}, {"text": "which actually gives us some\nmore functionality reminiscent", "start": 3579.98, "duration": 2.7}, {"text": "of those examples.", "start": 3582.68, "duration": 0.93}, {"text": "Other question?", "start": 3583.61, "duration": 0.98}, {"text": "AUDIENCE: What email address\ndid you send that email from,", "start": 3584.59, "duration": 3.187}, {"text": "and don't you need to enter\nlike a password to make sure", "start": 3587.777, "duration": 2.333}, {"text": "that no one just randomly sends email?", "start": 3590.11, "duration": 2.172}, {"text": "DAVID MALAN: Yeah, it's\na really good question.", "start": 3592.282, "duration": 1.958}, {"text": "So via what email address did I\nsend that, and to whom was it sent?", "start": 3594.24, "duration": 3.2}, {"text": "So again, this is the from\naddress, this is the to address,", "start": 3597.44, "duration": 3.87}, {"text": "and this is now the message.", "start": 3601.31, "duration": 1.23}, {"text": "And just because I only have one email\naccount open, I had John send himself", "start": 3602.54, "duration": 3.63}, {"text": "an email in this case.", "start": 3606.17, "duration": 1.5}, {"text": "Theoretically if I were running the\nfreshmen intramural sports program,", "start": 3607.67, "duration": 3.66}, {"text": "I could try to do this and change\nthis from address to be myself.", "start": 3611.33, "duration": 5.01}, {"text": "The catch is that Gmail actually has\nprotections in place so that if you've", "start": 3616.34, "duration": 3.51}, {"text": "logged in as jharvard\nwith his password, then", "start": 3619.85, "duration": 3.54}, {"text": "the email, no matter what you\nspecify as the from address,", "start": 3623.39, "duration": 2.7}, {"text": "is actually going to be overridden\nto be from John Harvard.", "start": 3626.09, "duration": 3.06}, {"text": "However, this does speak to the\npotential insecurity of email.", "start": 3629.15, "duration": 2.86}, {"text": "If you don't use Gmail\nbut you use a third party", "start": 3632.01, "duration": 2.0}, {"text": "service that is not so rigorous\nwith its error checking,", "start": 3634.01, "duration": 2.61}, {"text": "it is incredibly easy to fake\nemails from one person to another.", "start": 3636.62, "duration": 4.3}, {"text": "I mean, look through your\nspam folder sometime.", "start": 3640.92, "duration": 2.0}, {"text": "Most of those people who send\nyou those spams don't exist.", "start": 3642.92, "duration": 2.79}, {"text": "Like, the email addresses\nand/or the names are fake.", "start": 3645.71, "duration": 2.85}, {"text": "And yet they might appear to actually\nbe from a sibling of yours, a family", "start": 3648.56, "duration": 3.63}, {"text": "member, or a friend, even though\nthose humans did not send e-mails.", "start": 3652.19, "duration": 3.42}, {"text": "And that's because some\nspammer has written code", "start": 3655.61, "duration": 2.28}, {"text": "like this in Python or\nsome other language,", "start": 3657.89, "duration": 1.92}, {"text": "but has overridden these fields,\nbut used a server that's not Gmail", "start": 3659.81, "duration": 3.93}, {"text": "that doesn't enforce these policies.", "start": 3663.74, "duration": 3.46}, {"text": "Other questions?", "start": 3667.2, "duration": 2.77}, {"text": "Fun fact, also in 1995,\nI learned how to send--", "start": 3669.97, "duration": 2.91}, {"text": "or how to change the\nfrom address on an email.", "start": 3672.88, "duration": 2.534}, {"text": "And turns out at Harvard there's\nthis entity called the ad", "start": 3675.414, "duration": 2.416}, {"text": "board who doesn't like doing this.", "start": 3677.83, "duration": 1.44}, {"text": "So don't do that.", "start": 3679.27, "duration": 3.555}, {"text": "Sometimes there's human defenses in\nplace for this, not just technological.", "start": 3682.825, "duration": 3.125}, {"text": "Thankfully, my friend whom I\nfaked an email from did not--", "start": 3685.95, "duration": 4.54}, {"text": "it worked out OK.", "start": 3690.49, "duration": 1.38}, {"text": "All right.", "start": 3691.87, "duration": 1.38}, {"text": "You have now great power,\ndon't use it for evil.", "start": 3693.25, "duration": 3.3}, {"text": "All right, so let's go ahead now and\ndo another example, but that takes this", "start": 3696.55, "duration": 3.525}, {"text": "a further step, adding, finally\nsome persistence of information.", "start": 3700.075, "duration": 4.425}, {"text": "Let's go ahead into froshims3\nnow and open up application.py.", "start": 3704.5, "duration": 4.44}, {"text": "So recall that we can use CSV\nfiles-- comma separated value files--", "start": 3708.94, "duration": 5.037}, {"text": "to create the illusion\nof like spreadsheets,", "start": 3713.977, "duration": 1.833}, {"text": "but now we're actually going\nto create them ourselves.", "start": 3715.81, "duration": 2.31}, {"text": "The code for this is a\nlittle more involved,", "start": 3718.12, "duration": 1.98}, {"text": "and the only thing I've changed\nnow really is the register method.", "start": 3720.1, "duration": 2.92}, {"text": "So in version one of this code, I saved\nit in a global list just in memory.", "start": 3723.02, "duration": 4.305}, {"text": "That was not good because it\ngets thrown away too easily.", "start": 3727.325, "duration": 2.375}, {"text": "Version two of this\nwe just sent an email", "start": 3729.7, "duration": 1.56}, {"text": "to the proctor who runs the program.", "start": 3731.26, "duration": 1.47}, {"text": "That was a little better, because at\nleast they can then save the email.", "start": 3732.73, "duration": 2.67}, {"text": "Version three, we're going to use\na very lightweight database called", "start": 3735.4, "duration": 3.0}, {"text": "the CSV file that saves it\nto my hard drive permanently.", "start": 3738.4, "duration": 3.96}, {"text": "So even when the server stops,\nthe data is still there.", "start": 3742.36, "duration": 2.92}, {"text": "So in Python, how does this work?", "start": 3745.28, "duration": 1.95}, {"text": "Well, notice that I've improved my\nregister route this time as follows.", "start": 3747.23, "duration": 3.66}, {"text": "If the user did not give\nme their name or dorm,", "start": 3750.89, "duration": 2.589}, {"text": "then I go ahead and render a failure.", "start": 3753.479, "duration": 1.541}, {"text": "That's pretty much the\nsame logic as before,", "start": 3755.02, "duration": 1.84}, {"text": "but I didn't bother declaring\nthe variables this time,", "start": 3756.86, "duration": 2.25}, {"text": "I just called the functions directly.", "start": 3759.11, "duration": 2.16}, {"text": "Here's a new line of code that might be\nreminiscent of some of your past file", "start": 3761.27, "duration": 3.46}, {"text": "I/O code.", "start": 3764.73, "duration": 1.0}, {"text": "In line 16 here, I'm telling Python\nto go ahead and open a file called", "start": 3765.73, "duration": 4.71}, {"text": "registered.csv quote-unquote a.", "start": 3770.44, "duration": 3.33}, {"text": "So we've seen R, we've\nseen W for read and write.", "start": 3773.77, "duration": 2.83}, {"text": "Anyone recall what a is, or no?", "start": 3776.6, "duration": 2.8}, {"text": "AUDIENCE: Append.", "start": 3779.4, "duration": 0.76}, {"text": "DAVID MALAN: It happens to\nmean append, which means just", "start": 3780.16, "duration": 2.333}, {"text": "add a row to the file, which is nice.", "start": 3782.493, "duration": 1.687}, {"text": "Because if there's already students\nregistered, when a new one registers", "start": 3784.18, "duration": 2.61}, {"text": "we just want to append to\nthe bottom of the file.", "start": 3786.79, "duration": 2.041}, {"text": "Quote-unquote a is supported by\nPython with this open function.", "start": 3788.831, "duration": 3.479}, {"text": "That gives me back a reference\nor like a pointer to file,", "start": 3792.31, "duration": 2.91}, {"text": "even though Python\ndoes not have pointers.", "start": 3795.22, "duration": 2.52}, {"text": "Then this is the new feature.", "start": 3797.74, "duration": 1.36}, {"text": "And here, too, you'd only know\nthis from having seen an example", "start": 3799.1, "duration": 2.24}, {"text": "or you reading the documentation.", "start": 3801.34, "duration": 1.56}, {"text": "You can use the CSV library, which\nwe'll see as imported up above.", "start": 3802.9, "duration": 4.0}, {"text": "And you can ask for a writer, a piece\nof code that writes out-- that is,", "start": 3806.9, "duration": 4.531}, {"text": "creates--", "start": 3811.431, "duration": 0.499}, {"text": "CSV files.", "start": 3811.93, "duration": 1.26}, {"text": "And specifically, you want\nto write to this file.", "start": 3813.19, "duration": 2.43}, {"text": "That library-- the CSV\nlibrary-- comes with a function", "start": 3815.62, "duration": 2.7}, {"text": "called write row, which\ndoes what it says.", "start": 3818.32, "duration": 2.13}, {"text": "If you pass it in a comma\nseparated list of fields", "start": 3820.45, "duration": 3.51}, {"text": "that you want to represent your\nfirst column, your second column,", "start": 3823.96, "duration": 2.85}, {"text": "and your third column, it will\nhandle the writing for you", "start": 3826.81, "duration": 2.855}, {"text": "so you don't have to get\ninto the weeds of file I/O", "start": 3829.665, "duration": 2.125}, {"text": "like you did several problem sets ago.", "start": 3831.79, "duration": 2.01}, {"text": "Notice the subtlety.", "start": 3833.8, "duration": 1.17}, {"text": "You do need to have these\nsecond pair of parentheses,", "start": 3834.97, "duration": 3.54}, {"text": "because technically what\nyou're giving it is a tuple.", "start": 3838.51, "duration": 2.34}, {"text": "We talked very briefly\nabout that last week,", "start": 3840.85, "duration": 2.08}, {"text": "which is just like an x comma y\npair, or latitude comma longitude.", "start": 3842.93, "duration": 3.32}, {"text": "Same idea here.", "start": 3846.25, "duration": 0.87}, {"text": "First column, second column, and\nso forth is a so-called tuple.", "start": 3847.12, "duration": 4.11}, {"text": "Then I close the file,\nthen I render the template.", "start": 3851.23, "duration": 2.71}, {"text": "So what does this actually do for me?", "start": 3853.94, "duration": 1.98}, {"text": "Well, let me go into my\nfolder froshims3 here.", "start": 3855.92, "duration": 3.47}, {"text": "And notice register.csv\nat the moment is empty.", "start": 3859.39, "duration": 2.97}, {"text": "This is a CSV file.", "start": 3862.36, "duration": 1.2}, {"text": "Nothing's going on inside of that.", "start": 3863.56, "duration": 1.93}, {"text": "There's no one registered yet.", "start": 3865.49, "duration": 1.85}, {"text": "But let me go ahead, then, and\ngo into froshims3, run Flask run.", "start": 3867.34, "duration": 4.92}, {"text": "Let me go ahead and load this up.", "start": 3872.26, "duration": 1.71}, {"text": "And you'll see the same kind\nof form, but also a new link.", "start": 3873.97, "duration": 3.49}, {"text": "Notice that no one's registered\nyet if I click on that link.", "start": 3877.46, "duration": 3.3}, {"text": "But if I go into here and register\nDavid from Matthews and click Register,", "start": 3880.76, "duration": 5.46}, {"text": "now it claims I am registered really.", "start": 3886.22, "duration": 2.09}, {"text": "Let me click this link and notice\nthat it's very small on the screen,", "start": 3888.31, "duration": 3.846}, {"text": "but slash registered is\nwhere this is going to lead", "start": 3892.156, "duration": 2.124}, {"text": "me, which is just where I was before.", "start": 3894.28, "duration": 2.19}, {"text": "You see that now David\nfrom Matthews registered.", "start": 3896.47, "duration": 2.514}, {"text": "Let me go back to the form itself.", "start": 3898.984, "duration": 1.416}, {"text": "Let's register, say,\nBrian from Pennypacker.", "start": 3900.4, "duration": 2.46}, {"text": "Click Register.", "start": 3902.86, "duration": 1.234}, {"text": "He, too, is apparently registered.", "start": 3904.094, "duration": 1.416}, {"text": "Let's click that link.", "start": 3905.51, "duration": 1.07}, {"text": "Brian from Pennypacker.", "start": 3906.58, "duration": 1.29}, {"text": "All right, so where is this data going?", "start": 3907.87, "duration": 1.89}, {"text": "Let me go back to the IDE,\nclose my registered CSV file,", "start": 3909.76, "duration": 3.6}, {"text": "because it's probably\nchanged and open it up.", "start": 3913.36, "duration": 2.73}, {"text": "And voila, indeed, it's\nprompting me to reload it.", "start": 3916.09, "duration": 3.0}, {"text": "There is the file.", "start": 3919.09, "duration": 1.24}, {"text": "And notice David comma Matthews, Brian\ncomma Pennypacker, all of those rows", "start": 3920.33, "duration": 4.94}, {"text": "were written out for me.", "start": 3925.27, "duration": 1.0}, {"text": "So now I actually have a database.", "start": 3926.27, "duration": 2.18}, {"text": "And even though it's kind of a simple\ndatabase, you know what I can do?", "start": 3928.45, "duration": 3.06}, {"text": "Let me go ahead and right click\nor control click on it in the IDE,", "start": 3931.51, "duration": 3.48}, {"text": "download it into my Downloads folder.", "start": 3934.99, "duration": 2.37}, {"text": "And then if I actually\nopen this thing, if I", "start": 3937.36, "duration": 1.98}, {"text": "have Excel installed\nor Apple Numbers, which", "start": 3939.34, "duration": 3.01}, {"text": "is the first time I've ever used it,\nlet me go ahead and open that file.", "start": 3942.35, "duration": 5.34}, {"text": "Opening register.csv.", "start": 3947.69, "duration": 1.71}, {"text": "And voila, here now is a file.", "start": 3949.4, "duration": 2.29}, {"text": "And Numbers is formatting\nit in kind of a funky way,", "start": 3951.69, "duration": 2.69}, {"text": "but it is showing rows and columns.", "start": 3954.38, "duration": 1.83}, {"text": "Those of you who are more familiar\nwith Excel we can do that, too.", "start": 3956.21, "duration": 2.76}, {"text": "Let me go down here.", "start": 3958.97, "duration": 1.59}, {"text": "Let me go into my Downloads folder.", "start": 3960.56, "duration": 2.64}, {"text": "Control click or right click here, and\nthis time open it with Microsoft Excel.", "start": 3963.2, "duration": 3.84}, {"text": "And if you've seen Excel before,\nwe'll probably see a very similar UI.", "start": 3967.04, "duration": 3.69}, {"text": "Because anytime Excel or Numbers--", "start": 3970.73, "duration": 1.95}, {"text": "OK, first time I've used Excel.", "start": 3972.68, "duration": 1.65}, {"text": "So that, too, will open up\nsome rows and columns, as well.", "start": 3974.33, "duration": 4.17}, {"text": "So CSV files are just very\nlightweight spreadsheets.", "start": 3978.5, "duration": 2.49}, {"text": "But what's cool about them is that\nyou can create them so easily.", "start": 3980.99, "duration": 3.169}, {"text": "You just have to put commas in there.", "start": 3984.159, "duration": 1.541}, {"text": "Now, as an aside, can you\ncontrive a user's input", "start": 3985.7, "duration": 3.72}, {"text": "that could potentially break a CSV file?", "start": 3989.42, "duration": 3.24}, {"text": "What could a human type in that could\npotentially break your own CSV files?", "start": 3992.66, "duration": 4.89}, {"text": "A comma, right?", "start": 3997.55, "duration": 0.91}, {"text": "If it's like David Mayland comma\njunior, or something like that.", "start": 3998.46, "duration": 3.69}, {"text": "Or anything with weird punctuation.", "start": 4002.15, "duration": 2.85}, {"text": "This is why you use libraries.", "start": 4005.0, "duration": 1.53}, {"text": "That CSV library in\nthis code, which we're", "start": 4006.53, "duration": 2.49}, {"text": "importing at the very top of\nthis version 3 of the code,", "start": 4009.02, "duration": 4.08}, {"text": "is actually handling all\nof that complexity for us.", "start": 4013.1, "duration": 2.73}, {"text": "When the library encounters David\nMayland comma junior if that's", "start": 4015.83, "duration": 3.12}, {"text": "the user's input, it\nwill then additionally", "start": 4018.95, "duration": 1.95}, {"text": "put quotes around my whole\nname, thereby making sure", "start": 4020.9, "duration": 2.82}, {"text": "that my comma is inside\nquotes and not, therefore,", "start": 4023.72, "duration": 2.94}, {"text": "confused with the special comma that\ndemarcates the start of other columns.", "start": 4026.66, "duration": 3.79}, {"text": "So again, that's why you\ndon't reinvent the wheel,", "start": 4030.45, "duration": 2.24}, {"text": "because corner cases like that arise.", "start": 4032.69, "duration": 1.78}, {"text": "Well, what about slash registered,\nwhich is this list that's", "start": 4034.47, "duration": 3.17}, {"text": "generating an unordered list?", "start": 4037.64, "duration": 1.32}, {"text": "Let's see how that works.", "start": 4038.96, "duration": 1.36}, {"text": "If I scroll down to this\ncode, notice that it's not", "start": 4040.32, "duration": 2.96}, {"text": "just a simple matter of\ngrabbing a global variable,", "start": 4043.28, "duration": 2.64}, {"text": "because there is no\nglobal variable anymore.", "start": 4045.92, "duration": 2.31}, {"text": "Now I have to read it\nfrom that CSV file.", "start": 4048.23, "duration": 2.56}, {"text": "So here's three new lines of\ncode that work as follows.", "start": 4050.79, "duration": 3.84}, {"text": "I'm going to go ahead and open this\nfile, register.csv, in Read mode", "start": 4054.63, "duration": 4.1}, {"text": "this time, not append.", "start": 4058.73, "duration": 1.56}, {"text": "I'm going to go ahead now and say\nhey Python, use the CSV reader--", "start": 4060.29, "duration": 4.11}, {"text": "which is the opposite of writer--", "start": 4064.4, "duration": 1.56}, {"text": "on that file.", "start": 4065.96, "duration": 1.23}, {"text": "And then, hey Python, go ahead and\nturn that whole reader into a list.", "start": 4067.19, "duration": 3.529}, {"text": "So you'd only know this from\nreading the documentation.", "start": 4070.719, "duration": 2.291}, {"text": "It turns out this is the recommendation.", "start": 4073.01, "duration": 1.32}, {"text": "If you want to take a reader and\njust read the whole thing into memory", "start": 4074.33, "duration": 3.21}, {"text": "at once and convert it to a Python\nlist, you literally just pass it", "start": 4077.54, "duration": 3.06}, {"text": "to this list function.", "start": 4080.6, "duration": 1.29}, {"text": "That gives me a list I'm\ngoing to call students,", "start": 4081.89, "duration": 2.37}, {"text": "and then I can do my\nsame code as before.", "start": 4084.26, "duration": 2.589}, {"text": "For good measure, I\nshould probably do what", "start": 4086.849, "duration": 1.791}, {"text": "I did last time, which is file.close\nto close the file, as well, just", "start": 4088.64, "duration": 4.62}, {"text": "to make sure it's closed\nthe next time it's opened.", "start": 4093.26, "duration": 2.561}, {"text": "But I can actually simplify this,\nand you'll see more of these examples", "start": 4095.821, "duration": 2.958}, {"text": "online.", "start": 4098.779, "duration": 0.75}, {"text": "It's actually more conventional\nin Python not to do this,", "start": 4099.529, "duration": 3.781}, {"text": "but instead to change\nyour code as follows.", "start": 4103.31, "duration": 2.64}, {"text": "To not bother closing it explicitly,\nto instead use a keyword called with", "start": 4105.95, "duration": 5.13}, {"text": "to instead put the variable name back\nthere and indent everything underneath.", "start": 4111.08, "duration": 4.29}, {"text": "Doesn't matter for our\npurposes which one you do.", "start": 4115.37, "duration": 2.64}, {"text": "The first one was correct.", "start": 4118.01, "duration": 1.42}, {"text": "The second one is correct.", "start": 4119.43, "duration": 1.2}, {"text": "This is just more conventional,\nif only because it handles", "start": 4120.63, "duration": 2.78}, {"text": "the closing of the file for you.", "start": 4123.41, "duration": 1.569}, {"text": "So if you see this online, that's\nall that's happening there.", "start": 4124.979, "duration": 2.541}, {"text": "But it's just like in C doing fopen and\nfclose, or in this case open and close", "start": 4127.52, "duration": 5.58}, {"text": "like I had a moment ago.", "start": 4133.1, "duration": 1.629}, {"text": "Any questions, then?", "start": 4134.729, "duration": 1.407}, {"text": "AUDIENCE: How would\nyou handle duplicates?", "start": 4136.136, "duration": 1.974}, {"text": "DAVID MALAN: How would I duplicates?", "start": 4138.11, "duration": 1.499}, {"text": "good question.", "start": 4139.609, "duration": 0.631}, {"text": "So haven't handled duplicates here\nat all, and David from Matthews", "start": 4140.24, "duration": 3.36}, {"text": "could register again and again.", "start": 4143.6, "duration": 1.71}, {"text": "But logically what might I do?", "start": 4145.31, "duration": 1.77}, {"text": "Well, it probably belongs\nhere in my register route.", "start": 4147.08, "duration": 3.359}, {"text": "I probably want to do more error\nchecking than just these two lines.", "start": 4150.439, "duration": 4.0}, {"text": "Because what I probably want to\ndo to see if David from Matthews", "start": 4154.439, "duration": 3.201}, {"text": "is already registered\nis open the CSV file,", "start": 4157.64, "duration": 3.089}, {"text": "iterate over its lines looking for\nDavid and for Matthews on the same line", "start": 4160.729, "duration": 5.34}, {"text": "and then show a failure to\nthe user if he or she is", "start": 4166.069, "duration": 3.271}, {"text": "trying to register for a second time.", "start": 4169.34, "duration": 1.86}, {"text": "I've not made it easy with\nthis code, and frankly that's", "start": 4171.2, "duration": 2.46}, {"text": "going to be so much\neasier next week with SQL.", "start": 4173.66, "duration": 2.279}, {"text": "SQL, this other language\nfor databases, will", "start": 4175.939, "duration": 2.04}, {"text": "make it easy to search data\nthat has already been saved.", "start": 4177.979, "duration": 3.13}, {"text": "CSV files do not make this easy.", "start": 4181.109, "duration": 1.96}, {"text": "It's doable, but you have\nto write more lines of code.", "start": 4183.069, "duration": 3.131}, {"text": "So more on that to come.", "start": 4186.2, "duration": 1.279}, {"text": "Other questions?", "start": 4187.479, "duration": 0.811}, {"text": "All right, so let's skip\nahead to one final example,", "start": 4191.27, "duration": 4.2}, {"text": "froshim6, which we'll do something\na little more for us here.", "start": 4195.47, "duration": 4.93}, {"text": "So if I go ahead into\nfroshim6, notice that if I", "start": 4200.4, "duration": 3.74}, {"text": "do Flask run, and go back to the\nwebsite here, and reload the screen,", "start": 4204.14, "duration": 4.56}, {"text": "and I go ahead and give you my name, but\nno, I'm not going to give you my dorm,", "start": 4208.7, "duration": 4.62}, {"text": "we have this feature.", "start": 4213.32, "duration": 1.36}, {"text": "It's ugly again, but where did\nwe see this kind of functionality", "start": 4214.68, "duration": 3.77}, {"text": "when the user does not cooperate?", "start": 4218.45, "duration": 1.43}, {"text": "Or how did I implement this, apparently?", "start": 4223.35, "duration": 1.925}, {"text": "AUDIENCE: JavaScript?", "start": 4225.275, "duration": 0.875}, {"text": "DAVID MALAN: Yeah, JavaScript.", "start": 4226.15, "duration": 1.54}, {"text": "So it turns out that with\nPython, you can obviously", "start": 4227.69, "duration": 3.0}, {"text": "validate the user's input on the\nserver by just checking what's", "start": 4230.69, "duration": 3.09}, {"text": "in request.args or request.form and\nthen yell at the user success or failure", "start": 4233.78, "duration": 3.93}, {"text": "accordingly.", "start": 4237.71, "duration": 1.06}, {"text": "But you can also use JavaScript-- and\nhonestly, we did this two weeks ago,", "start": 4238.77, "duration": 3.45}, {"text": "so we just seem to be solving\nthe same problems again.", "start": 4242.22, "duration": 2.42}, {"text": "So how do you think about this?", "start": 4244.64, "duration": 2.14}, {"text": "Should I be checking for the\nuser's name and dorm in JavaScript?", "start": 4246.78, "duration": 3.729}, {"text": "Should I be checking for the\nuser's name and dorm on the server?", "start": 4250.509, "duration": 2.666}, {"text": "I mean, mixed messages now.", "start": 4256.22, "duration": 3.585}, {"text": "AUDIENCE: Whatever's fastest.", "start": 4259.805, "duration": 1.385}, {"text": "DAVID MALAN: Whatever fastest.", "start": 4261.19, "duration": 0.81}, {"text": "That's a pretty good heuristic\nto use, what's fastest.", "start": 4262.0, "duration": 2.37}, {"text": "And we can make it prettier by\nusing Bootstrap or some library", "start": 4264.37, "duration": 2.64}, {"text": "to give you like a colorful box, or\nred error text or something like that.", "start": 4267.01, "duration": 3.78}, {"text": "So which probably is faster,\nPython or JavaScript?", "start": 4270.79, "duration": 3.265}, {"text": "AUDIENCE: JavaScript.", "start": 4274.055, "duration": 0.875}, {"text": "DAVID MALAN: JavaScript.", "start": 4274.93, "duration": 0.999}, {"text": "Why, is JavaScript just a\nbetter, faster language?", "start": 4275.929, "duration": 2.491}, {"text": "AUDIENCE: You're not\ncreating it [INAUDIBLE]", "start": 4278.42, "duration": 1.94}, {"text": "DAVID MALAN: Say again?", "start": 4280.36, "duration": 0.49}, {"text": "AUDIENCE: You're not\ncreating it on a new server,", "start": 4280.85, "duration": 1.928}, {"text": "so it's all happening on the same--", "start": 4282.778, "duration": 1.452}, {"text": "DAVID MALAN: That's why, yeah.", "start": 4284.23, "duration": 0.87}, {"text": "We don't have to get into the\nreligious debate of which language", "start": 4285.1, "duration": 2.666}, {"text": "is better or faster, but where they're\nrunning is certainly important.", "start": 4287.766, "duration": 3.034}, {"text": "JavaScript is running, recall,\nby definition, in the browser.", "start": 4290.8, "duration": 3.34}, {"text": "It is sent as JavaScript\ncode to the browser", "start": 4294.14, "duration": 2.0}, {"text": "which then executes it client side.", "start": 4296.14, "duration": 1.8}, {"text": "Python by definition today is\ndoing everything server side.", "start": 4297.94, "duration": 3.002}, {"text": "And indeed, the browser\ndoesn't even know", "start": 4300.942, "duration": 1.708}, {"text": "Python is involved, because all it\ngets is the HTML code that results.", "start": 4302.65, "duration": 4.59}, {"text": "So OK, that seems to\nbe an argument for not", "start": 4307.24, "duration": 2.67}, {"text": "doing all of the new work we did\ntoday with if not name, if not dorm,", "start": 4309.91, "duration": 3.62}, {"text": "and all of that, and\njust use JavaScript.", "start": 4313.53, "duration": 2.38}, {"text": "But the problem is that if you get\na little sloppy or a little clever", "start": 4315.91, "duration": 4.17}, {"text": "and only implement your\nerror checking client side.", "start": 4320.08, "duration": 2.97}, {"text": "Because as you say, it's faster,\nand frankly once I make it prettier,", "start": 4323.05, "duration": 3.18}, {"text": "it's just going to be more\ninteractive and more seamless.", "start": 4326.23, "duration": 3.1}, {"text": "The problem is you can't\nand should not trust users.", "start": 4329.33, "duration": 3.53}, {"text": "Suppose that I'm a\nmalicious user and I just", "start": 4332.86, "duration": 2.46}, {"text": "want to inject some bogus data into\nyour website, or I want to spam you,", "start": 4335.32, "duration": 3.59}, {"text": "or subscribe 1,000 freshmen who\ndon't actually exist, or just", "start": 4338.91, "duration": 3.64}, {"text": "generally create problems for you.", "start": 4342.55, "duration": 2.042}, {"text": "Well, you might think,\nwell, that's OK, I", "start": 4344.592, "duration": 1.708}, {"text": "have some defenses in\nplace, and JavaScript code,", "start": 4346.3, "duration": 2.12}, {"text": "and this adversary is going to get\nvery quick feedback, very pretty", "start": 4348.42, "duration": 3.25}, {"text": "feedback that they've not\nprovided these various fields.", "start": 4351.67, "duration": 3.21}, {"text": "But honestly, you can't trust\nanything ever coming from the human.", "start": 4354.88, "duration": 3.72}, {"text": "If I open up Chrome's\ndeveloper tools, and I", "start": 4358.6, "duration": 2.55}, {"text": "go to this down here to the dot\ndot dot menu, and I go to Settings,", "start": 4361.15, "duration": 4.62}, {"text": "and I go down here, there.", "start": 4365.77, "duration": 4.35}, {"text": "That's all it takes to\ndisable all of your hard work.", "start": 4370.12, "duration": 2.55}, {"text": "He or she can just\nopen up their browser--", "start": 4372.67, "duration": 1.8}, {"text": "Chrome or something else--", "start": 4374.47, "duration": 1.26}, {"text": "turn off JavaScript.", "start": 4375.73, "duration": 1.44}, {"text": "So now when I actually\nsubmit this form, there's", "start": 4377.17, "duration": 3.03}, {"text": "going to be no on-submit\nchecking, no on-click handling.", "start": 4380.2, "duration": 2.76}, {"text": "All of that is disabled.", "start": 4382.96, "duration": 1.3}, {"text": "So if I go ahead and\nclick Register, I at least", "start": 4384.26, "duration": 3.14}, {"text": "still, in this version of froshims,\nhave server side checking, as well.", "start": 4387.4, "duration": 4.12}, {"text": "So this might be a little frustrating,\nbut it's kind of the reality.", "start": 4391.52, "duration": 2.9}, {"text": "It is perfectly fine\nto use JavaScript code", "start": 4394.42, "duration": 2.28}, {"text": "and use client side code to give the\nuser a better experience-- a.k.a.", "start": 4396.7, "duration": 3.12}, {"text": "UX, user experience.", "start": 4399.82, "duration": 2.1}, {"text": "But you can't cut\ncorners and not implement", "start": 4401.92, "duration": 2.61}, {"text": "the same kind of logic\nserver side because you", "start": 4404.53, "duration": 2.7}, {"text": "need to defend against this.", "start": 4407.23, "duration": 1.26}, {"text": "Otherwise bogus data is going\nto end up in your database,", "start": 4408.49, "duration": 2.375}, {"text": "things are going to go wrong.", "start": 4410.865, "duration": 1.255}, {"text": "Never, ever, ever trust the user.", "start": 4412.12, "duration": 3.73}, {"text": "Any questions?", "start": 4415.85, "duration": 1.342}, {"text": "AUDIENCE: Can you do the same via CSS?", "start": 4417.192, "duration": 1.584}, {"text": "DAVID MALAN: Can you\ndo the same with CSS?", "start": 4418.776, "duration": 1.749}, {"text": "AUDIENCE: Yes, can you [INAUDIBLE]\nJavaScript [INAUDIBLE]??", "start": 4420.525, "duration": 2.605}, {"text": "DAVID MALAN: Not with CSS alone.", "start": 4423.13, "duration": 1.71}, {"text": "You can use CSS to make the\nerror messages far prettier, yes,", "start": 4424.84, "duration": 3.15}, {"text": "but not logically enough with CSS alone.", "start": 4427.99, "duration": 3.247}, {"text": "And in fact, just to give you a sense\nnow how you can make things prettier", "start": 4431.237, "duration": 3.083}, {"text": "since I keep alluding to better design\nskills than the ones I'm showing here.", "start": 4434.32, "duration": 4.38}, {"text": "If we go to Bootstrap, this very\npopular, free, and open source", "start": 4438.7, "duration": 2.85}, {"text": "library for CSS, it actually has\nsome interactive features, as well.", "start": 4441.55, "duration": 3.52}, {"text": "And if I go under components in\nthe documentation and I scroll down", "start": 4445.07, "duration": 3.29}, {"text": "and I go to forms,\nyou'll see, one, notice", "start": 4448.36, "duration": 3.27}, {"text": "that these forms are already\nway prettier than the ones", "start": 4451.63, "duration": 2.6}, {"text": "I've been making, right?", "start": 4454.23, "duration": 1.0}, {"text": "It's like black text, and\ngray text, and small text.", "start": 4455.23, "duration": 2.37}, {"text": "It just looks nicer and cleaner.", "start": 4457.6, "duration": 1.98}, {"text": "But it's relatively easy to do this.", "start": 4459.58, "duration": 1.5}, {"text": "And indeed, for the next\nproblems that you'll", "start": 4461.08, "duration": 1.874}, {"text": "be welcome to copy and paste some\nof this sample code and HTML,", "start": 4462.954, "duration": 3.046}, {"text": "use Bootstrap CSS just to\nmake your forms prettier.", "start": 4466.0, "duration": 3.27}, {"text": "But what it can really do if I\ngo to the sub menu over here,", "start": 4469.27, "duration": 3.13}, {"text": "notice that there's this\nvalidation section in Bootstrap.", "start": 4472.4, "duration": 2.44}, {"text": "And other libraries have this, too.", "start": 4474.84, "duration": 1.46}, {"text": "And you'll want to read\nthe actual documentation.", "start": 4476.3, "duration": 2.18}, {"text": "But if I just scroll down for a while,\nhere's a sample form in Bootstrap.", "start": 4478.48, "duration": 3.3}, {"text": "It already looks a little prettier than\nanything I've made in just raw HTML.", "start": 4481.78, "duration": 3.66}, {"text": "But notice if I don't cooperate, you\ncan do really cool validation of forms", "start": 4485.44, "duration": 4.98}, {"text": "with green and red text if\nthe user does or doesn't", "start": 4490.42, "duration": 2.61}, {"text": "cooperate by using a mix of CSS,\nbut with some JavaScript code.", "start": 4493.03, "duration": 4.23}, {"text": "And so what Bootstrap does\nfor you is it actually", "start": 4497.26, "duration": 2.28}, {"text": "automates some of the process\nof that JavaScript code", "start": 4499.54, "duration": 2.4}, {"text": "that we saw two weeks\nago and just used now.", "start": 4501.94, "duration": 2.117}, {"text": "But it doesn't just pop\nup a message for the user,", "start": 4504.057, "duration": 2.083}, {"text": "it actually gives them\nmore immediate feedback.", "start": 4506.14, "duration": 1.958}, {"text": "And almost any popular web site\nyou visit these days gives you", "start": 4508.098, "duration": 3.172}, {"text": "this more immediate proximal input.", "start": 4511.27, "duration": 2.01}, {"text": "Generally you don't see some\nsimple error message popping up,", "start": 4513.28, "duration": 3.48}, {"text": "even though that's easier to do.", "start": 4516.76, "duration": 3.18}, {"text": "Any questions?", "start": 4519.94, "duration": 2.48}, {"text": "All right, so where did\nthat logic come from?", "start": 4522.42, "duration": 2.11}, {"text": "So let me go into, for\ninstance, my template", "start": 4524.53, "duration": 3.15}, {"text": "file now for the form in froshim6--", "start": 4527.68, "duration": 3.18}, {"text": "again, the last of these examples--", "start": 4530.86, "duration": 1.98}, {"text": "and you'll notice that I did this.", "start": 4532.84, "duration": 1.89}, {"text": "If I scroll through this\nfile, you'll see the same HTML", "start": 4534.73, "duration": 2.79}, {"text": "as we've been using for some time.", "start": 4537.52, "duration": 1.81}, {"text": "But notice at the bottom of the\npage that I draw some inspiration", "start": 4539.33, "duration": 3.68}, {"text": "from two weeks back when we looked\nat HTML, and CSS, and JavaScript.", "start": 4543.01, "duration": 5.28}, {"text": "So just as a quick refresher,\nnotice how this is working.", "start": 4548.29, "duration": 3.36}, {"text": "This line of code says\nin JavaScript check", "start": 4551.65, "duration": 2.67}, {"text": "the document using the query selector,\nwhich lets you select anything", "start": 4554.32, "duration": 3.41}, {"text": "in the web page looking for a form.", "start": 4557.73, "duration": 3.01}, {"text": "When that form is submitted, call\nthe following anonymous function.", "start": 4560.74, "duration": 5.1}, {"text": "If the document query selector finds\nan input that does not have a value--", "start": 4565.84, "duration": 5.37}, {"text": "and I say not because of\nthe exclamation point here--", "start": 4571.21, "duration": 2.312}, {"text": "then yell at the user with\nthis, you must provide your name", "start": 4573.522, "duration": 2.458}, {"text": "and return false.", "start": 4575.98, "duration": 1.14}, {"text": "Else if the user did not provide a value\nfor the select menu-- a.k.a. the dorm--", "start": 4577.12, "duration": 5.7}, {"text": "go ahead and alert them that\nthey must provide the dorm,", "start": 4582.82, "duration": 2.7}, {"text": "otherwise return true.", "start": 4585.52, "duration": 1.41}, {"text": "And just to be clear and to\nrecall from two weeks ago,", "start": 4586.93, "duration": 2.34}, {"text": "what am I returning false?", "start": 4589.27, "duration": 1.74}, {"text": "What does that effect have logically?", "start": 4591.01, "duration": 2.022}, {"text": "Yeah, say again?", "start": 4596.27, "duration": 2.02}, {"text": "What was that?", "start": 4598.29, "duration": 2.04}, {"text": "I heard a whisper here.", "start": 4600.33, "duration": 1.6}, {"text": "No?", "start": 4601.93, "duration": 1.8}, {"text": "Yeah, it prevents\nsubmission of the form.", "start": 4603.73, "duration": 2.582}, {"text": "The default behavior of a form\nis it wants to be submitted.", "start": 4606.312, "duration": 2.458}, {"text": "That's why they exist.", "start": 4608.77, "duration": 1.18}, {"text": "But if you return\nfalse in JavaScript, it", "start": 4609.95, "duration": 1.97}, {"text": "will short circuit that and\nprevent that default behavior,", "start": 4611.92, "duration": 2.94}, {"text": "thereby stopping the user from\nsubmitting the form at all.", "start": 4614.86, "duration": 3.19}, {"text": "So let's take one step back now, there's\nnow so much going on in this one file", "start": 4618.05, "duration": 4.76}, {"text": "alone.", "start": 4622.81, "duration": 0.69}, {"text": "In this sixth and final\nexample, notice that we", "start": 4623.5, "duration": 2.49}, {"text": "have application.py, which is the\nentry point, the so-called controller", "start": 4625.99, "duration": 3.27}, {"text": "of this web application.", "start": 4629.26, "duration": 1.83}, {"text": "It has a route which very simply\nfor slash looks like this.", "start": 4631.09, "duration": 4.29}, {"text": "When the user gets slash, this\ntemplate is simply returned.", "start": 4635.38, "duration": 4.11}, {"text": "What is in that index.html template?", "start": 4639.49, "duration": 2.83}, {"text": "Well, it contains a partial HTML file.", "start": 4642.32, "duration": 3.24}, {"text": "It contains this HTML.", "start": 4645.56, "duration": 1.99}, {"text": "But it does not contain the doctype,\nthe HTML tag, head tag, the body tag,", "start": 4647.55, "duration": 3.61}, {"text": "the title tag, and all of that.", "start": 4651.16, "duration": 1.41}, {"text": "It only contains the stuff that\nshould go inside of the body tag.", "start": 4652.57, "duration": 4.47}, {"text": "Because this file is\nusing a bit of jinja,", "start": 4657.04, "duration": 2.85}, {"text": "which is the templating\nlanguage that Flask uses.", "start": 4659.89, "duration": 2.37}, {"text": "You can just think of it\nas Flask, that's fine.", "start": 4662.26, "duration": 2.28}, {"text": "It uses some HTML here, but it also in\nthe bottom of the file uses JavaScript.", "start": 4664.54, "duration": 7.44}, {"text": "And so just as before when we've\nlooked at the source of the page, what", "start": 4671.98, "duration": 3.9}, {"text": "I'm going to see in the browser\non this forms page is no jinja,", "start": 4675.88, "duration": 4.35}, {"text": "no Python, nothing related to Flask.", "start": 4680.23, "duration": 2.58}, {"text": "Just a fully formed HTML\npage that also now contains", "start": 4682.81, "duration": 3.72}, {"text": "some of that client side code.", "start": 4686.53, "duration": 1.95}, {"text": "And so I have this mixture now\nof several different language,", "start": 4688.48, "duration": 3.09}, {"text": "but each of which solves\na very distinct problem.", "start": 4691.57, "duration": 4.408}, {"text": "Yeah?", "start": 4695.978, "duration": 0.974}, {"text": "AUDIENCE: So I think it was a\nweek ago or two weeks ago when", "start": 4696.952, "duration": 4.058}, {"text": "we were working on\nJavaScript and CSS, you", "start": 4701.01, "duration": 2.029}, {"text": "were saying that it's preferable\nto split languages, not", "start": 4703.039, "duration": 5.844}, {"text": "mix them in the same document.", "start": 4708.883, "duration": 1.705}, {"text": "Right now we are mixing\nmultiple languages.", "start": 4710.588, "duration": 1.982}, {"text": "DAVID MALAN: Really good observation.", "start": 4712.57, "duration": 1.541}, {"text": "So a couple of weeks ago I really\npreached the separation of concerns,", "start": 4714.111, "duration": 2.989}, {"text": "and therefore separation of files.", "start": 4717.1, "duration": 1.53}, {"text": "And that's why we\nintroduced a .css file,", "start": 4718.63, "duration": 2.31}, {"text": "we also briefly showed\nexamples of a .js file.", "start": 4720.94, "duration": 3.51}, {"text": "The short answer is as your\napplications get more complex,", "start": 4724.45, "duration": 3.33}, {"text": "life starts to get messy.", "start": 4727.78, "duration": 1.055}, {"text": "And the team and I were\nactually talking about this", "start": 4728.835, "duration": 2.125}, {"text": "earlier as to how to present\nsome of these examples,", "start": 4730.96, "duration": 2.25}, {"text": "because what you are seeing in my\ndesign decision here is a tension.", "start": 4733.21, "duration": 4.56}, {"text": "So that tension here is as follows.", "start": 4737.77, "duration": 2.32}, {"text": "It is not necessarily the best practice\nto just have your logical JavaScript", "start": 4740.09, "duration": 4.01}, {"text": "code comingled with your HTML.", "start": 4744.1, "duration": 2.694}, {"text": "It makes it harder to\ncollaborate with someone else.", "start": 4746.794, "duration": 2.166}, {"text": "If one of you is really good at design\nand wants to work on the HTML and CSS,", "start": 4748.96, "duration": 2.94}, {"text": "the other person really wants to do\nthe JavaScript code, kind of hard", "start": 4751.9, "duration": 2.64}, {"text": "to do that when they're\nboth in the same file.", "start": 4754.54, "duration": 1.92}, {"text": "So we could factor this out.", "start": 4756.46, "duration": 1.44}, {"text": "I could change this line, just\nto be super clear, to be this.", "start": 4757.9, "duration": 5.52}, {"text": "Instead of putting my actual code in the\nfile, I could do something like this.", "start": 4763.42, "duration": 3.69}, {"text": "The source of this shall be\nform.js, and that is just it.", "start": 4767.11, "duration": 5.82}, {"text": "And then I have a separate file maybe\nmy colleague works in as follows.", "start": 4772.93, "duration": 3.24}, {"text": "But at some point the thoughts\nthat go through my head", "start": 4776.17, "duration": 2.25}, {"text": "are, it's only like 10\nlines of code and I just", "start": 4778.42, "duration": 4.29}, {"text": "have to create a second file\nnow, and that second file", "start": 4782.71, "duration": 2.73}, {"text": "is going to be maybe in a\ndifferent folder as my template.", "start": 4785.44, "duration": 2.79}, {"text": "And you know, it feels like this\nis just overengineering a solution", "start": 4788.23, "duration": 3.63}, {"text": "to the problem.", "start": 4791.86, "duration": 0.88}, {"text": "However, once it's 20 lines, 100\nlines, now OK, now it's feeling messy.", "start": 4792.74, "duration": 4.68}, {"text": "Somewhere there's this inflection point.", "start": 4797.42, "duration": 1.8}, {"text": "And this is where reasonable people will\ndisagree, and I might argue one way,", "start": 4799.22, "duration": 3.02}, {"text": "you might argue the other way.", "start": 4802.24, "duration": 1.25}, {"text": "And honestly, both of\nus are probably right.", "start": 4803.49, "duration": 2.41}, {"text": "And so this just speaks to the\nweb's development over time.", "start": 4805.9, "duration": 3.784}, {"text": "And there's fancier frameworks\nnow. and if we tie things earlier", "start": 4809.684, "duration": 2.666}, {"text": "into the question about CS50 beyond,\nan opportunity after this class that", "start": 4812.35, "duration": 3.927}, {"text": "looks more closely at\nweb programming, there", "start": 4816.277, "duration": 1.833}, {"text": "are even fancier frameworks nowadays\nthan Flask and than Bootstrap", "start": 4818.11, "duration": 4.02}, {"text": "that if tried to solve this problem.", "start": 4822.13, "duration": 1.59}, {"text": "React is one of the most popular\nones developed by Facebook,", "start": 4823.72, "duration": 2.87}, {"text": "now open source and\nused by so many people", "start": 4826.59, "duration": 1.75}, {"text": "around the world that\nactually addresses this issue.", "start": 4828.34, "duration": 2.37}, {"text": "And it allows you to separate\nyour HTML from your CSS", "start": 4830.71, "duration": 2.82}, {"text": "from your JavaScript in different parts\nof the file but still in the same file.", "start": 4833.53, "duration": 4.29}, {"text": "And that was their particular solution.", "start": 4837.82, "duration": 1.68}, {"text": "And View and Angular, there are so many\ndifferent solutions to these problems.", "start": 4839.5, "duration": 3.249}, {"text": "And unfortunately, once we take\nthe training wheels of CS50 off,", "start": 4842.749, "duration": 3.025}, {"text": "this is what's ahead of you.", "start": 4845.774, "duration": 1.166}, {"text": "The world is messy.", "start": 4846.94, "duration": 1.042}, {"text": "And the reason there are so many\ndarn languages and frameworks is", "start": 4847.982, "duration": 2.708}, {"text": "because people like you have\nthese instincts and think,", "start": 4850.69, "duration": 3.12}, {"text": "this could be done better.", "start": 4853.81, "duration": 1.23}, {"text": "And thus do we iterate and\nhave new and new technologies.", "start": 4855.04, "duration": 2.657}, {"text": "But this is the kind of\nstuff-- and honestly, this", "start": 4857.697, "duration": 2.083}, {"text": "is the kind of silliness\nthat changes over time.", "start": 4859.78, "duration": 2.59}, {"text": "The fundamentals of HTTP,\nand client side code,", "start": 4862.37, "duration": 2.54}, {"text": "and JavaScript code, those\nfundamentals are invariant", "start": 4864.91, "duration": 2.97}, {"text": "even as the implementation\ndetails change.", "start": 4867.88, "duration": 2.55}, {"text": "So the short answer is,\ncould this be better?", "start": 4870.43, "duration": 2.28}, {"text": "Probably.", "start": 4872.71, "duration": 0.68}, {"text": "Could it be much better?", "start": 4873.39, "duration": 1.0}, {"text": "I don't know.", "start": 4874.39, "duration": 0.69}, {"text": "It really now becomes more\nof a debate among developers.", "start": 4875.08, "duration": 3.78}, {"text": "Good question.", "start": 4878.86, "duration": 1.14}, {"text": "All right, so let's now use\nsome of these basic building", "start": 4880.0, "duration": 3.42}, {"text": "blocks to make a final set\nof examples that demonstrates", "start": 4883.42, "duration": 2.91}, {"text": "a feature with which most of us are\npretty familiar reminiscent of what we", "start": 4886.33, "duration": 3.409}, {"text": "did two weeks ago with Google Search.", "start": 4889.739, "duration": 1.541}, {"text": "At the time we searched for cats.", "start": 4891.28, "duration": 1.5}, {"text": "Today we'll keep it a little\nsimpler and a little less graphical", "start": 4892.78, "duration": 2.37}, {"text": "and just search for words.", "start": 4895.15, "duration": 1.083}, {"text": "Because you'll recall from\nour speller problem set,", "start": 4896.233, "duration": 2.247}, {"text": "you implemented a spell checker\nwith 140,000 plus English words.", "start": 4898.48, "duration": 4.38}, {"text": "That's a pretty juicy\ndataset to search over,", "start": 4902.86, "duration": 2.91}, {"text": "and you're probably all familiar\nwith autocomplete these days.", "start": 4905.77, "duration": 3.78}, {"text": "There's hardly a website these\ndays that when you start typing it", "start": 4909.55, "duration": 2.82}, {"text": "doesn't try to finish\nyour thought for you.", "start": 4912.37, "duration": 1.9}, {"text": "Google, Facebook, any a\nnumber of other sites.", "start": 4914.27, "duration": 2.18}, {"text": "So autocomplete, how does that work?", "start": 4916.45, "duration": 2.45}, {"text": "Well, let me propose the\nfollowing mental model.", "start": 4918.9, "duration": 2.0}, {"text": "If you do have some data set\nlike a big list of words,", "start": 4920.9, "duration": 2.36}, {"text": "or a big list of Facebook friends,\nor a big list of whatever,", "start": 4923.26, "duration": 3.18}, {"text": "you might store that server side\nbecause it's a lot, a lot of data.", "start": 4926.44, "duration": 3.535}, {"text": "And in fact, next week you\nmight store in a big database.", "start": 4929.975, "duration": 2.375}, {"text": "But for today we'll\njust store it in a file", "start": 4932.35, "duration": 1.791}, {"text": "like we did for the speller piece set.", "start": 4934.141, "duration": 1.845}, {"text": "But if you want to create\nan interactive experience", "start": 4935.986, "duration": 2.124}, {"text": "for the human, what\nlanguage are you're probably", "start": 4938.11, "duration": 2.1}, {"text": "going to want to use so that he\nor she gets immediate feedback?", "start": 4940.21, "duration": 4.13}, {"text": "Probably JavaScript, right?", "start": 4944.34, "duration": 1.185}, {"text": "That's the whole principle.", "start": 4945.525, "duration": 1.125}, {"text": "Client side code is just going\nto execute faster because there's", "start": 4946.65, "duration": 2.16}, {"text": "no internet between you and the code.", "start": 4948.81, "duration": 2.01}, {"text": "But with Python, you\nhave access to files.", "start": 4950.82, "duration": 2.85}, {"text": "And yet with JavaScript code you\nhave closer access to the user,", "start": 4953.67, "duration": 3.18}, {"text": "so there's these tensions.", "start": 4956.85, "duration": 1.38}, {"text": "So how could we go about building a\nsite that lets a human via form search", "start": 4958.23, "duration": 4.92}, {"text": "across that file for words?", "start": 4963.15, "duration": 2.16}, {"text": "Well, let's start as follows.", "start": 4965.31, "duration": 1.77}, {"text": "So in word 0 we have the following.", "start": 4967.08, "duration": 5.82}, {"text": "Large, which is just a text file\nborrowed from the speller problem set,", "start": 4972.9, "duration": 3.78}, {"text": "140,000 words, one poor line therein.", "start": 4976.68, "duration": 1.804}, {"text": "I'm not even going to\ndouble click and open it", "start": 4978.484, "duration": 1.916}, {"text": "because it's so darn big it'll\ntake a few seconds to open.", "start": 4980.4, "duration": 2.88}, {"text": "In application.py we have probably\nthe entry point to this application,", "start": 4983.28, "duration": 3.28}, {"text": "and in templates we have just\nthree templates this time.", "start": 4986.56, "duration": 2.659}, {"text": "So just when you're reading someone\nelse's code for the first time,", "start": 4989.219, "duration": 2.791}, {"text": "where should our entry point be?", "start": 4992.01, "duration": 1.2}, {"text": "Where should we start looking\nto understand what's going on?", "start": 4993.21, "duration": 2.5}, {"text": "Maybe application.py.", "start": 4998.17, "duration": 1.065}, {"text": "Or honestly, you know what?", "start": 4999.235, "duration": 1.125}, {"text": "If you want to see what\nsomething does, run it.", "start": 5000.36, "duration": 2.67}, {"text": "No harm in doing that.", "start": 5003.03, "duration": 0.96}, {"text": "So lets run Flask run.", "start": 5003.99, "duration": 1.61}, {"text": "Make this a little bit bigger.", "start": 5005.6, "duration": 1.25}, {"text": "Let me open up the URL here,\nopen, and I see a very simple form", "start": 5006.85, "duration": 3.17}, {"text": "asking me for a query.", "start": 5010.02, "duration": 1.38}, {"text": "Let me go ahead and search\nfor a and click Search.", "start": 5011.4, "duration": 4.41}, {"text": "And after a moment, OK.", "start": 5015.81, "duration": 2.16}, {"text": "This is a lot of words,\nbut apparently these", "start": 5017.97, "duration": 2.76}, {"text": "are all the English words\nthat our dictionary knows", "start": 5020.73, "duration": 2.13}, {"text": "about that start with the letter a.", "start": 5022.86, "duration": 1.62}, {"text": "And if I go all the way\nto the bottom, you'll", "start": 5024.48, "duration": 1.874}, {"text": "see it stops with az whatever\nwith no B words, in fact.", "start": 5026.354, "duration": 3.106}, {"text": "Well, let's make sure this actually\nworks and isn't just a trick.", "start": 5029.46, "duration": 2.83}, {"text": "Let's search for b words.", "start": 5032.29, "duration": 2.03}, {"text": "OK, so that seems to work, as well.", "start": 5034.32, "duration": 1.85}, {"text": "And notice I borrowed some\ninspiration from Google.", "start": 5036.17, "duration": 2.56}, {"text": "Notice that the route I'm using is\ncalled slash search like two weeks ago.", "start": 5038.73, "duration": 3.72}, {"text": "Does take a cue parameter for query,\nand b is whatever the human typed in.", "start": 5042.45, "duration": 4.15}, {"text": "So if I want to search\nfor z the words, enter,", "start": 5046.6, "duration": 3.41}, {"text": "I should hopefully get back now z words.", "start": 5050.01, "duration": 1.74}, {"text": "So now unlike two weeks ago, we\ncan implement both the front end", "start": 5051.75, "duration": 3.9}, {"text": "and the back end for a search engine.", "start": 5055.65, "duration": 1.96}, {"text": "But our search engine's\nsearching now just for words.", "start": 5057.61, "duration": 2.3}, {"text": "So let's look at application.py as\nproposed, which is the entry point,", "start": 5059.91, "duration": 3.24}, {"text": "and let's see how I'm doing this.", "start": 5063.15, "duration": 1.65}, {"text": "So this is some code that I\nborrowed a little bit from last week", "start": 5064.8, "duration": 3.42}, {"text": "when we quickly implemented\nthe spell checker", "start": 5068.22, "duration": 2.01}, {"text": "in like 12 or 20 lines of Python code.", "start": 5070.23, "duration": 2.91}, {"text": "I'm declaring a global\nvariable called words,", "start": 5073.14, "duration": 2.13}, {"text": "and I capitalized it just to\nbe reminiscent of last time", "start": 5075.27, "duration": 2.84}, {"text": "and the problem set.", "start": 5078.11, "duration": 1.05}, {"text": "I'm using this syntax\nwhich I alluded to earlier", "start": 5079.16, "duration": 2.08}, {"text": "is just more conventional or Pythonic.", "start": 5081.24, "duration": 2.46}, {"text": "Open the large file in Read\nmode and call the variable file.", "start": 5083.7, "duration": 3.84}, {"text": "Then here is a for loop via\nwhich you can iterate over", "start": 5087.54, "duration": 2.7}, {"text": "every line in the file,\nreading one at a time.", "start": 5090.24, "duration": 3.09}, {"text": "But recall, what does every\nline in this file end with?", "start": 5093.33, "duration": 2.34}, {"text": "Like a backslash n, and we don't\nreally want those as part of the words.", "start": 5098.27, "duration": 3.55}, {"text": "That's not part of the English word.", "start": 5101.82, "duration": 1.5}, {"text": "So R strip, right strip removes any\nwhitespace from the end of the string.", "start": 5103.32, "duration": 3.97}, {"text": "And that's why I needed\nto add that extra line.", "start": 5107.29, "duration": 2.04}, {"text": "So I'm just cleaning up the\nfile or massaging the data", "start": 5109.33, "duration": 2.42}, {"text": "as you might do with any sort\nof data based application.", "start": 5111.75, "duration": 3.55}, {"text": "So then I just seem to have this\nroute that renders the template.", "start": 5115.3, "duration": 3.02}, {"text": "If I look in index.html,\nlet's follow the bread crumbs.", "start": 5118.32, "duration": 3.12}, {"text": "Go into index.html.", "start": 5121.44, "duration": 1.68}, {"text": "OK, not that much going on here.", "start": 5123.12, "duration": 1.71}, {"text": "Looks like an HTML form, the\naction of which is slash search,", "start": 5124.83, "duration": 3.0}, {"text": "just like Google's.", "start": 5127.83, "duration": 1.02}, {"text": "The method of which is is\nget just like Google's.", "start": 5128.85, "duration": 2.334}, {"text": "There's nothing really private about\nthe words I'm searching for here,", "start": 5131.184, "duration": 2.916}, {"text": "so I don't care.", "start": 5134.1, "duration": 1.29}, {"text": "There's some fancier features here.", "start": 5135.39, "duration": 1.62}, {"text": "Notice placeholder is the\ngrayed out text the human sees.", "start": 5137.01, "duration": 2.83}, {"text": "Auto focus.", "start": 5139.84, "duration": 1.25}, {"text": "What does this do again?", "start": 5141.09, "duration": 1.902}, {"text": "This is just a UI feature,\nbetter user experience.", "start": 5142.992, "duration": 2.083}, {"text": "AUDIENCE: Puts the like,\nright in the text box.", "start": 5145.075, "duration": 2.215}, {"text": "DAVID MALAN: Yeah, it puts the\ncursor right in the text box.", "start": 5147.29, "duration": 2.92}, {"text": "To focus on something in a\nweb page means make it what's", "start": 5150.21, "duration": 2.83}, {"text": "interacting with the user right now.", "start": 5153.04, "duration": 1.55}, {"text": "And Mac OS, for instance,\nhighlights it in blue.", "start": 5154.59, "duration": 2.126}, {"text": "So when you first load\nthe page, the cursoe's", "start": 5156.716, "duration": 1.874}, {"text": "blinking in the choice of text\nboxes that you care about most.", "start": 5158.59, "duration": 3.57}, {"text": "Autocomplete off just disables the\nbrowser's version of autocomplete.", "start": 5162.16, "duration": 3.465}, {"text": "So I don't see past searches,\njust because the whole point here", "start": 5165.625, "duration": 2.625}, {"text": "is to implement this\nourselves ultimately,", "start": 5168.25, "duration": 2.19}, {"text": "and then I have my search button.", "start": 5170.44, "duration": 1.38}, {"text": "This is just jinja stuff from\nFlask so that I have a layout file.", "start": 5171.82, "duration": 3.54}, {"text": "Lets follow that breadcrumb.", "start": 5175.36, "duration": 1.37}, {"text": "Lay out.html, nothing really\nthat interesting going on there.", "start": 5176.73, "duration": 3.52}, {"text": "If you've ever wondered why we\nhave these in a lot of our demos,", "start": 5180.25, "duration": 2.76}, {"text": "this cryptic looking line here\njust makes web sites look better", "start": 5183.01, "duration": 3.12}, {"text": "on mobile devices.", "start": 5186.13, "duration": 1.47}, {"text": "Typically by default if you pull up\nyour phone and look at a website,", "start": 5187.6, "duration": 3.15}, {"text": "if it doesn't have\nthat kind of line, like", "start": 5190.75, "duration": 1.95}, {"text": "the text is going to be super\ntiny unless you pinch and zoom.", "start": 5192.7, "duration": 3.27}, {"text": "By using this line and\nvariations thereof,", "start": 5195.97, "duration": 2.49}, {"text": "it will increase the\ndefault font size a bit", "start": 5198.46, "duration": 1.86}, {"text": "to make it a little more\ntolerable on small screen.", "start": 5200.32, "duration": 2.22}, {"text": "So it's an easy win\nfor users experience.", "start": 5202.54, "duration": 2.43}, {"text": "OK, I seem to have exhausted all the\ninteresting stuff in these templates.", "start": 5204.97, "duration": 3.45}, {"text": "Let's look at another and final route.", "start": 5208.42, "duration": 2.32}, {"text": "Here's my search route, and\nthis is pretty Pythonic.", "start": 5210.74, "duration": 4.67}, {"text": "This is a mouthful, and\nwill re-implement it", "start": 5215.41, "duration": 2.1}, {"text": "in a different way in just a moment.", "start": 5217.51, "duration": 1.75}, {"text": "So I have a search route that listens\nfor get requests on slash search.", "start": 5219.26, "duration": 3.62}, {"text": "Then this crazy looking line is\nabout as Pythonic as code gets.", "start": 5222.88, "duration": 4.149}, {"text": "And I'll explain what\nthis is doing and why", "start": 5227.029, "duration": 1.791}, {"text": "it's conventional as opposed to\nstraightforward at first glance.", "start": 5228.82, "duration": 5.31}, {"text": "And then I render the template,\npassing in these words.", "start": 5234.13, "duration": 2.88}, {"text": "So this one liner on line\n17 actually has the effect", "start": 5237.01, "duration": 3.6}, {"text": "of searching 140,000\nwords for whatever words", "start": 5240.61, "duration": 3.3}, {"text": "start with what the user typed in.", "start": 5243.91, "duration": 2.2}, {"text": "See, this would be a\npain in the neck to do.", "start": 5246.11, "duration": 2.33}, {"text": "In Python you can do it\nwith literally one line.", "start": 5248.44, "duration": 2.18}, {"text": "A long line, but one line nonetheless.", "start": 5250.62, "duration": 2.5}, {"text": "Let me make this more clear.", "start": 5253.12, "duration": 1.53}, {"text": "If I were to search for\nwords in this big file,", "start": 5254.65, "duration": 3.929}, {"text": "I might do something like this.", "start": 5258.579, "duration": 1.291}, {"text": "Words is an empty list.", "start": 5259.87, "duration": 1.28}, {"text": "So this lower case words is\nall of the words that match,", "start": 5261.15, "duration": 2.529}, {"text": "that I want to send back to the user.", "start": 5263.679, "duration": 1.541}, {"text": "So by default I have no\nidea what to send back.", "start": 5265.22, "duration": 2.3}, {"text": "But I do know I can do this.", "start": 5267.52, "duration": 1.44}, {"text": "For word in Words--", "start": 5268.96, "duration": 1.68}, {"text": "which is the capitalized variable,\nthe constant up at the top", "start": 5270.64, "duration": 2.99}, {"text": "that has the whole--\nor not even constant,", "start": 5273.63, "duration": 1.75}, {"text": "but the global variable that has\nall of the words from the file, here", "start": 5275.38, "duration": 3.38}, {"text": "is a for loop over those.", "start": 5278.76, "duration": 1.66}, {"text": "I can now say something like this.", "start": 5280.42, "duration": 1.87}, {"text": "If the current word starts with\nwhatever the user typed in-- well,", "start": 5282.29, "duration": 4.82}, {"text": "what's the user typing in?", "start": 5287.11, "duration": 1.23}, {"text": "Well, q equals request.args.get\nquote-unquote q,", "start": 5288.34, "duration": 4.74}, {"text": "gives me the user's name, dorm,\nor in this case Q value for query.", "start": 5293.08, "duration": 4.71}, {"text": "So if the word that we're currently\niterating over starts with q,", "start": 5297.79, "duration": 4.62}, {"text": "I can go ahead and append to my--\nwhoops, append to this list that word.", "start": 5302.41, "duration": 10.94}, {"text": "Would you say you're comfortable\nwith these lines here?", "start": 5313.35, "duration": 2.53}, {"text": "To recap, give me an empty list in\nwhich to store the search results,", "start": 5315.88, "duration": 5.19}, {"text": "iterate over all possible\n140,000 plus words, get--", "start": 5321.07, "duration": 3.58}, {"text": "and actually, this was stupid.", "start": 5324.65, "duration": 1.25}, {"text": "I should just put this up here, because\nI only need to check for that once.", "start": 5325.9, "duration": 3.15}, {"text": "So store the user's input\nin a variable called q.", "start": 5329.05, "duration": 3.24}, {"text": "For each word among the 140,000, check\nif it starts with the user's input--", "start": 5332.29, "duration": 5.13}, {"text": "a, b, z, whatever.", "start": 5337.42, "duration": 1.77}, {"text": "And if so, append it to there.", "start": 5339.19, "duration": 2.91}, {"text": "So let's temporarily get rid of\nthis and just render the template.", "start": 5342.1, "duration": 3.09}, {"text": "So notice this gets the job done,\nbut this is very C-like logic.", "start": 5345.19, "duration": 4.02}, {"text": "It's not wrong, it's perfectly correct.", "start": 5349.21, "duration": 2.16}, {"text": "But Python is a language\nthat's meant to be", "start": 5351.37, "duration": 3.09}, {"text": "a little more human readable\nand a little more elegant,", "start": 5354.46, "duration": 2.88}, {"text": "if a little more non-obvious.", "start": 5357.34, "duration": 1.71}, {"text": "So this one line does\nthe exact same thing", "start": 5359.05, "duration": 2.22}, {"text": "using a feature called a\nlist comprehension, which", "start": 5361.27, "duration": 3.26}, {"text": "is ironic if you don't quite\ncomprehend how it's working.", "start": 5364.53, "duration": 2.8}, {"text": "But here's the variable I\nwant to create called Words.", "start": 5367.33, "duration": 2.75}, {"text": "These square brackets\nhere say give me a list.", "start": 5370.08, "duration": 3.089}, {"text": "What do you want to put in that list?", "start": 5373.169, "duration": 1.541}, {"text": "I want to put a word in this list.", "start": 5374.71, "duration": 1.629}, {"text": "Which word do you want\nto put in this list?", "start": 5376.339, "duration": 1.791}, {"text": "The result of inducing this loop\nand then only putting in this list", "start": 5378.13, "duration": 4.83}, {"text": "a word if it starts with\nwhat the human typed in.", "start": 5382.96, "duration": 3.617}, {"text": "So it takes some getting\nused to, but this is just", "start": 5386.577, "duration": 2.083}, {"text": "a one liner way, a very Pythonic way of\nexpressing those several lines of very", "start": 5388.66, "duration": 4.5}, {"text": "procedural code into a simple one line.", "start": 5393.16, "duration": 2.97}, {"text": "Is it better?", "start": 5396.13, "duration": 1.32}, {"text": "Not if you can't read it.", "start": 5397.45, "duration": 1.042}, {"text": "But once you get more\ncomfortable with Python,", "start": 5398.492, "duration": 1.916}, {"text": "yes, it's better because it's less code.", "start": 5400.408, "duration": 1.812}, {"text": "Yeah?", "start": 5402.22, "duration": 0.705}, {"text": "AUDIENCE: You said Python uses\nnotation to tell where conditions are.", "start": 5402.925, "duration": 4.95}, {"text": "How is [INAUDIBLE]?", "start": 5407.875, "duration": 1.55}, {"text": "DAVID MALAN: Good question.", "start": 5409.425, "duration": 1.125}, {"text": "In this case of a list\ncomprehension, you can only", "start": 5410.55, "duration": 3.15}, {"text": "have one line or one condition.", "start": 5413.7, "duration": 2.91}, {"text": "You can't have multiple lines therein,\nso I cannot start hitting Enter", "start": 5416.61, "duration": 3.199}, {"text": "and indenting here.", "start": 5419.809, "duration": 0.791}, {"text": "It's just not allowed.", "start": 5420.6, "duration": 1.29}, {"text": "So you would only use this-- and I'm\nfrankly really pushing the limits.", "start": 5421.89, "duration": 3.06}, {"text": "You should only really use this\nsyntax when it fits on your screen", "start": 5424.95, "duration": 3.0}, {"text": "or fits on a reasonable person's screen.", "start": 5427.95, "duration": 2.25}, {"text": "After that you should probably do\nsomething a little more expressive.", "start": 5430.2, "duration": 3.33}, {"text": "Other questions?", "start": 5433.53, "duration": 1.747}, {"text": "But this is very common to see online.", "start": 5435.277, "duration": 1.583}, {"text": "So any tutorials, if you ever\nsee this kind of one liner,", "start": 5436.86, "duration": 2.52}, {"text": "just try to think about it from that\napproach what it is actually doing.", "start": 5439.38, "duration": 4.08}, {"text": "OK, so propose from a user\nexperience perspective", "start": 5443.46, "duration": 3.36}, {"text": "how could this program be better?", "start": 5446.82, "duration": 1.5}, {"text": "Because this is just our first version.", "start": 5448.32, "duration": 1.75}, {"text": "So what could be better\nfor the user than this?", "start": 5450.07, "duration": 3.71}, {"text": "What could be better?", "start": 5457.63, "duration": 1.55}, {"text": "Yeah?", "start": 5459.18, "duration": 1.608}, {"text": "AUDIENCE: Just going back,\ncan you explain words in caps?", "start": 5460.788, "duration": 5.726}, {"text": "DAVID MALAN: Oh, sure.", "start": 5466.514, "duration": 0.916}, {"text": "Words in caps is this global variable I\ndefined up here that stores all 140,000", "start": 5467.43, "duration": 6.24}, {"text": "plus words.", "start": 5473.67, "duration": 0.78}, {"text": "That's the really big file\ncalled large, the text file.", "start": 5474.45, "duration": 3.45}, {"text": "Down here I just need a local variable.", "start": 5477.9, "duration": 2.1}, {"text": "And if it's more clear, I could\ncall it results and then just", "start": 5480.0, "duration": 3.03}, {"text": "say results equals results.", "start": 5483.03, "duration": 1.56}, {"text": "That is the subset of words\nthat start with a, or b,", "start": 5484.59, "duration": 3.78}, {"text": "or whatever the human typed in.", "start": 5488.37, "duration": 2.41}, {"text": "That's all.", "start": 5490.78, "duration": 1.09}, {"text": "Good question.", "start": 5491.87, "duration": 0.61}, {"text": "Yeah?", "start": 5492.48, "duration": 0.21}, {"text": "AUDIENCE: Why do we\nchange the last time-- why", "start": 5492.69, "duration": 1.95}, {"text": "did you have to change args to form?", "start": 5494.64, "duration": 2.827}, {"text": "DAVID MALAN: Why did I\nhave to change my args to--", "start": 5497.467, "duration": 2.083}, {"text": "AUDIENCE: Forms?", "start": 5499.55, "duration": 2.04}, {"text": "DAVID MALAN: So earlier today when I\ndidn't understand what was going on,", "start": 5501.59, "duration": 4.35}, {"text": "you should use request.args\nfor get requests.", "start": 5505.94, "duration": 3.15}, {"text": "You should use request.form\nfor post requests.", "start": 5509.09, "duration": 3.355}, {"text": "AUDIENCE: But it's still .get after?", "start": 5512.445, "duration": 2.615}, {"text": "DAVID MALAN: It's always .get, yes.", "start": 5515.06, "duration": 1.98}, {"text": "But you change what you're\ngetting things from.", "start": 5517.04, "duration": 2.22}, {"text": "In an ideal world, it would have been\nsomething-- oh, I see what you mean.", "start": 5519.26, "duration": 4.47}, {"text": "Get in this sense is the verb.", "start": 5523.73, "duration": 2.22}, {"text": "We humans mean go get something.", "start": 5525.95, "duration": 3.01}, {"text": "Args in this sense,\nif they had done get--", "start": 5528.96, "duration": 2.95}, {"text": "I'm making this up, but this\nis probably why they did this.", "start": 5531.91, "duration": 2.5}, {"text": "Because get from get seems weird,\nwhereas get from post is less weird.", "start": 5534.41, "duration": 4.05}, {"text": "But it's just they called\nit args and form instead.", "start": 5538.46, "duration": 3.38}, {"text": "OK, so let's actually\nimprove this, but how?", "start": 5541.84, "duration": 2.874}, {"text": "What could be better for the user?", "start": 5544.714, "duration": 1.416}, {"text": "Yeah?", "start": 5546.13, "duration": 0.47}, {"text": "AUDIENCE: They could search a\nword, not just the first letter.", "start": 5546.6, "duration": 1.79}, {"text": "DAVID MALAN: OK, maybe\nsearching a whole word", "start": 5548.39, "duration": 1.59}, {"text": "would be good, not\njust the first letter.", "start": 5549.98, "duration": 1.708}, {"text": "What else could we do?", "start": 5551.688, "duration": 1.576}, {"text": "AUDIENCE: We can create an\nindex list of letters and words?", "start": 5553.264, "duration": 5.618}, {"text": "DAVID MALAN: OK, we could\ncreate an index list.", "start": 5558.882, "duration": 1.958}, {"text": "So maybe using a hash or some form\nof inspiration from our problem", "start": 5560.84, "duration": 4.176}, {"text": "set with Speller and actually use\na more sophisticated data structure", "start": 5565.016, "duration": 2.874}, {"text": "to get these answers more quickly.", "start": 5567.89, "duration": 1.982}, {"text": "And let me propose, too, the goal here\nis to actually implement autocomplete,", "start": 5569.872, "duration": 3.208}, {"text": "and this was not auto complete.", "start": 5573.08, "duration": 1.3}, {"text": "This was like old school search.", "start": 5574.38, "duration": 1.64}, {"text": "Type in a query, hit Enter,\nget a page of results.", "start": 5576.02, "duration": 2.7}, {"text": "What if we want to do\nsomething more immediate?", "start": 5578.72, "duration": 2.04}, {"text": "So let me actually propose this.", "start": 5580.76, "duration": 1.59}, {"text": "Before looking at the code,\nlet me go into words 1.", "start": 5582.35, "duration": 2.79}, {"text": "Let me go ahead and run\nFlask in that directory.", "start": 5585.14, "duration": 2.522}, {"text": "Let me go ahead and\nreload the form here,", "start": 5587.662, "duration": 1.708}, {"text": "and now notice no Submit button\nbecause there's not going", "start": 5589.37, "duration": 2.67}, {"text": "to be any actual submissions here.", "start": 5592.04, "duration": 1.92}, {"text": "But I'm going to go ahead and hit the\nletter A, and ooh, that's kind of cool.", "start": 5593.96, "duration": 4.26}, {"text": "Let me delete that, goes away.", "start": 5598.22, "duration": 1.92}, {"text": "B, there's all the B words.", "start": 5600.14, "duration": 1.98}, {"text": "Let me go B-A words, B-A-B\nwords, B-A-B-A words.", "start": 5602.12, "duration": 6.3}, {"text": "This is how autocomplete works.", "start": 5608.42, "duration": 3.03}, {"text": "So it seems to be responding immediately\nto my input, so something's happening.", "start": 5611.45, "duration": 4.35}, {"text": "But I'm not actually\nsubmitting the form.", "start": 5615.8, "duration": 1.83}, {"text": "So I'm kind of using it now,\nit seems client side JavaScript", "start": 5617.63, "duration": 3.27}, {"text": "to maybe talk to the server?", "start": 5620.9, "duration": 1.44}, {"text": "Let's infer.", "start": 5622.34, "duration": 0.579}, {"text": "So here, too, this\nshould be your instinct.", "start": 5622.919, "duration": 1.791}, {"text": "Whenever you're trying to understand\nhow someone's website works,", "start": 5624.71, "duration": 2.708}, {"text": "if you want to learn from it or mimic\ncertain fundamental functionality,", "start": 5627.418, "duration": 3.292}, {"text": "go ahead and inspect the page.", "start": 5630.71, "duration": 2.1}, {"text": "And you don't probably care\ntoo much about the HTML yet.", "start": 5632.81, "duration": 2.88}, {"text": "Where is this data coming from?", "start": 5635.69, "duration": 1.44}, {"text": "Let me click on the Network tab, which\nwe looked at a couple of weeks ago.", "start": 5637.13, "duration": 3.514}, {"text": "Let me go ahead and restart this\nand let me clear this and start", "start": 5640.644, "duration": 2.666}, {"text": "from the beginning of the story.", "start": 5643.31, "duration": 1.35}, {"text": "Let's see what happens when I\ntype the letter A. Interesting.", "start": 5644.66, "duration": 3.93}, {"text": "There is a web request.", "start": 5648.59, "duration": 1.99}, {"text": "So if I zoom in down here, notice\nthat my browser actually searched", "start": 5650.58, "duration": 4.25}, {"text": "for Q equals A, the human's input.", "start": 5654.83, "duration": 2.424}, {"text": "Let me go ahead and-- it\nkeeps searching because I'm", "start": 5657.254, "duration": 2.166}, {"text": "using keyboard shortcuts here.", "start": 5659.42, "duration": 1.25}, {"text": "But let me go ahead and click this row.", "start": 5660.67, "duration": 2.23}, {"text": "Notice what happened.", "start": 5662.9, "duration": 1.29}, {"text": "I made a request to slash search\nquestion mark q equals a via get.", "start": 5664.19, "duration": 5.79}, {"text": "Let's see what the response was.", "start": 5669.98, "duration": 1.62}, {"text": "The response here, if\nI view the source--", "start": 5671.6, "duration": 2.4}, {"text": "or rather, if I read the response--", "start": 5674.0, "duration": 3.36}, {"text": "notice what came back.", "start": 5677.36, "duration": 1.44}, {"text": "It looks like my server returned to me\na fragment of HTML containing hundreds,", "start": 5678.8, "duration": 5.25}, {"text": "maybe thousands of words starting\nwith A. But notice there's no UL tag,", "start": 5684.05, "duration": 3.93}, {"text": "there's no head tag, no title, no body,\nit's just a partial HTML fragment.", "start": 5687.98, "duration": 3.45}, {"text": "But that's interesting, because I know\nwith Python I can do exactly that.", "start": 5691.43, "duration": 3.28}, {"text": "I can generate anything\nI want on the server,", "start": 5694.71, "duration": 2.72}, {"text": "and then maybe the browser can just\nplug in those changed the results.", "start": 5697.43, "duration": 3.97}, {"text": "So let me go ahead and look\nat the code for this page.", "start": 5701.4, "duration": 2.31}, {"text": "If I go now to the browser's\nsource code, the view page source,", "start": 5703.71, "duration": 4.58}, {"text": "you'll see a few new lines.", "start": 5708.29, "duration": 2.28}, {"text": "So to do this easily, I'm\nactually using another library.", "start": 5710.57, "duration": 3.85}, {"text": "This one is called jQuery.", "start": 5714.42, "duration": 1.55}, {"text": "This was for many years\nsuper, super popular.", "start": 5715.97, "duration": 2.049}, {"text": "It's kind of starting\nto fall out of vogue,", "start": 5718.019, "duration": 1.791}, {"text": "but it's still so\npowerful and so useful.", "start": 5719.81, "duration": 2.16}, {"text": "And it's used by Bootstrap, the\nother CSS library we've talked about,", "start": 5721.97, "duration": 3.19}, {"text": "so it's perfectly\nreasonable to use it here.", "start": 5725.16, "duration": 3.03}, {"text": "Notice how I'm including\nit with the script tag,", "start": 5728.19, "duration": 2.15}, {"text": "and it's hosted on a\nthird party website so", "start": 5730.34, "duration": 2.04}, {"text": "that I don't have to save a\ncopy of it myself on my own IDE.", "start": 5732.38, "duration": 3.6}, {"text": "Then let's look at the\ncode I actually wrote.", "start": 5735.98, "duration": 2.13}, {"text": "So notice that atop this file\nis not even a full fledged form,", "start": 5738.11, "duration": 3.69}, {"text": "it is just the HTML input.", "start": 5741.8, "duration": 1.505}, {"text": "Because I don't need a full form.", "start": 5743.305, "duration": 1.375}, {"text": "I don't need an action,\nI don't need a method,", "start": 5744.68, "duration": 1.916}, {"text": "because I'm not submitting it\nanywhere with the human's cooperation.", "start": 5746.596, "duration": 3.484}, {"text": "I'm going to use my own code.", "start": 5750.08, "duration": 1.62}, {"text": "So in my script tag here, my\nJavaScript code, notice what I'm doing.", "start": 5751.7, "duration": 4.17}, {"text": "This is some code from\nlike two weeks ago.", "start": 5755.87, "duration": 2.01}, {"text": "I'm going to search the tree\nthat represents this web page.", "start": 5757.88, "duration": 3.18}, {"text": "And indeed, it is meant to be a tree.", "start": 5761.06, "duration": 1.59}, {"text": "Recall from that time when\nwe looked at an HTML page,", "start": 5762.65, "duration": 3.24}, {"text": "there is in memory, thanks to\nthe browser, something treelike--", "start": 5765.89, "duration": 3.66}, {"text": "a DOM, document object model--\nthat represents your page.", "start": 5769.55, "duration": 2.91}, {"text": "Using JavaScript, can we change\nthat page after the fact?", "start": 5772.46, "duration": 4.48}, {"text": "So what am I going to do?", "start": 5776.94, "duration": 1.65}, {"text": "I'm going to tell the browser whenever\nthis input hears an event called on key", "start": 5778.59, "duration": 5.03}, {"text": "up-- so whenever the field has\nfocus-- it's blue in Mac OS--", "start": 5783.62, "duration": 3.87}, {"text": "and the human hits the\nkey and then let's go,", "start": 5787.49, "duration": 2.7}, {"text": "and the key goes up, go ahead and\ncall the following anonymous function.", "start": 5790.19, "duration": 4.36}, {"text": "What do you want that to do?", "start": 5794.55, "duration": 1.199}, {"text": "Now, this code is a\nlittle cryptic, but let", "start": 5795.749, "duration": 1.791}, {"text": "me walk us through it because\nit's only three lines.", "start": 5797.54, "duration": 3.12}, {"text": "This code here is using\na special feature--", "start": 5800.66, "duration": 3.75}, {"text": "dollar sign-- that comes from\nthis library called jQuery.", "start": 5804.41, "duration": 2.94}, {"text": "More on that in a moment.", "start": 5807.35, "duration": 1.32}, {"text": "That library, somewhat confusingly\nnamed, has a function called get,", "start": 5808.67, "duration": 5.85}, {"text": "which has nothing to do with Python\nor the one we just talked about.", "start": 5814.52, "duration": 3.01}, {"text": "But this has to do with an HTTP get.", "start": 5817.53, "duration": 2.45}, {"text": "With this line of code,\nyou can tell a browser,", "start": 5819.98, "duration": 2.22}, {"text": "even after a web page has been loaded,\ngo get me this other URL, please.", "start": 5822.2, "duration": 4.74}, {"text": "So what URL do you want to get?", "start": 5826.94, "duration": 1.68}, {"text": "Go ahead and get me from the same\nserver slash search q equals,", "start": 5828.62, "duration": 5.28}, {"text": "and then what does plus mean\nin JavaScript if you recall?", "start": 5833.9, "duration": 3.5}, {"text": "Concatenation.", "start": 5837.4, "duration": 0.86}, {"text": "So it means just append\none string to the other.", "start": 5838.26, "duration": 2.369}, {"text": "So this is like saying,\ngo ahead and get me", "start": 5840.629, "duration": 1.791}, {"text": "the URL that ends with slash search,\nquestion mark, Q equals A, or Q equals", "start": 5842.42, "duration": 5.45}, {"text": "B, or Q equals Z. Whatever\nthe human typed and just gets", "start": 5847.87, "duration": 3.27}, {"text": "slapped onto the end.", "start": 5851.14, "duration": 1.467}, {"text": "And then that's where\nwe're getting it from.", "start": 5852.607, "duration": 1.833}, {"text": "Input.value is the user's\ninput, the value thereof.", "start": 5854.44, "duration": 3.33}, {"text": "And then the last line-- and\nthis is perhaps the fanciest--", "start": 5857.77, "duration": 3.02}, {"text": "notice that I have an\nanonymous function.", "start": 5860.79, "duration": 2.89}, {"text": "In this library called\njQuery, there is this function", "start": 5863.68, "duration": 3.33}, {"text": "called get that gets a URL.", "start": 5867.01, "duration": 2.58}, {"text": "When the server responds to your request\nwith a virtual envelope of its own,", "start": 5869.59, "duration": 4.98}, {"text": "this anonymous function gets\ncalled and the response envelope", "start": 5874.57, "duration": 2.85}, {"text": "gets handed to you, so to speak, as\na data argument, as a data variable.", "start": 5877.42, "duration": 6.06}, {"text": "Then what you can you do?", "start": 5883.48, "duration": 1.59}, {"text": "Document.queryselector UL.", "start": 5885.07, "duration": 2.46}, {"text": "What is UL?", "start": 5887.53, "duration": 0.69}, {"text": "It's an unordered list that by default\non this page has nothing in it.", "start": 5888.22, "duration": 3.57}, {"text": "But recall that what the server is\nsending back is a bunch of LI tags.", "start": 5891.79, "duration": 3.36}, {"text": "That's great, because I want to put\nthose LI tags right in between here.", "start": 5895.15, "duration": 3.01}, {"text": "So how do I do that?", "start": 5898.16, "duration": 1.14}, {"text": "I go into the so-called\ninner HTML of the UL tag,", "start": 5899.3, "duration": 2.314}, {"text": "and you might not have seen this before.", "start": 5901.614, "duration": 1.666}, {"text": "But you can change the contents\nof an existing tag inside of it", "start": 5903.28, "duration": 4.83}, {"text": "by using inner HTML and\njust plop the data in there.", "start": 5908.11, "duration": 3.87}, {"text": "And so what's happening is this.", "start": 5911.98, "duration": 2.11}, {"text": "Let me go ahead and open\nup Chrome's inspector.", "start": 5914.09, "duration": 2.27}, {"text": "Reload the page so it's empty.", "start": 5916.36, "duration": 1.56}, {"text": "Let me open up Chrome's inspector.", "start": 5917.92, "duration": 2.16}, {"text": "Go to elements, as is the\ndefault. And notice on this page,", "start": 5920.08, "duration": 3.9}, {"text": "notice that UL tag is opened and\nclosed with nothing inside of it.", "start": 5923.98, "duration": 4.32}, {"text": "The moment, though, I search for\nsomething, watch what happens.", "start": 5928.3, "duration": 3.36}, {"text": "If I search for a, all of a sudden--", "start": 5931.66, "duration": 2.76}, {"text": "ooh, it blinked, it's a little small.", "start": 5934.42, "duration": 2.13}, {"text": "Now there's a little triangle there.", "start": 5936.55, "duration": 1.5}, {"text": "What's inside of it?", "start": 5938.05, "duration": 1.5}, {"text": "All of those LI tags that\ncame from the server.", "start": 5939.55, "duration": 3.58}, {"text": "So with JavaScript, we\nhave this amazing power now", "start": 5943.13, "duration": 2.81}, {"text": "to change what's inside of a web page\nby just asking the server for more data.", "start": 5945.94, "duration": 4.161}, {"text": "So if you've ever used\nFacebook, or you've", "start": 5950.101, "duration": 1.749}, {"text": "used Google Chat, or any websites that's\ndynamically changing every second,", "start": 5951.85, "duration": 3.304}, {"text": "every minute and each time you\nget a message, you can literally,", "start": 5955.154, "duration": 2.666}, {"text": "if you get a little nosy, open up\nChrome's inspector and watch the DOM,", "start": 5957.82, "duration": 3.615}, {"text": "watch this elements tab.", "start": 5961.435, "duration": 1.635}, {"text": "And you'll see new stuff\npopping up every time", "start": 5963.07, "duration": 2.37}, {"text": "you get a message, or a chat, or any\nother such notification on the screen.", "start": 5965.44, "duration": 4.02}, {"text": "Now as an aside, this is a little\nsloppy to be returning HTML,", "start": 5969.46, "duration": 3.424}, {"text": "but let's see how it's done.", "start": 5972.884, "duration": 1.166}, {"text": "Let me go into application.py for\nwords one, which is this example here.", "start": 5974.05, "duration": 5.4}, {"text": "And in application.py, notice\nwhat I'm doing is this.", "start": 5979.45, "duration": 3.66}, {"text": "Rather than return a\nwhole page of results,", "start": 5983.11, "duration": 3.69}, {"text": "I'm returning a template\ncalled search.html.", "start": 5986.8, "duration": 2.79}, {"text": "All of the rest of this\ncode is identical to before.", "start": 5989.59, "duration": 3.01}, {"text": "If I go into my templates and go into\nsearch.html, look how terribly simple", "start": 5992.6, "duration": 5.0}, {"text": "the code is on the server.", "start": 5997.6, "duration": 1.44}, {"text": "If all you want to do is spit\nout a bunch of list items,", "start": 5999.04, "duration": 2.97}, {"text": "this is all you need.", "start": 6002.01, "duration": 0.88}, {"text": "There's no template.", "start": 6002.89, "duration": 0.68}, {"text": "Like there's no extends layout because\nyou're not returning a whole web page,", "start": 6003.57, "duration": 3.208}, {"text": "you're returning a tiny,\ntiny, tiny fragment of HTML.", "start": 6006.778, "duration": 4.652}, {"text": "But this is arguably a little\nsloppy, because there's", "start": 6011.43, "duration": 3.06}, {"text": "a lot of redundancy\nin what's coming back.", "start": 6014.49, "duration": 2.04}, {"text": "If I look at this tag that's\ncoming back from the server,", "start": 6016.53, "duration": 2.672}, {"text": "what is obviously redundant about all\nof this information that's coming back?", "start": 6019.202, "duration": 3.208}, {"text": "And if I look at the Network tab,\nyou really see it under response.", "start": 6022.41, "duration": 3.13}, {"text": "What's redundant?", "start": 6025.54, "duration": 1.033}, {"text": "AUDIENCE: You're doing a bunch of calls\nto the same address and to the same--", "start": 6026.573, "duration": 3.234}, {"text": "DAVID MALAN: This was just because I\nhit some, like, zoom in and zoom out,", "start": 6029.807, "duration": 3.083}, {"text": "so it pretended to\nmake multiple requests.", "start": 6032.89, "duration": 1.75}, {"text": "So red herring there.", "start": 6034.64, "duration": 1.19}, {"text": "Focus only on this part here.", "start": 6035.83, "duration": 1.89}, {"text": "What's redundant about all\nof the data coming back?", "start": 6037.72, "duration": 3.52}, {"text": "It's just keeps saying list\nitem, word, close list item.", "start": 6041.24, "duration": 2.6}, {"text": "List item, word, clothes list item.", "start": 6043.84, "duration": 1.8}, {"text": "I mean come on, just use\na more efficient syntax.", "start": 6045.64, "duration": 2.76}, {"text": "Just separate things with commas\nor something lighter weight.", "start": 6048.4, "duration": 3.22}, {"text": "This is sending way many bytes.", "start": 6051.62, "duration": 1.52}, {"text": "I mean, look.", "start": 6053.14, "duration": 0.6}, {"text": "There's thousands of bytes.", "start": 6053.74, "duration": 1.74}, {"text": "This is kilobytes by\ndefinition of information", "start": 6055.48, "duration": 3.15}, {"text": "that we're sending just\nto send open bracket,", "start": 6058.63, "duration": 2.0}, {"text": "LI close bracket again and again.", "start": 6060.63, "duration": 1.57}, {"text": "This is not very efficient.", "start": 6062.2, "duration": 1.21}, {"text": "And so the world actually has\nadopted a different approach,", "start": 6063.41, "duration": 3.02}, {"text": "and I'm going to show this in words 2\nthat actually returns something called", "start": 6066.43, "duration": 4.17}, {"text": "JavaScript Object Notation, which is\na more succinct representation of this", "start": 6070.6, "duration": 4.44}, {"text": "as follows.", "start": 6075.04, "duration": 0.67}, {"text": "Let me go into words\n2, run Flask in there.", "start": 6075.71, "duration": 4.76}, {"text": "Search for the same kind\nof thing and then watch", "start": 6080.47, "duration": 2.284}, {"text": "what happens over the\nnetwork panel this time.", "start": 6082.754, "duration": 1.916}, {"text": "When I search for A, immediately\nget back the same visual result.", "start": 6084.67, "duration": 3.85}, {"text": "But if I look at this search\nquery, now look what comes back.", "start": 6088.52, "duration": 3.26}, {"text": "I claim that this is a much more compact\nrepresentation of the same information.", "start": 6091.78, "duration": 3.467}, {"text": "It's a little annoying\nthat there's double quotes,", "start": 6095.247, "duration": 2.083}, {"text": "because those are a little redundant.", "start": 6097.33, "duration": 1.08}, {"text": "But at least double quotes\nare a lot more efficient", "start": 6098.41, "duration": 2.124}, {"text": "than open bracket, LI, closed bracket,\nand then the opposite at the end.", "start": 6100.534, "duration": 3.136}, {"text": "So this is what's called\nJavaScript Object Notation.", "start": 6103.67, "duration": 2.63}, {"text": "And as this square\nbracket here and thousands", "start": 6106.3, "duration": 3.12}, {"text": "of words later the square\nbracket on the end implies,", "start": 6109.42, "duration": 3.0}, {"text": "this is a JavaScript array that's\nbeing sent back from the server.", "start": 6112.42, "duration": 4.69}, {"text": "So the only thing that's\nchanged here is as follows.", "start": 6117.11, "duration": 2.61}, {"text": "In words 2, this example,\nnotice that I don't even", "start": 6119.72, "duration": 4.43}, {"text": "need to return a template anymore.", "start": 6124.15, "duration": 2.46}, {"text": "This code is the same as\nthe past two examples.", "start": 6126.61, "duration": 1.96}, {"text": "This is how I'm searching\n140,000 words quickly.", "start": 6128.57, "duration": 2.84}, {"text": "But if I include now a fancier\nfunction from Flask called jsonify--", "start": 6131.41, "duration": 5.18}, {"text": "which is not really a word.", "start": 6136.59, "duration": 1.33}, {"text": "But jsonify, that takes\nany data structure", "start": 6137.92, "duration": 3.0}, {"text": "you have data in like this\nlist of words, the matches,", "start": 6140.92, "duration": 3.6}, {"text": "and it turns it into that text based\nrepresentation with quotes and commas.", "start": 6144.52, "duration": 3.642}, {"text": "And you don't even have to\nwrite a template yourself.", "start": 6148.162, "duration": 2.208}, {"text": "And indeed, I got rid of search.html.", "start": 6150.37, "duration": 2.7}, {"text": "The only thing you have to do to\ngive yourself access to this feature", "start": 6153.07, "duration": 2.88}, {"text": "is import not just render\ntemplate, and request,", "start": 6155.95, "duration": 3.48}, {"text": "and Flask, but jsonify, as\nwell, from the Flask library.", "start": 6159.43, "duration": 5.36}, {"text": "Which is just one more feature.", "start": 6164.79, "duration": 2.61}, {"text": "Any questions on that before we bring\nit all together with one final example?", "start": 6167.4, "duration": 5.63}, {"text": "Yeah?", "start": 6173.03, "duration": 0.653}, {"text": "AUDIENCE: Can double quotes\nbreak that into [INAUDIBLE]??", "start": 6173.683, "duration": 3.457}, {"text": "DAVID MALAN: Can double\nquotes break that?", "start": 6177.14, "duration": 2.19}, {"text": "Good question, great instincts.", "start": 6179.33, "duration": 1.65}, {"text": "No because the author of\njsonify was smart about this.", "start": 6180.98, "duration": 3.72}, {"text": "And if that author notices a quote\nlike an apostrophe, or like something", "start": 6184.7, "duration": 5.01}, {"text": "in your own name that has a quote,\nit will escape it in some way,", "start": 6189.71, "duration": 4.56}, {"text": "usually with a backslash.", "start": 6194.27, "duration": 1.23}, {"text": "Good instincts.", "start": 6195.5, "duration": 0.78}, {"text": "But that's why you probably wouldn't\nwant to write this code yourself", "start": 6196.28, "duration": 2.88}, {"text": "because then you have to think of\nall of those corner cases as opposed", "start": 6199.16, "duration": 2.916}, {"text": "to focusing on the parts you care about.", "start": 6202.076, "duration": 2.964}, {"text": "All right, so there's one final example.", "start": 6205.04, "duration": 2.23}, {"text": "And it's perhaps to come full circle\nhere, do we even need the server?", "start": 6207.27, "duration": 5.43}, {"text": "These 140,000 words right now\nare in a file called large.", "start": 6212.7, "duration": 3.72}, {"text": "My web application loads that file\ninto memory and then searches it.", "start": 6216.42, "duration": 3.3}, {"text": "But who else could search\nover a big list of files?", "start": 6219.72, "duration": 3.12}, {"text": "Where else could we put this logic?", "start": 6225.69, "duration": 2.98}, {"text": "The browser, right?", "start": 6228.67, "duration": 0.96}, {"text": "Browser gives you JavaScript,\nJavaScript's a language,", "start": 6229.63, "duration": 2.52}, {"text": "languages can search things.", "start": 6232.15, "duration": 1.92}, {"text": "So let me try this instead.", "start": 6234.07, "duration": 1.89}, {"text": "In our words 3 example here,\nnotice that I've got one new file.", "start": 6235.96, "duration": 4.71}, {"text": "In advance, you know, I took my big text\nfile that just had one word per line", "start": 6240.67, "duration": 3.78}, {"text": "and I put it into a standard\nformat just because it", "start": 6244.45, "duration": 2.22}, {"text": "makes my life a little easier.", "start": 6246.67, "duration": 1.68}, {"text": "And I called it large.json.", "start": 6248.35, "duration": 2.1}, {"text": "And in there, actually, where if I open\nup this folder, you'll see large.js,", "start": 6250.45, "duration": 5.73}, {"text": "which is a second file,\nthis time a JavaScript file,", "start": 6256.18, "duration": 3.9}, {"text": "in which I've just declared a\nJavaScript array of all 140,000 words", "start": 6260.08, "duration": 6.0}, {"text": "for better or for worse.", "start": 6266.08, "duration": 1.09}, {"text": "I just put them into a\nslightly different format", "start": 6267.17, "duration": 2.0}, {"text": "with commas, and quotes,\nand square brackets,", "start": 6269.17, "duration": 2.22}, {"text": "and I gave this whole thing a variable\nname at the very top of the file.", "start": 6271.39, "duration": 4.24}, {"text": "Now, why is this useful?", "start": 6275.63, "duration": 1.2}, {"text": "Well, if I go into\nindex.html, notice that there", "start": 6276.83, "duration": 2.84}, {"text": "is no more application.py or\ntemplates for this example whatsoever.", "start": 6279.67, "duration": 3.57}, {"text": "We've gotten rid of\nPython entirely, I don't", "start": 6283.24, "duration": 2.22}, {"text": "know if it's for the better\nor worse, but we'll now see.", "start": 6285.46, "duration": 2.67}, {"text": "So in this file, notice we\nhave an input tag as before,", "start": 6288.13, "duration": 3.81}, {"text": "a placeholder for all of\nthe ULs, but we're also", "start": 6291.94, "duration": 3.6}, {"text": "now including this large.js file.", "start": 6295.54, "duration": 2.37}, {"text": "Thereby telling the browser\nplease download all 140,000 words", "start": 6297.91, "duration": 4.38}, {"text": "and then search them locally.", "start": 6302.29, "duration": 2.25}, {"text": "How am I going to search it locally?", "start": 6304.54, "duration": 1.65}, {"text": "I've essentially converted the\nlanguage I wrote in Python a bit", "start": 6306.19, "duration": 2.94}, {"text": "ago into JavaScript as follows.", "start": 6309.13, "duration": 2.86}, {"text": "Here says the browser go get me the\ninput that the user can type into.", "start": 6311.99, "duration": 4.64}, {"text": "This tells the browser, go\nahead and listen for key up.", "start": 6316.63, "duration": 2.67}, {"text": "Whenever that happens,\nplease call this function", "start": 6319.3, "duration": 2.001}, {"text": "which has no name, because I want\nyou to just call it immediately,", "start": 6321.301, "duration": 2.748}, {"text": "I don't need its name.", "start": 6324.049, "duration": 1.191}, {"text": "This function is defined\nby these several lines.", "start": 6325.24, "duration": 2.62}, {"text": "These several lines have to do\na bit more work than before.", "start": 6327.86, "duration": 2.51}, {"text": "Because before the server\nwas doing all the hard work", "start": 6330.37, "duration": 2.22}, {"text": "sending back all of the data, and\nwe just jammed it into the web page.", "start": 6332.59, "duration": 3.82}, {"text": "But here I'm going to build up\na list a little more manually.", "start": 6336.41, "duration": 4.01}, {"text": "So I'm going to let a\nvariable called html", "start": 6340.42, "duration": 1.89}, {"text": "equals quote unquote, because I want\nto build up the unordered list myself.", "start": 6342.31, "duration": 3.69}, {"text": "Then if the human, indeed,\ntypes something in--", "start": 6346.0, "duration": 2.01}, {"text": "so if their input is non null, so\nif they type at least one character,", "start": 6348.01, "duration": 3.99}, {"text": "do the following.", "start": 6352.0, "duration": 1.172}, {"text": "This is weird in\nJavaScript, but when you", "start": 6353.172, "duration": 1.708}, {"text": "iterate over an array in JavaScript,\nyou use the preposition of not in.", "start": 6354.88, "duration": 4.56}, {"text": "So for word of words, go\nahead and do the following.", "start": 6359.44, "duration": 4.17}, {"text": "If the current word starts with--\nnotice the capitalized w-- also", "start": 6363.61, "duration": 4.08}, {"text": "different from Python, but same\nidea, just different spelling--", "start": 6367.69, "duration": 2.91}, {"text": "if the word I'm iterating over starts\nwith whatever the human inputted,", "start": 6370.6, "duration": 4.02}, {"text": "we found a match.", "start": 6374.62, "duration": 1.29}, {"text": "Go ahead and append\nto this HTML variable,", "start": 6375.91, "duration": 2.85}, {"text": "open bracket LI closed bracket,\nconcatenate the word to it,", "start": 6378.76, "duration": 3.51}, {"text": "and then close bracket, as well.", "start": 6382.27, "duration": 2.79}, {"text": "So I'm constructing a variable\nin the browser's memory", "start": 6385.06, "duration": 3.39}, {"text": "containing HTML that I want to\njam into the DOM ultimately.", "start": 6388.45, "duration": 3.91}, {"text": "How do I do that.", "start": 6392.36, "duration": 0.9}, {"text": "Well, at the very last line I say\nto the document, select the UL tag,", "start": 6393.26, "duration": 3.98}, {"text": "go inside of its HTML,\nand change whatever", "start": 6397.24, "duration": 2.66}, {"text": "is there to this string of HTML,\nwhich is presumably 0 or more LI tags", "start": 6399.9, "duration": 6.17}, {"text": "now based on those search results.", "start": 6406.07, "duration": 1.89}, {"text": "So now let me go back to words 1--", "start": 6407.96, "duration": 2.891}, {"text": "rather, let me go back\nto this example here.", "start": 6410.851, "duration": 2.659}, {"text": "Let me go ahead and serve this up.", "start": 6413.51, "duration": 1.6}, {"text": "It's not Flask anymore, so I have to\nuse our server from two weeks ago,", "start": 6415.11, "duration": 3.44}, {"text": "HTTP server, to serve up HTML.", "start": 6418.55, "duration": 2.66}, {"text": "Let me go ahead and reload the screen\nhere, open up index.html, and now", "start": 6421.21, "duration": 4.92}, {"text": "notice we're good to go.", "start": 6426.13, "duration": 2.439}, {"text": "What do you want to search for?", "start": 6428.569, "duration": 1.291}, {"text": "A, B, C. And let's open\nup the Network tab.", "start": 6429.86, "duration": 5.87}, {"text": "Inspect, Network.", "start": 6435.73, "duration": 1.639}, {"text": "Let's see what happens\nevery time I search.", "start": 6437.369, "duration": 1.791}, {"text": "Z, Y, Q, A. Why is there\nno network traffic now?", "start": 6439.16, "duration": 7.762}, {"text": "AUDIENCE: There's no network traffic.", "start": 6446.922, "duration": 1.688}, {"text": "DAVID MALAN: OK, but that's what I said.", "start": 6448.61, "duration": 1.666}, {"text": "But why is there no network traffic?", "start": 6450.276, "duration": 2.344}, {"text": "It's not sending any routes, it's\nnot talking to a backend server.", "start": 6452.62, "duration": 2.91}, {"text": "Why?", "start": 6455.53, "duration": 0.5}, {"text": "Because all the data I\nmight need is already local.", "start": 6456.03, "duration": 2.95}, {"text": "So mixed messages here, too.", "start": 6458.98, "duration": 2.19}, {"text": "Which is better, which is right?", "start": 6461.17, "duration": 1.717}, {"text": "What's the takeaway?", "start": 6462.887, "duration": 0.833}, {"text": "How do you think about this?", "start": 6463.72, "duration": 1.05}, {"text": "Because now, whereas a lot of our\nprograms early on in the semester", "start": 6464.77, "duration": 2.64}, {"text": "were relatively small even though\nthey didn't feel that way at the time,", "start": 6467.41, "duration": 3.0}, {"text": "now we have even more\ndesign possibilities.", "start": 6470.41, "duration": 2.52}, {"text": "And the answers are\nincreasingly non-obvious,", "start": 6472.93, "duration": 2.13}, {"text": "and this is why you as\nprogrammers will just", "start": 6475.06, "duration": 1.95}, {"text": "get more comfortable with\nconventions, you'll maybe", "start": 6477.01, "duration": 2.222}, {"text": "practice what you've\nseen preached first,", "start": 6479.232, "duration": 1.708}, {"text": "then you'll decide as you\nmight be already saying,", "start": 6480.94, "duration": 1.95}, {"text": "I don't like that, I'm going\nto do this some other way.", "start": 6482.89, "duration": 2.291}, {"text": "So how do you think about which of\nthese several words examples is best?", "start": 6485.181, "duration": 3.349}, {"text": "Version 0 was let the\nserver do all the work", "start": 6488.53, "duration": 2.55}, {"text": "and just send back a full new page\nof results like Google in 1999 did.", "start": 6491.08, "duration": 4.17}, {"text": "Then version 1, we added\na bit of JavaScript", "start": 6495.25, "duration": 3.06}, {"text": "that used jQuery the library\nto talk to the server using", "start": 6498.31, "duration": 3.57}, {"text": "a technique called Ajax--", "start": 6501.88, "duration": 1.29}, {"text": "asynchronous JavaScript and XML--", "start": 6503.17, "duration": 1.47}, {"text": "but that just means go get me more\ndata and we returned LI elements.", "start": 6504.64, "duration": 3.45}, {"text": "Then we decided that's\na little sloppy, don't", "start": 6508.09, "duration": 1.89}, {"text": "seem to send me all\nthese useless tags, just", "start": 6509.98, "duration": 1.95}, {"text": "send a comma separated list of words.", "start": 6511.93, "duration": 2.25}, {"text": "That was version 2.", "start": 6514.18, "duration": 1.157}, {"text": "And then this last version\ngets rid of all of that", "start": 6515.337, "duration": 2.083}, {"text": "and just sends all the\nwords to the browser", "start": 6517.42, "duration": 1.791}, {"text": "and lets it deal with it entirely.", "start": 6519.211, "duration": 4.139}, {"text": "Who likes which best, 0, 1, 2, or 3?", "start": 6523.35, "duration": 4.97}, {"text": "What do you think?", "start": 6528.32, "duration": 0.916}, {"text": "AUDIENCE: So if you aren't\nsupposed to trust the user in case", "start": 6529.236, "duration": 3.434}, {"text": "they turn off the JavaScript, then\ntheir decision of the functionality", "start": 6532.67, "duration": 3.27}, {"text": "of the website works.", "start": 6535.94, "duration": 1.65}, {"text": "DAVID MALAN: That's a good trade-off.", "start": 6537.59, "duration": 1.541}, {"text": "So if the user turns off JavaScript, 3--", "start": 6539.131, "duration": 3.243}, {"text": "OK, it won't offend anyone--", "start": 6542.374, "duration": 1.166}, {"text": "3 2, and 1 won't work anymore\nbecause JavaScript's disabled.", "start": 6543.54, "duration": 3.99}, {"text": "Now, do you care about that?", "start": 6547.53, "duration": 1.55}, {"text": "Maybe not.", "start": 6549.08, "duration": 0.66}, {"text": "It's a small number of\nusers on the internet who", "start": 6549.74, "duration": 2.177}, {"text": "are so concerned with this they\njust turn off JavaScript altogether,", "start": 6551.917, "duration": 2.833}, {"text": "and the reality is so many websites just\nbreak these days without JavaScript.", "start": 6554.75, "duration": 3.208}, {"text": "That might be a reasonable\ncost of doing business.", "start": 6557.958, "duration": 2.197}, {"text": "Other thoughts?", "start": 6560.155, "duration": 0.625}, {"text": "Yeah?", "start": 6560.78, "duration": 0.646}, {"text": "AUDIENCE: Is the last\nversion the fastest?", "start": 6561.426, "duration": 1.904}, {"text": "DAVID MALAN: Is the last\nversion the fastest?", "start": 6563.33, "duration": 1.874}, {"text": "I don't know, how could we assess that?", "start": 6565.204, "duration": 4.166}, {"text": "Yeah, I mean, we can\nliterally measure it.", "start": 6569.37, "duration": 1.75}, {"text": "And honestly, built into Chrome in\nother tabs that I've not even clicked on", "start": 6571.12, "duration": 3.372}, {"text": "are a lot of performance\ntools where you can actually", "start": 6574.492, "duration": 2.208}, {"text": "monitor how long everything's taking.", "start": 6576.7, "duration": 1.869}, {"text": "This is called benchmarking\nmore generally,", "start": 6578.569, "duration": 1.791}, {"text": "and this is what you did\nessentially in the speller problems", "start": 6580.36, "duration": 2.25}, {"text": "that even though we wrote the\ncode that timed everything", "start": 6582.61, "duration": 2.04}, {"text": "and measured everything,\nto answer that question,", "start": 6584.65, "duration": 2.041}, {"text": "you could just try timing\nevery one of the examples", "start": 6586.691, "duration": 3.118}, {"text": "and then decide for yourself\nwhich is best, sure.", "start": 6589.809, "duration": 2.041}, {"text": "Yeah?", "start": 6591.85, "duration": 0.84}, {"text": "AUDIENCE: The last thing I\nhave with problematic issue", "start": 6592.69, "duration": 2.25}, {"text": "is like my phone's old, and it\ndoesn't have a lot of memory,", "start": 6594.94, "duration": 3.055}, {"text": "and I may not have the\nfastest plan on Earth.", "start": 6597.995, "duration": 2.555}, {"text": "So you might be charging me more data,\nyou might be slowing my phone down.", "start": 6600.55, "duration": 5.509}, {"text": "DAVID MALAN: Very reasonable concern.", "start": 6606.059, "duration": 1.541}, {"text": "Let me go into our dictionary file\nhere and list the size of this.", "start": 6607.6, "duration": 5.47}, {"text": "That large.js file is 2.2\nmegabytes, which on mobile devices,", "start": 6613.07, "duration": 4.68}, {"text": "especially in places where your signal\nis slow, or your bytes are expensive,", "start": 6617.75, "duration": 3.576}, {"text": "or you only have\nintermittent access, I mean,", "start": 6621.326, "duration": 1.874}, {"text": "that's kind of obnoxious to\nsend two megabytes to the user", "start": 6623.2, "duration": 3.03}, {"text": "if you can avoid it, especially when\nyou can send only the subset of results,", "start": 6626.23, "duration": 4.2}, {"text": "a few kilobytes maybe,\nof matches instead.", "start": 6630.43, "duration": 2.962}, {"text": "So a very reasonable concern.", "start": 6633.392, "duration": 1.208}, {"text": "Cost, user experience, performance.", "start": 6634.6, "duration": 1.765}, {"text": "Other thoughts?", "start": 6636.365, "duration": 0.625}, {"text": "Which is better for people on university\nand corporate campuses who tend", "start": 6639.65, "duration": 3.24}, {"text": "to have really good internet access?", "start": 6642.89, "duration": 3.49}, {"text": "Say again?", "start": 6646.38, "duration": 0.76}, {"text": "3, OK.", "start": 6647.14, "duration": 0.83}, {"text": "But what if it's not\n140,000 words, but it's", "start": 6647.97, "duration": 2.04}, {"text": "like a billion pictures of\ncats that Google indexes?", "start": 6650.01, "duration": 4.59}, {"text": "Or hundreds or thousands of friends\nand all of their profile data?", "start": 6654.6, "duration": 3.431}, {"text": "Like at some point there's\nthis inflection point", "start": 6658.031, "duration": 1.999}, {"text": "where too much data, right?", "start": 6660.03, "duration": 1.79}, {"text": "It's not reasonable, it's too much.", "start": 6661.82, "duration": 1.459}, {"text": "You don't want to just get a\ncopy of your corporate database", "start": 6663.279, "duration": 2.499}, {"text": "to every one of your users just\nfor them to search more locally.", "start": 6665.778, "duration": 2.682}, {"text": "So again, these are the\nnon-obvious questions.", "start": 6668.46, "duration": 1.62}, {"text": "And one of the goals of,\nfrankly, the final project", "start": 6670.08, "duration": 2.29}, {"text": "if you do something web based, or\nmobile based, or C based, or anything,", "start": 6672.37, "duration": 3.11}, {"text": "is all of these questions\nnow boil down to you.", "start": 6675.48, "duration": 2.1}, {"text": "Like we have no\nwell-defined answers in mind", "start": 6677.58, "duration": 2.55}, {"text": "as to what your final project should\ndo and how it should do it best.", "start": 6680.13, "duration": 3.18}, {"text": "But in the weeks ahead, you'll be\npre-proposing some project ideas,", "start": 6683.31, "duration": 2.85}, {"text": "proposing an actual project idea, and\nthen designing and implementing this.", "start": 6686.16, "duration": 3.256}, {"text": "And you, too, will\nprobably feel this tension", "start": 6689.416, "duration": 1.874}, {"text": "where the answer is not always obvious,\nyour teaching fellow might not even", "start": 6691.29, "duration": 3.12}, {"text": "know how to answer your\nquestion, because he or she will", "start": 6694.41, "duration": 1.68}, {"text": "have thoughts of their own.", "start": 6696.09, "duration": 1.124}, {"text": "But it's ultimately up to you.", "start": 6697.214, "duration": 1.306}, {"text": "And we're now at the point\nof a level of coding maturity", "start": 6698.52, "duration": 3.81}, {"text": "where we're taking the training\nwheels off and more of the decisions", "start": 6702.33, "duration": 2.91}, {"text": "are now left to you.", "start": 6705.24, "duration": 1.86}, {"text": "Let's end here.", "start": 6707.1, "duration": 1.02}, {"text": "Stick around for one on\none questions, and we'll", "start": 6708.12, "duration": 1.999}, {"text": "see you next week for databases.", "start": 6710.119, "duration": 2.101}]